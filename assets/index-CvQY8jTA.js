(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function kg(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var up={exports:{}},ru={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wT;function CI(){if(wT)return ru;wT=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var d in a)d!=="key"&&(l[d]=a[d])}else l=a;return a=l.ref,{$$typeof:e,type:r,key:c,ref:a!==void 0?a:null,props:l}}return ru.Fragment=t,ru.jsx=n,ru.jsxs=n,ru}var RT;function II(){return RT||(RT=1,up.exports=CI()),up.exports}var k=II(),cp={exports:{}},Ct={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CT;function DI(){if(CT)return Ct;CT=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.iterator;function S(V){return V===null||typeof V!="object"?null:(V=_&&V[_]||V["@@iterator"],typeof V=="function"?V:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,B={};function O(V,it,ut){this.props=V,this.context=it,this.refs=B,this.updater=ut||w}O.prototype.isReactComponent={},O.prototype.setState=function(V,it){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,it,"setState")},O.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function U(){}U.prototype=O.prototype;function X(V,it,ut){this.props=V,this.context=it,this.refs=B,this.updater=ut||w}var H=X.prototype=new U;H.constructor=X,C(H,O.prototype),H.isPureReactComponent=!0;var st=Array.isArray,nt={H:null,A:null,T:null,S:null,V:null},ct=Object.prototype.hasOwnProperty;function P(V,it,ut,ot,pt,xt){return ut=xt.ref,{$$typeof:e,type:V,key:it,ref:ut!==void 0?ut:null,props:xt}}function R(V,it){return P(V.type,it,void 0,void 0,void 0,V.props)}function I(V){return typeof V=="object"&&V!==null&&V.$$typeof===e}function M(V){var it={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(ut){return it[ut]})}var j=/\/+/g;function F(V,it){return typeof V=="object"&&V!==null&&V.key!=null?M(""+V.key):it.toString(36)}function x(){}function Te(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(x,x):(V.status="pending",V.then(function(it){V.status==="pending"&&(V.status="fulfilled",V.value=it)},function(it){V.status==="pending"&&(V.status="rejected",V.reason=it)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function se(V,it,ut,ot,pt){var xt=typeof V;(xt==="undefined"||xt==="boolean")&&(V=null);var bt=!1;if(V===null)bt=!0;else switch(xt){case"bigint":case"string":case"number":bt=!0;break;case"object":switch(V.$$typeof){case e:case t:bt=!0;break;case y:return bt=V._init,se(bt(V._payload),it,ut,ot,pt)}}if(bt)return pt=pt(V),bt=ot===""?"."+F(V,0):ot,st(pt)?(ut="",bt!=null&&(ut=bt.replace(j,"$&/")+"/"),se(pt,it,ut,"",function(ii){return ii})):pt!=null&&(I(pt)&&(pt=R(pt,ut+(pt.key==null||V&&V.key===pt.key?"":(""+pt.key).replace(j,"$&/")+"/")+bt)),it.push(pt)),1;bt=0;var Ve=ot===""?".":ot+":";if(st(V))for(var te=0;te<V.length;te++)ot=V[te],xt=Ve+F(ot,te),bt+=se(ot,it,ut,xt,pt);else if(te=S(V),typeof te=="function")for(V=te.call(V),te=0;!(ot=V.next()).done;)ot=ot.value,xt=Ve+F(ot,te++),bt+=se(ot,it,ut,xt,pt);else if(xt==="object"){if(typeof V.then=="function")return se(Te(V),it,ut,ot,pt);throw it=String(V),Error("Objects are not valid as a React child (found: "+(it==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":it)+"). If you meant to render a collection of children, use an array instead.")}return bt}function W(V,it,ut){if(V==null)return V;var ot=[],pt=0;return se(V,ot,"","",function(xt){return it.call(ut,xt,pt++)}),ot}function at(V){if(V._status===-1){var it=V._result;it=it(),it.then(function(ut){(V._status===0||V._status===-1)&&(V._status=1,V._result=ut)},function(ut){(V._status===0||V._status===-1)&&(V._status=2,V._result=ut)}),V._status===-1&&(V._status=0,V._result=it)}if(V._status===1)return V._result.default;throw V._result}var ft=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var it=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(it))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)};function Lt(){}return Ct.Children={map:W,forEach:function(V,it,ut){W(V,function(){it.apply(this,arguments)},ut)},count:function(V){var it=0;return W(V,function(){it++}),it},toArray:function(V){return W(V,function(it){return it})||[]},only:function(V){if(!I(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},Ct.Component=O,Ct.Fragment=n,Ct.Profiler=a,Ct.PureComponent=X,Ct.StrictMode=r,Ct.Suspense=m,Ct.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=nt,Ct.__COMPILER_RUNTIME={__proto__:null,c:function(V){return nt.H.useMemoCache(V)}},Ct.cache=function(V){return function(){return V.apply(null,arguments)}},Ct.cloneElement=function(V,it,ut){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var ot=C({},V.props),pt=V.key,xt=void 0;if(it!=null)for(bt in it.ref!==void 0&&(xt=void 0),it.key!==void 0&&(pt=""+it.key),it)!ct.call(it,bt)||bt==="key"||bt==="__self"||bt==="__source"||bt==="ref"&&it.ref===void 0||(ot[bt]=it[bt]);var bt=arguments.length-2;if(bt===1)ot.children=ut;else if(1<bt){for(var Ve=Array(bt),te=0;te<bt;te++)Ve[te]=arguments[te+2];ot.children=Ve}return P(V.type,pt,void 0,void 0,xt,ot)},Ct.createContext=function(V){return V={$$typeof:c,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:l,_context:V},V},Ct.createElement=function(V,it,ut){var ot,pt={},xt=null;if(it!=null)for(ot in it.key!==void 0&&(xt=""+it.key),it)ct.call(it,ot)&&ot!=="key"&&ot!=="__self"&&ot!=="__source"&&(pt[ot]=it[ot]);var bt=arguments.length-2;if(bt===1)pt.children=ut;else if(1<bt){for(var Ve=Array(bt),te=0;te<bt;te++)Ve[te]=arguments[te+2];pt.children=Ve}if(V&&V.defaultProps)for(ot in bt=V.defaultProps,bt)pt[ot]===void 0&&(pt[ot]=bt[ot]);return P(V,xt,void 0,void 0,null,pt)},Ct.createRef=function(){return{current:null}},Ct.forwardRef=function(V){return{$$typeof:d,render:V}},Ct.isValidElement=I,Ct.lazy=function(V){return{$$typeof:y,_payload:{_status:-1,_result:V},_init:at}},Ct.memo=function(V,it){return{$$typeof:p,type:V,compare:it===void 0?null:it}},Ct.startTransition=function(V){var it=nt.T,ut={};nt.T=ut;try{var ot=V(),pt=nt.S;pt!==null&&pt(ut,ot),typeof ot=="object"&&ot!==null&&typeof ot.then=="function"&&ot.then(Lt,ft)}catch(xt){ft(xt)}finally{nt.T=it}},Ct.unstable_useCacheRefresh=function(){return nt.H.useCacheRefresh()},Ct.use=function(V){return nt.H.use(V)},Ct.useActionState=function(V,it,ut){return nt.H.useActionState(V,it,ut)},Ct.useCallback=function(V,it){return nt.H.useCallback(V,it)},Ct.useContext=function(V){return nt.H.useContext(V)},Ct.useDebugValue=function(){},Ct.useDeferredValue=function(V,it){return nt.H.useDeferredValue(V,it)},Ct.useEffect=function(V,it,ut){var ot=nt.H;if(typeof ut=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ot.useEffect(V,it)},Ct.useId=function(){return nt.H.useId()},Ct.useImperativeHandle=function(V,it,ut){return nt.H.useImperativeHandle(V,it,ut)},Ct.useInsertionEffect=function(V,it){return nt.H.useInsertionEffect(V,it)},Ct.useLayoutEffect=function(V,it){return nt.H.useLayoutEffect(V,it)},Ct.useMemo=function(V,it){return nt.H.useMemo(V,it)},Ct.useOptimistic=function(V,it){return nt.H.useOptimistic(V,it)},Ct.useReducer=function(V,it,ut){return nt.H.useReducer(V,it,ut)},Ct.useRef=function(V){return nt.H.useRef(V)},Ct.useState=function(V){return nt.H.useState(V)},Ct.useSyncExternalStore=function(V,it,ut){return nt.H.useSyncExternalStore(V,it,ut)},Ct.useTransition=function(){return nt.H.useTransition()},Ct.version="19.1.0",Ct}var IT;function Ug(){return IT||(IT=1,cp.exports=DI()),cp.exports}var L=Ug();const la=kg(L);var hp={exports:{}},su={},fp={exports:{}},dp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DT;function xI(){return DT||(DT=1,function(e){function t(W,at){var ft=W.length;W.push(at);t:for(;0<ft;){var Lt=ft-1>>>1,V=W[Lt];if(0<a(V,at))W[Lt]=at,W[ft]=V,ft=Lt;else break t}}function n(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var at=W[0],ft=W.pop();if(ft!==at){W[0]=ft;t:for(var Lt=0,V=W.length,it=V>>>1;Lt<it;){var ut=2*(Lt+1)-1,ot=W[ut],pt=ut+1,xt=W[pt];if(0>a(ot,ft))pt<V&&0>a(xt,ot)?(W[Lt]=xt,W[pt]=ft,Lt=pt):(W[Lt]=ot,W[ut]=ft,Lt=ut);else if(pt<V&&0>a(xt,ft))W[Lt]=xt,W[pt]=ft,Lt=pt;else break t}}return at}function a(W,at){var ft=W.sortIndex-at.sortIndex;return ft!==0?ft:W.id-at.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();e.unstable_now=function(){return c.now()-d}}var m=[],p=[],y=1,_=null,S=3,w=!1,C=!1,B=!1,O=!1,U=typeof setTimeout=="function"?setTimeout:null,X=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;function st(W){for(var at=n(p);at!==null;){if(at.callback===null)r(p);else if(at.startTime<=W)r(p),at.sortIndex=at.expirationTime,t(m,at);else break;at=n(p)}}function nt(W){if(B=!1,st(W),!C)if(n(m)!==null)C=!0,ct||(ct=!0,F());else{var at=n(p);at!==null&&se(nt,at.startTime-W)}}var ct=!1,P=-1,R=5,I=-1;function M(){return O?!0:!(e.unstable_now()-I<R)}function j(){if(O=!1,ct){var W=e.unstable_now();I=W;var at=!0;try{t:{C=!1,B&&(B=!1,X(P),P=-1),w=!0;var ft=S;try{e:{for(st(W),_=n(m);_!==null&&!(_.expirationTime>W&&M());){var Lt=_.callback;if(typeof Lt=="function"){_.callback=null,S=_.priorityLevel;var V=Lt(_.expirationTime<=W);if(W=e.unstable_now(),typeof V=="function"){_.callback=V,st(W),at=!0;break e}_===n(m)&&r(m),st(W)}else r(m);_=n(m)}if(_!==null)at=!0;else{var it=n(p);it!==null&&se(nt,it.startTime-W),at=!1}}break t}finally{_=null,S=ft,w=!1}at=void 0}}finally{at?F():ct=!1}}}var F;if(typeof H=="function")F=function(){H(j)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,Te=x.port2;x.port1.onmessage=j,F=function(){Te.postMessage(null)}}else F=function(){U(j,0)};function se(W,at){P=U(function(){W(e.unstable_now())},at)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(W){W.callback=null},e.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<W?Math.floor(1e3/W):5},e.unstable_getCurrentPriorityLevel=function(){return S},e.unstable_next=function(W){switch(S){case 1:case 2:case 3:var at=3;break;default:at=S}var ft=S;S=at;try{return W()}finally{S=ft}},e.unstable_requestPaint=function(){O=!0},e.unstable_runWithPriority=function(W,at){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var ft=S;S=W;try{return at()}finally{S=ft}},e.unstable_scheduleCallback=function(W,at,ft){var Lt=e.unstable_now();switch(typeof ft=="object"&&ft!==null?(ft=ft.delay,ft=typeof ft=="number"&&0<ft?Lt+ft:Lt):ft=Lt,W){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=ft+V,W={id:y++,callback:at,priorityLevel:W,startTime:ft,expirationTime:V,sortIndex:-1},ft>Lt?(W.sortIndex=ft,t(p,W),n(m)===null&&W===n(p)&&(B?(X(P),P=-1):B=!0,se(nt,ft-Lt))):(W.sortIndex=V,t(m,W),C||w||(C=!0,ct||(ct=!0,F()))),W},e.unstable_shouldYield=M,e.unstable_wrapCallback=function(W){var at=S;return function(){var ft=S;S=at;try{return W.apply(this,arguments)}finally{S=ft}}}}(dp)),dp}var xT;function PI(){return xT||(xT=1,fp.exports=xI()),fp.exports}var mp={exports:{}},Ze={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PT;function MI(){if(PT)return Ze;PT=1;var e=Ug();function t(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,p,y){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:_==null?null:""+_,children:m,containerInfo:p,implementation:y}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Ze.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Ze.createPortal=function(m,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return l(m,p,null,y)},Ze.flushSync=function(m){var p=c.T,y=r.p;try{if(c.T=null,r.p=2,m)return m()}finally{c.T=p,r.p=y,r.d.f()}},Ze.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(m,p))},Ze.prefetchDNS=function(m){typeof m=="string"&&r.d.D(m)},Ze.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var y=p.as,_=d(y,p.crossOrigin),S=typeof p.integrity=="string"?p.integrity:void 0,w=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?r.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:_,integrity:S,fetchPriority:w}):y==="script"&&r.d.X(m,{crossOrigin:_,integrity:S,fetchPriority:w,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Ze.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=d(p.as,p.crossOrigin);r.d.M(m,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(m)},Ze.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,_=d(y,p.crossOrigin);r.d.L(m,y,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Ze.preloadModule=function(m,p){if(typeof m=="string")if(p){var y=d(p.as,p.crossOrigin);r.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(m)},Ze.requestFormReset=function(m){r.d.r(m)},Ze.unstable_batchedUpdates=function(m,p){return m(p)},Ze.useFormState=function(m,p,y){return c.H.useFormState(m,p,y)},Ze.useFormStatus=function(){return c.H.useHostTransitionStatus()},Ze.version="19.1.0",Ze}var MT;function OI(){if(MT)return mp.exports;MT=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),mp.exports=MI(),mp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OT;function VI(){if(OT)return su;OT=1;var e=PI(),t=Ug(),n=OI();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var s=i,o=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(o=s.return),i=s.return;while(i)}return s.tag===3?o:null}function c(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function d(i){if(l(i)!==i)throw Error(r(188))}function m(i){var s=i.alternate;if(!s){if(s=l(i),s===null)throw Error(r(188));return s!==i?null:i}for(var o=i,u=s;;){var f=o.return;if(f===null)break;var g=f.alternate;if(g===null){if(u=f.return,u!==null){o=u;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===o)return d(f),i;if(g===u)return d(f),s;g=g.sibling}throw Error(r(188))}if(o.return!==u.return)o=f,u=g;else{for(var E=!1,A=f.child;A;){if(A===o){E=!0,o=f,u=g;break}if(A===u){E=!0,u=f,o=g;break}A=A.sibling}if(!E){for(A=g.child;A;){if(A===o){E=!0,o=g,u=f;break}if(A===u){E=!0,u=g,o=f;break}A=A.sibling}if(!E)throw Error(r(189))}}if(o.alternate!==u)throw Error(r(190))}if(o.tag!==3)throw Error(r(188));return o.stateNode.current===o?i:s}function p(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=p(i),s!==null)return s;i=i.sibling}return null}var y=Object.assign,_=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),U=Symbol.for("react.provider"),X=Symbol.for("react.consumer"),H=Symbol.for("react.context"),st=Symbol.for("react.forward_ref"),nt=Symbol.for("react.suspense"),ct=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),j=Symbol.iterator;function F(i){return i===null||typeof i!="object"?null:(i=j&&i[j]||i["@@iterator"],typeof i=="function"?i:null)}var x=Symbol.for("react.client.reference");function Te(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===x?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case C:return"Fragment";case O:return"Profiler";case B:return"StrictMode";case nt:return"Suspense";case ct:return"SuspenseList";case I:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case w:return"Portal";case H:return(i.displayName||"Context")+".Provider";case X:return(i._context.displayName||"Context")+".Consumer";case st:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case P:return s=i.displayName||null,s!==null?s:Te(i.type)||"Memo";case R:s=i._payload,i=i._init;try{return Te(i(s))}catch{}}return null}var se=Array.isArray,W=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,at=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ft={pending:!1,data:null,method:null,action:null},Lt=[],V=-1;function it(i){return{current:i}}function ut(i){0>V||(i.current=Lt[V],Lt[V]=null,V--)}function ot(i,s){V++,Lt[V]=i.current,i.current=s}var pt=it(null),xt=it(null),bt=it(null),Ve=it(null);function te(i,s){switch(ot(bt,s),ot(xt,i),ot(pt,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?J0(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=J0(s),i=tT(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ut(pt),ot(pt,i)}function ii(){ut(pt),ut(xt),ut(bt)}function Tr(i){i.memoizedState!==null&&ot(Ve,i);var s=pt.current,o=tT(s,i.type);s!==o&&(ot(xt,i),ot(pt,o))}function Ni(i){xt.current===i&&(ut(pt),ut(xt)),Ve.current===i&&(ut(Ve),Jl._currentValue=ft)}var _s=Object.prototype.hasOwnProperty,Ts=e.unstable_scheduleCallback,Es=e.unstable_cancelCallback,Xo=e.unstable_shouldYield,fc=e.unstable_requestPaint,Rn=e.unstable_now,ud=e.unstable_getCurrentPriorityLevel,Wo=e.unstable_ImmediatePriority,Sa=e.unstable_UserBlockingPriority,Ss=e.unstable_NormalPriority,cd=e.unstable_LowPriority,Aa=e.unstable_IdlePriority,Zo=e.log,dc=e.unstable_setDisableYieldValue,ce=null,Kt=null;function gn(i){if(typeof Zo=="function"&&dc(i),Kt&&typeof Kt.setStrictMode=="function")try{Kt.setStrictMode(ce,i)}catch{}}var Xe=Math.clz32?Math.clz32:As,mc=Math.log,hd=Math.LN2;function As(i){return i>>>=0,i===0?32:31-(mc(i)/hd|0)|0}var bs=256,ws=4194304;function Kn(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function ba(i,s,o){var u=i.pendingLanes;if(u===0)return 0;var f=0,g=i.suspendedLanes,E=i.pingedLanes;i=i.warmLanes;var A=u&134217727;return A!==0?(u=A&~g,u!==0?f=Kn(u):(E&=A,E!==0?f=Kn(E):o||(o=A&~i,o!==0&&(f=Kn(o))))):(A=u&~g,A!==0?f=Kn(A):E!==0?f=Kn(E):o||(o=u&~i,o!==0&&(f=Kn(o)))),f===0?0:s!==0&&s!==f&&(s&g)===0&&(g=f&-f,o=s&-s,g>=o||g===32&&(o&4194048)!==0)?s:f}function Rs(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function Jo(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tl(){var i=bs;return bs<<=1,(bs&4194048)===0&&(bs=256),i}function el(){var i=ws;return ws<<=1,(ws&62914560)===0&&(ws=4194304),i}function Li(i){for(var s=[],o=0;31>o;o++)s.push(i);return s}function ki(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function nl(i,s,o,u,f,g){var E=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var A=i.entanglements,D=i.expirationTimes,K=i.hiddenUpdates;for(o=E&~o;0<o;){var Z=31-Xe(o),tt=1<<Z;A[Z]=0,D[Z]=-1;var Y=K[Z];if(Y!==null)for(K[Z]=null,Z=0;Z<Y.length;Z++){var $=Y[Z];$!==null&&($.lane&=-536870913)}o&=~tt}u!==0&&ri(i,u,0),g!==0&&f===0&&i.tag!==0&&(i.suspendedLanes|=g&~(E&~s))}function ri(i,s,o){i.pendingLanes|=s,i.suspendedLanes&=~s;var u=31-Xe(s);i.entangledLanes|=s,i.entanglements[u]=i.entanglements[u]|1073741824|o&4194090}function il(i,s){var o=i.entangledLanes|=s;for(i=i.entanglements;o;){var u=31-Xe(o),f=1<<u;f&s|i[u]&s&&(i[u]|=s),o&=~f}}function Er(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function wa(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Sr(){var i=at.p;return i!==0?i:(i=window.event,i===void 0?32:_T(i.type))}function pc(i,s){var o=at.p;try{return at.p=i,s()}finally{at.p=o}}var ie=Math.random().toString(36).slice(2),Re="__reactFiber$"+ie,Ee="__reactProps$"+ie,Cn="__reactContainer$"+ie,rl="__reactEvents$"+ie,fd="__reactListeners$"+ie,Ar="__reactHandles$"+ie,gc="__reactResources$"+ie,Cs="__reactMarker$"+ie;function br(i){delete i[Re],delete i[Ee],delete i[rl],delete i[fd],delete i[Ar]}function Ui(i){var s=i[Re];if(s)return s;for(var o=i.parentNode;o;){if(s=o[Cn]||o[Re]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(i=rT(i);i!==null;){if(o=i[Re])return o;i=rT(i)}return s}i=o,o=i.parentNode}return null}function si(i){if(i=i[Re]||i[Cn]){var s=i.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return i}return null}function ai(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function an(i){var s=i[gc];return s||(s=i[gc]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function pe(i){i[Cs]=!0}var sl=new Set,Ra={};function Yn(i,s){ji(i,s),ji(i+"Capture",s)}function ji(i,s){for(Ra[i]=s,i=0;i<s.length;i++)sl.add(s[i])}var yc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),vc={},Is={};function _c(i){return _s.call(Is,i)?!0:_s.call(vc,i)?!1:yc.test(i)?Is[i]=!0:(vc[i]=!0,!1)}function wr(i,s,o){if(_c(s))if(o===null)i.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+o)}}function oi(i,s,o){if(o===null)i.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+o)}}function ze(i,s,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(s,o,""+u)}}var Ds,Tc;function Bi(i){if(Ds===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);Ds=s&&s[1]||"",Tc=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ds+i+Tc}var Ca=!1;function Ia(i,s){if(!i||Ca)return"";Ca=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var tt=function(){throw Error()};if(Object.defineProperty(tt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(tt,[])}catch($){var Y=$}Reflect.construct(i,[],tt)}else{try{tt.call()}catch($){Y=$}i.call(tt.prototype)}}else{try{throw Error()}catch($){Y=$}(tt=i())&&typeof tt.catch=="function"&&tt.catch(function(){})}}catch($){if($&&Y&&typeof $.stack=="string")return[$.stack,Y.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),E=g[0],A=g[1];if(E&&A){var D=E.split(`
`),K=A.split(`
`);for(f=u=0;u<D.length&&!D[u].includes("DetermineComponentFrameRoot");)u++;for(;f<K.length&&!K[f].includes("DetermineComponentFrameRoot");)f++;if(u===D.length||f===K.length)for(u=D.length-1,f=K.length-1;1<=u&&0<=f&&D[u]!==K[f];)f--;for(;1<=u&&0<=f;u--,f--)if(D[u]!==K[f]){if(u!==1||f!==1)do if(u--,f--,0>f||D[u]!==K[f]){var Z=`
`+D[u].replace(" at new "," at ");return i.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",i.displayName)),Z}while(1<=u&&0<=f);break}}}finally{Ca=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?Bi(o):""}function al(i){switch(i.tag){case 26:case 27:case 5:return Bi(i.type);case 16:return Bi("Lazy");case 13:return Bi("Suspense");case 19:return Bi("SuspenseList");case 0:case 15:return Ia(i.type,!1);case 11:return Ia(i.type.render,!1);case 1:return Ia(i.type,!0);case 31:return Bi("Activity");default:return""}}function Da(i){try{var s="";do s+=al(i),i=i.return;while(i);return s}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function on(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function ol(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function dd(i){var s=ol(i)?"checked":"value",o=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),u=""+i[s];if(!i.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,g=o.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return f.call(this)},set:function(E){u=""+E,g.call(this,E)}}),Object.defineProperty(i,s,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(E){u=""+E},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function xa(i){i._valueTracker||(i._valueTracker=dd(i))}function ll(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var o=s.getValue(),u="";return i&&(u=ol(i)?i.checked?"true":"false":i.value),i=u,i!==o?(s.setValue(i),!0):!1}function xs(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var md=/[\n"\\]/g;function Se(i){return i.replace(md,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function yn(i,s,o,u,f,g,E,A){i.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?i.type=E:i.removeAttribute("type"),s!=null?E==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+on(s)):i.value!==""+on(s)&&(i.value=""+on(s)):E!=="submit"&&E!=="reset"||i.removeAttribute("value"),s!=null?Rr(i,E,on(s)):o!=null?Rr(i,E,on(o)):u!=null&&i.removeAttribute("value"),f==null&&g!=null&&(i.defaultChecked=!!g),f!=null&&(i.checked=f&&typeof f!="function"&&typeof f!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?i.name=""+on(A):i.removeAttribute("name")}function Ps(i,s,o,u,f,g,E,A){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(i.type=g),s!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||s!=null))return;o=o!=null?""+on(o):"",s=s!=null?""+on(s):o,A||s===i.value||(i.value=s),i.defaultValue=s}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=A?i.checked:!!u,i.defaultChecked=!!u,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(i.name=E)}function Rr(i,s,o){s==="number"&&xs(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function zi(i,s,o,u){if(i=i.options,s){s={};for(var f=0;f<o.length;f++)s["$"+o[f]]=!0;for(o=0;o<i.length;o++)f=s.hasOwnProperty("$"+i[o].value),i[o].selected!==f&&(i[o].selected=f),f&&u&&(i[o].defaultSelected=!0)}else{for(o=""+on(o),s=null,f=0;f<i.length;f++){if(i[f].value===o){i[f].selected=!0,u&&(i[f].defaultSelected=!0);return}s!==null||i[f].disabled||(s=i[f])}s!==null&&(s.selected=!0)}}function Qt(i,s,o){if(s!=null&&(s=""+on(s),s!==i.value&&(i.value=s),o==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=o!=null?""+on(o):""}function Ms(i,s,o,u){if(s==null){if(u!=null){if(o!=null)throw Error(r(92));if(se(u)){if(1<u.length)throw Error(r(93));u=u[0]}o=u}o==null&&(o=""),s=o}o=on(s),i.defaultValue=o,u=i.textContent,u===o&&u!==""&&u!==null&&(i.value=u)}function In(i,s){if(s){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=s;return}}i.textContent=s}var Os=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ec(i,s,o){var u=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":u?i.setProperty(s,o):typeof o!="number"||o===0||Os.has(s)?s==="float"?i.cssFloat=o:i[s]=(""+o).trim():i[s]=o+"px"}function ul(i,s,o){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var f in s)u=s[f],s.hasOwnProperty(f)&&o[f]!==u&&Ec(i,f,u)}else for(var g in s)s.hasOwnProperty(g)&&Ec(i,g,s[g])}function cl(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),gd=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Pa(i){return gd.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var Fi=null;function Dn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Hi=null,qi=null;function hl(i){var s=si(i);if(s&&(i=s.stateNode)){var o=i[Ee]||null;t:switch(i=s.stateNode,s.type){case"input":if(yn(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Se(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var u=o[s];if(u!==i&&u.form===i.form){var f=u[Ee]||null;if(!f)throw Error(r(90));yn(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(s=0;s<o.length;s++)u=o[s],u.form===i.form&&ll(u)}break t;case"textarea":Qt(i,o.value,o.defaultValue);break t;case"select":s=o.value,s!=null&&zi(i,!!o.multiple,s,!1)}}}var li=!1;function Sc(i,s,o){if(li)return i(s,o);li=!0;try{var u=i(s);return u}finally{if(li=!1,(Hi!==null||qi!==null)&&(ph(),Hi&&(s=Hi,i=qi,qi=Hi=null,hl(s),i)))for(s=0;s<i.length;s++)hl(i[s])}}function Vs(i,s){var o=i.stateNode;if(o===null)return null;var u=o[Ee]||null;if(u===null)return null;o=u[s];t:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break t;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(r(231,s,typeof o));return o}var $n=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xn=!1;if($n)try{var Ns={};Object.defineProperty(Ns,"passive",{get:function(){xn=!0}}),window.addEventListener("test",Ns,Ns),window.removeEventListener("test",Ns,Ns)}catch{xn=!1}var ui=null,Cr=null,Gi=null;function fl(){if(Gi)return Gi;var i,s=Cr,o=s.length,u,f="value"in ui?ui.value:ui.textContent,g=f.length;for(i=0;i<o&&s[i]===f[i];i++);var E=o-i;for(u=1;u<=E&&s[o-u]===f[g-u];u++);return Gi=f.slice(i,1<u?1-u:void 0)}function ci(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function hi(){return!0}function dl(){return!1}function Ne(i){function s(o,u,f,g,E){this._reactName=o,this._targetInst=f,this.type=u,this.nativeEvent=g,this.target=E,this.currentTarget=null;for(var A in i)i.hasOwnProperty(A)&&(o=i[A],this[A]=o?o(g):g[A]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?hi:dl,this.isPropagationStopped=dl,this}return y(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=hi)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=hi)},persist:function(){},isPersistent:hi}),s}var qt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ma=Ne(qt),Ls=y({},qt,{view:0,detail:0}),Ac=Ne(Ls),Oa,Va,fi,ks=y({},Ls,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bs,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==fi&&(fi&&i.type==="mousemove"?(Oa=i.screenX-fi.screenX,Va=i.screenY-fi.screenY):Va=Oa=0,fi=i),Oa)},movementY:function(i){return"movementY"in i?i.movementY:Va}}),Pn=Ne(ks),bc=y({},ks,{dataTransfer:0}),yd=Ne(bc),Us=y({},Ls,{relatedTarget:0}),Na=Ne(Us),ml=y({},qt,{animationName:0,elapsedTime:0,pseudoElement:0}),La=Ne(ml),wc=y({},qt,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),ka=Ne(wc),vd=y({},qt,{data:0}),pl=Ne(vd),js={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Rc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gl(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=Cc[i])?!!s[i]:!1}function Bs(){return gl}var Ic=y({},Ls,{key:function(i){if(i.key){var s=js[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=ci(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Rc[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bs,charCode:function(i){return i.type==="keypress"?ci(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?ci(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Ua=Ne(Ic),Dc=y({},ks,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yl=Ne(Dc),Ki=y({},Ls,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bs}),xc=Ne(Ki),Pc=y({},qt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Mc=Ne(Pc),Oc=y({},ks,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),ja=Ne(Oc),ln=y({},qt,{newState:0,oldState:0}),Vc=Ne(ln),Nc=[9,13,27,32],di=$n&&"CompositionEvent"in window,h=null;$n&&"documentMode"in document&&(h=document.documentMode);var v=$n&&"TextEvent"in window&&!h,T=$n&&(!di||h&&8<h&&11>=h),b=" ",q=!1;function Q(i,s){switch(i){case"keyup":return Nc.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lt(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var kt=!1;function Ce(i,s){switch(i){case"compositionend":return lt(s);case"keypress":return s.which!==32?null:(q=!0,b);case"textInput":return i=s.data,i===b&&q?null:i;default:return null}}function Ut(i,s){if(kt)return i==="compositionend"||!di&&Q(i,s)?(i=fl(),Gi=Cr=ui=null,kt=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return T&&s.locale!=="ko"?null:s.data;default:return null}}var Le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ie(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!Le[i.type]:s==="textarea"}function Yi(i,s,o,u){Hi?qi?qi.push(u):qi=[u]:Hi=u,s=Eh(s,"onChange"),0<s.length&&(o=new Ma("onChange","change",null,o,u),i.push({event:o,listeners:s}))}var Fe=null,mi=null;function vl(i){$0(i,0)}function Lc(i){var s=ai(i);if(ll(s))return i}function pv(i,s){if(i==="change")return s}var gv=!1;if($n){var _d;if($n){var Td="oninput"in document;if(!Td){var yv=document.createElement("div");yv.setAttribute("oninput","return;"),Td=typeof yv.oninput=="function"}_d=Td}else _d=!1;gv=_d&&(!document.documentMode||9<document.documentMode)}function vv(){Fe&&(Fe.detachEvent("onpropertychange",_v),mi=Fe=null)}function _v(i){if(i.propertyName==="value"&&Lc(mi)){var s=[];Yi(s,mi,i,Dn(i)),Sc(vl,s)}}function iC(i,s,o){i==="focusin"?(vv(),Fe=s,mi=o,Fe.attachEvent("onpropertychange",_v)):i==="focusout"&&vv()}function rC(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Lc(mi)}function sC(i,s){if(i==="click")return Lc(s)}function aC(i,s){if(i==="input"||i==="change")return Lc(s)}function oC(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var vn=typeof Object.is=="function"?Object.is:oC;function _l(i,s){if(vn(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var o=Object.keys(i),u=Object.keys(s);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var f=o[u];if(!_s.call(s,f)||!vn(i[f],s[f]))return!1}return!0}function Tv(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Ev(i,s){var o=Tv(i);i=0;for(var u;o;){if(o.nodeType===3){if(u=i+o.textContent.length,i<=s&&u>=s)return{node:o,offset:s-i};i=u}t:{for(;o;){if(o.nextSibling){o=o.nextSibling;break t}o=o.parentNode}o=void 0}o=Tv(o)}}function Sv(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?Sv(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function Av(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=xs(i.document);s instanceof i.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)i=s.contentWindow;else break;s=xs(i.document)}return s}function Ed(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var lC=$n&&"documentMode"in document&&11>=document.documentMode,Ba=null,Sd=null,Tl=null,Ad=!1;function bv(i,s,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Ad||Ba==null||Ba!==xs(u)||(u=Ba,"selectionStart"in u&&Ed(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Tl&&_l(Tl,u)||(Tl=u,u=Eh(Sd,"onSelect"),0<u.length&&(s=new Ma("onSelect","select",null,s,o),i.push({event:s,listeners:u}),s.target=Ba)))}function zs(i,s){var o={};return o[i.toLowerCase()]=s.toLowerCase(),o["Webkit"+i]="webkit"+s,o["Moz"+i]="moz"+s,o}var za={animationend:zs("Animation","AnimationEnd"),animationiteration:zs("Animation","AnimationIteration"),animationstart:zs("Animation","AnimationStart"),transitionrun:zs("Transition","TransitionRun"),transitionstart:zs("Transition","TransitionStart"),transitioncancel:zs("Transition","TransitionCancel"),transitionend:zs("Transition","TransitionEnd")},bd={},wv={};$n&&(wv=document.createElement("div").style,"AnimationEvent"in window||(delete za.animationend.animation,delete za.animationiteration.animation,delete za.animationstart.animation),"TransitionEvent"in window||delete za.transitionend.transition);function Fs(i){if(bd[i])return bd[i];if(!za[i])return i;var s=za[i],o;for(o in s)if(s.hasOwnProperty(o)&&o in wv)return bd[i]=s[o];return i}var Rv=Fs("animationend"),Cv=Fs("animationiteration"),Iv=Fs("animationstart"),uC=Fs("transitionrun"),cC=Fs("transitionstart"),hC=Fs("transitioncancel"),Dv=Fs("transitionend"),xv=new Map,wd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");wd.push("scrollEnd");function Qn(i,s){xv.set(i,s),Yn(s,[i])}var Pv=new WeakMap;function Mn(i,s){if(typeof i=="object"&&i!==null){var o=Pv.get(i);return o!==void 0?o:(s={value:i,source:s,stack:Da(s)},Pv.set(i,s),s)}return{value:i,source:s,stack:Da(s)}}var On=[],Fa=0,Rd=0;function kc(){for(var i=Fa,s=Rd=Fa=0;s<i;){var o=On[s];On[s++]=null;var u=On[s];On[s++]=null;var f=On[s];On[s++]=null;var g=On[s];if(On[s++]=null,u!==null&&f!==null){var E=u.pending;E===null?f.next=f:(f.next=E.next,E.next=f),u.pending=f}g!==0&&Mv(o,f,g)}}function Uc(i,s,o,u){On[Fa++]=i,On[Fa++]=s,On[Fa++]=o,On[Fa++]=u,Rd|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function Cd(i,s,o,u){return Uc(i,s,o,u),jc(i)}function Ha(i,s){return Uc(i,null,null,s),jc(i)}function Mv(i,s,o){i.lanes|=o;var u=i.alternate;u!==null&&(u.lanes|=o);for(var f=!1,g=i.return;g!==null;)g.childLanes|=o,u=g.alternate,u!==null&&(u.childLanes|=o),g.tag===22&&(i=g.stateNode,i===null||i._visibility&1||(f=!0)),i=g,g=g.return;return i.tag===3?(g=i.stateNode,f&&s!==null&&(f=31-Xe(o),i=g.hiddenUpdates,u=i[f],u===null?i[f]=[s]:u.push(s),s.lane=o|536870912),g):null}function jc(i){if(50<Gl)throw Gl=0,Om=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var qa={};function fC(i,s,o,u){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _n(i,s,o,u){return new fC(i,s,o,u)}function Id(i){return i=i.prototype,!(!i||!i.isReactComponent)}function $i(i,s){var o=i.alternate;return o===null?(o=_n(i.tag,s,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=s,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,s=i.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function Ov(i,s){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,s=o.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function Bc(i,s,o,u,f,g){var E=0;if(u=i,typeof i=="function")Id(i)&&(E=1);else if(typeof i=="string")E=mI(i,o,pt.current)?26:i==="html"||i==="head"||i==="body"?27:5;else t:switch(i){case I:return i=_n(31,o,s,f),i.elementType=I,i.lanes=g,i;case C:return Hs(o.children,f,g,s);case B:E=8,f|=24;break;case O:return i=_n(12,o,s,f|2),i.elementType=O,i.lanes=g,i;case nt:return i=_n(13,o,s,f),i.elementType=nt,i.lanes=g,i;case ct:return i=_n(19,o,s,f),i.elementType=ct,i.lanes=g,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case U:case H:E=10;break t;case X:E=9;break t;case st:E=11;break t;case P:E=14;break t;case R:E=16,u=null;break t}E=29,o=Error(r(130,i===null?"null":typeof i,"")),u=null}return s=_n(E,o,s,f),s.elementType=i,s.type=u,s.lanes=g,s}function Hs(i,s,o,u){return i=_n(7,i,u,s),i.lanes=o,i}function Dd(i,s,o){return i=_n(6,i,null,s),i.lanes=o,i}function xd(i,s,o){return s=_n(4,i.children!==null?i.children:[],i.key,s),s.lanes=o,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var Ga=[],Ka=0,zc=null,Fc=0,Vn=[],Nn=0,qs=null,Qi=1,Xi="";function Gs(i,s){Ga[Ka++]=Fc,Ga[Ka++]=zc,zc=i,Fc=s}function Vv(i,s,o){Vn[Nn++]=Qi,Vn[Nn++]=Xi,Vn[Nn++]=qs,qs=i;var u=Qi;i=Xi;var f=32-Xe(u)-1;u&=~(1<<f),o+=1;var g=32-Xe(s)+f;if(30<g){var E=f-f%5;g=(u&(1<<E)-1).toString(32),u>>=E,f-=E,Qi=1<<32-Xe(s)+f|o<<f|u,Xi=g+i}else Qi=1<<g|o<<f|u,Xi=i}function Pd(i){i.return!==null&&(Gs(i,1),Vv(i,1,0))}function Md(i){for(;i===zc;)zc=Ga[--Ka],Ga[Ka]=null,Fc=Ga[--Ka],Ga[Ka]=null;for(;i===qs;)qs=Vn[--Nn],Vn[Nn]=null,Xi=Vn[--Nn],Vn[Nn]=null,Qi=Vn[--Nn],Vn[Nn]=null}var un=null,he=null,Ft=!1,Ks=null,pi=!1,Od=Error(r(519));function Ys(i){var s=Error(r(418,""));throw Al(Mn(s,i)),Od}function Nv(i){var s=i.stateNode,o=i.type,u=i.memoizedProps;switch(s[Re]=i,s[Ee]=u,o){case"dialog":Ot("cancel",s),Ot("close",s);break;case"iframe":case"object":case"embed":Ot("load",s);break;case"video":case"audio":for(o=0;o<Yl.length;o++)Ot(Yl[o],s);break;case"source":Ot("error",s);break;case"img":case"image":case"link":Ot("error",s),Ot("load",s);break;case"details":Ot("toggle",s);break;case"input":Ot("invalid",s),Ps(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),xa(s);break;case"select":Ot("invalid",s);break;case"textarea":Ot("invalid",s),Ms(s,u.value,u.defaultValue,u.children),xa(s)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||u.suppressHydrationWarning===!0||Z0(s.textContent,o)?(u.popover!=null&&(Ot("beforetoggle",s),Ot("toggle",s)),u.onScroll!=null&&Ot("scroll",s),u.onScrollEnd!=null&&Ot("scrollend",s),u.onClick!=null&&(s.onclick=Sh),s=!0):s=!1,s||Ys(i)}function Lv(i){for(un=i.return;un;)switch(un.tag){case 5:case 13:pi=!1;return;case 27:case 3:pi=!0;return;default:un=un.return}}function El(i){if(i!==un)return!1;if(!Ft)return Lv(i),Ft=!0,!1;var s=i.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||Qm(i.type,i.memoizedProps)),o=!o),o&&he&&Ys(i),Lv(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));t:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8)if(o=i.data,o==="/$"){if(s===0){he=Wn(i.nextSibling);break t}s--}else o!=="$"&&o!=="$!"&&o!=="$?"||s++;i=i.nextSibling}he=null}}else s===27?(s=he,Hr(i.type)?(i=Jm,Jm=null,he=i):he=s):he=un?Wn(i.stateNode.nextSibling):null;return!0}function Sl(){he=un=null,Ft=!1}function kv(){var i=Ks;return i!==null&&(mn===null?mn=i:mn.push.apply(mn,i),Ks=null),i}function Al(i){Ks===null?Ks=[i]:Ks.push(i)}var Vd=it(null),$s=null,Wi=null;function Ir(i,s,o){ot(Vd,s._currentValue),s._currentValue=o}function Zi(i){i._currentValue=Vd.current,ut(Vd)}function Nd(i,s,o){for(;i!==null;){var u=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),i===o)break;i=i.return}}function Ld(i,s,o,u){var f=i.child;for(f!==null&&(f.return=i);f!==null;){var g=f.dependencies;if(g!==null){var E=f.child;g=g.firstContext;t:for(;g!==null;){var A=g;g=f;for(var D=0;D<s.length;D++)if(A.context===s[D]){g.lanes|=o,A=g.alternate,A!==null&&(A.lanes|=o),Nd(g.return,o,i),u||(E=null);break t}g=A.next}}else if(f.tag===18){if(E=f.return,E===null)throw Error(r(341));E.lanes|=o,g=E.alternate,g!==null&&(g.lanes|=o),Nd(E,o,i),E=null}else E=f.child;if(E!==null)E.return=f;else for(E=f;E!==null;){if(E===i){E=null;break}if(f=E.sibling,f!==null){f.return=E.return,E=f;break}E=E.return}f=E}}function bl(i,s,o,u){i=null;for(var f=s,g=!1;f!==null;){if(!g){if((f.flags&524288)!==0)g=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var E=f.alternate;if(E===null)throw Error(r(387));if(E=E.memoizedProps,E!==null){var A=f.type;vn(f.pendingProps.value,E.value)||(i!==null?i.push(A):i=[A])}}else if(f===Ve.current){if(E=f.alternate,E===null)throw Error(r(387));E.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(i!==null?i.push(Jl):i=[Jl])}f=f.return}i!==null&&Ld(s,i,o,u),s.flags|=262144}function Hc(i){for(i=i.firstContext;i!==null;){if(!vn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Qs(i){$s=i,Wi=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function We(i){return Uv($s,i)}function qc(i,s){return $s===null&&Qs(i),Uv(i,s)}function Uv(i,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},Wi===null){if(i===null)throw Error(r(308));Wi=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else Wi=Wi.next=s;return o}var dC=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(o,u){i.push(u)}};this.abort=function(){s.aborted=!0,i.forEach(function(o){return o()})}},mC=e.unstable_scheduleCallback,pC=e.unstable_NormalPriority,De={$$typeof:H,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function kd(){return{controller:new dC,data:new Map,refCount:0}}function wl(i){i.refCount--,i.refCount===0&&mC(pC,function(){i.controller.abort()})}var Rl=null,Ud=0,Ya=0,$a=null;function gC(i,s){if(Rl===null){var o=Rl=[];Ud=0,Ya=Bm(),$a={status:"pending",value:void 0,then:function(u){o.push(u)}}}return Ud++,s.then(jv,jv),s}function jv(){if(--Ud===0&&Rl!==null){$a!==null&&($a.status="fulfilled");var i=Rl;Rl=null,Ya=0,$a=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function yC(i,s){var o=[],u={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return i.then(function(){u.status="fulfilled",u.value=s;for(var f=0;f<o.length;f++)(0,o[f])(s)},function(f){for(u.status="rejected",u.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),u}var Bv=W.S;W.S=function(i,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&gC(i,s),Bv!==null&&Bv(i,s)};var Xs=it(null);function jd(){var i=Xs.current;return i!==null?i:ee.pooledCache}function Gc(i,s){s===null?ot(Xs,Xs.current):ot(Xs,s.pool)}function zv(){var i=jd();return i===null?null:{parent:De._currentValue,pool:i}}var Cl=Error(r(460)),Fv=Error(r(474)),Kc=Error(r(542)),Bd={then:function(){}};function Hv(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Yc(){}function qv(i,s,o){switch(o=i[o],o===void 0?i.push(s):o!==s&&(s.then(Yc,Yc),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,Kv(i),i;default:if(typeof s.status=="string")s.then(Yc,Yc);else{if(i=ee,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(u){if(s.status==="pending"){var f=s;f.status="fulfilled",f.value=u}},function(u){if(s.status==="pending"){var f=s;f.status="rejected",f.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,Kv(i),i}throw Il=s,Cl}}var Il=null;function Gv(){if(Il===null)throw Error(r(459));var i=Il;return Il=null,i}function Kv(i){if(i===Cl||i===Kc)throw Error(r(483))}var Dr=!1;function zd(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Fd(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function xr(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Pr(i,s,o){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,(Yt&2)!==0){var f=u.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),u.pending=s,s=jc(i),Mv(i,null,o),s}return Uc(i,u,s,o),jc(i)}function Dl(i,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var u=s.lanes;u&=i.pendingLanes,o|=u,s.lanes=o,il(i,o)}}function Hd(i,s){var o=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var f=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var E={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?f=g=E:g=g.next=E,o=o.next}while(o!==null);g===null?f=g=s:g=g.next=s}else f=g=s;o={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=s:i.next=s,o.lastBaseUpdate=s}var qd=!1;function xl(){if(qd){var i=$a;if(i!==null)throw i}}function Pl(i,s,o,u){qd=!1;var f=i.updateQueue;Dr=!1;var g=f.firstBaseUpdate,E=f.lastBaseUpdate,A=f.shared.pending;if(A!==null){f.shared.pending=null;var D=A,K=D.next;D.next=null,E===null?g=K:E.next=K,E=D;var Z=i.alternate;Z!==null&&(Z=Z.updateQueue,A=Z.lastBaseUpdate,A!==E&&(A===null?Z.firstBaseUpdate=K:A.next=K,Z.lastBaseUpdate=D))}if(g!==null){var tt=f.baseState;E=0,Z=K=D=null,A=g;do{var Y=A.lane&-536870913,$=Y!==A.lane;if($?(jt&Y)===Y:(u&Y)===Y){Y!==0&&Y===Ya&&(qd=!0),Z!==null&&(Z=Z.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});t:{var St=i,gt=A;Y=s;var Zt=o;switch(gt.tag){case 1:if(St=gt.payload,typeof St=="function"){tt=St.call(Zt,tt,Y);break t}tt=St;break t;case 3:St.flags=St.flags&-65537|128;case 0:if(St=gt.payload,Y=typeof St=="function"?St.call(Zt,tt,Y):St,Y==null)break t;tt=y({},tt,Y);break t;case 2:Dr=!0}}Y=A.callback,Y!==null&&(i.flags|=64,$&&(i.flags|=8192),$=f.callbacks,$===null?f.callbacks=[Y]:$.push(Y))}else $={lane:Y,tag:A.tag,payload:A.payload,callback:A.callback,next:null},Z===null?(K=Z=$,D=tt):Z=Z.next=$,E|=Y;if(A=A.next,A===null){if(A=f.shared.pending,A===null)break;$=A,A=$.next,$.next=null,f.lastBaseUpdate=$,f.shared.pending=null}}while(!0);Z===null&&(D=tt),f.baseState=D,f.firstBaseUpdate=K,f.lastBaseUpdate=Z,g===null&&(f.shared.lanes=0),jr|=E,i.lanes=E,i.memoizedState=tt}}function Yv(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function $v(i,s){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)Yv(o[i],s)}var Qa=it(null),$c=it(0);function Qv(i,s){i=sr,ot($c,i),ot(Qa,s),sr=i|s.baseLanes}function Gd(){ot($c,sr),ot(Qa,Qa.current)}function Kd(){sr=$c.current,ut(Qa),ut($c)}var Mr=0,It=null,Xt=null,Ae=null,Qc=!1,Xa=!1,Ws=!1,Xc=0,Ml=0,Wa=null,vC=0;function ge(){throw Error(r(321))}function Yd(i,s){if(s===null)return!1;for(var o=0;o<s.length&&o<i.length;o++)if(!vn(i[o],s[o]))return!1;return!0}function $d(i,s,o,u,f,g){return Mr=g,It=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,W.H=i===null||i.memoizedState===null?M_:O_,Ws=!1,g=o(u,f),Ws=!1,Xa&&(g=Wv(s,o,u,f)),Xv(i),g}function Xv(i){W.H=nh;var s=Xt!==null&&Xt.next!==null;if(Mr=0,Ae=Xt=It=null,Qc=!1,Ml=0,Wa=null,s)throw Error(r(300));i===null||ke||(i=i.dependencies,i!==null&&Hc(i)&&(ke=!0))}function Wv(i,s,o,u){It=i;var f=0;do{if(Xa&&(Wa=null),Ml=0,Xa=!1,25<=f)throw Error(r(301));if(f+=1,Ae=Xt=null,i.updateQueue!=null){var g=i.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}W.H=wC,g=s(o,u)}while(Xa);return g}function _C(){var i=W.H,s=i.useState()[0];return s=typeof s.then=="function"?Ol(s):s,i=i.useState()[0],(Xt!==null?Xt.memoizedState:null)!==i&&(It.flags|=1024),s}function Qd(){var i=Xc!==0;return Xc=0,i}function Xd(i,s,o){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~o}function Wd(i){if(Qc){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}Qc=!1}Mr=0,Ae=Xt=It=null,Xa=!1,Ml=Xc=0,Wa=null}function fn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ae===null?It.memoizedState=Ae=i:Ae=Ae.next=i,Ae}function be(){if(Xt===null){var i=It.alternate;i=i!==null?i.memoizedState:null}else i=Xt.next;var s=Ae===null?It.memoizedState:Ae.next;if(s!==null)Ae=s,Xt=i;else{if(i===null)throw It.alternate===null?Error(r(467)):Error(r(310));Xt=i,i={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},Ae===null?It.memoizedState=Ae=i:Ae=Ae.next=i}return Ae}function Zd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ol(i){var s=Ml;return Ml+=1,Wa===null&&(Wa=[]),i=qv(Wa,i,s),s=It,(Ae===null?s.memoizedState:Ae.next)===null&&(s=s.alternate,W.H=s===null||s.memoizedState===null?M_:O_),i}function Wc(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Ol(i);if(i.$$typeof===H)return We(i)}throw Error(r(438,String(i)))}function Jd(i){var s=null,o=It.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var u=It.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(f){return f.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=Zd(),It.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(i),u=0;u<i;u++)o[u]=M;return s.index++,o}function Ji(i,s){return typeof s=="function"?s(i):s}function Zc(i){var s=be();return tm(s,Xt,i)}function tm(i,s,o){var u=i.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=o;var f=i.baseQueue,g=u.pending;if(g!==null){if(f!==null){var E=f.next;f.next=g.next,g.next=E}s.baseQueue=f=g,u.pending=null}if(g=i.baseState,f===null)i.memoizedState=g;else{s=f.next;var A=E=null,D=null,K=s,Z=!1;do{var tt=K.lane&-536870913;if(tt!==K.lane?(jt&tt)===tt:(Mr&tt)===tt){var Y=K.revertLane;if(Y===0)D!==null&&(D=D.next={lane:0,revertLane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),tt===Ya&&(Z=!0);else if((Mr&Y)===Y){K=K.next,Y===Ya&&(Z=!0);continue}else tt={lane:0,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},D===null?(A=D=tt,E=g):D=D.next=tt,It.lanes|=Y,jr|=Y;tt=K.action,Ws&&o(g,tt),g=K.hasEagerState?K.eagerState:o(g,tt)}else Y={lane:tt,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},D===null?(A=D=Y,E=g):D=D.next=Y,It.lanes|=tt,jr|=tt;K=K.next}while(K!==null&&K!==s);if(D===null?E=g:D.next=A,!vn(g,i.memoizedState)&&(ke=!0,Z&&(o=$a,o!==null)))throw o;i.memoizedState=g,i.baseState=E,i.baseQueue=D,u.lastRenderedState=g}return f===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function em(i){var s=be(),o=s.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=i;var u=o.dispatch,f=o.pending,g=s.memoizedState;if(f!==null){o.pending=null;var E=f=f.next;do g=i(g,E.action),E=E.next;while(E!==f);vn(g,s.memoizedState)||(ke=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),o.lastRenderedState=g}return[g,u]}function Zv(i,s,o){var u=It,f=be(),g=Ft;if(g){if(o===void 0)throw Error(r(407));o=o()}else o=s();var E=!vn((Xt||f).memoizedState,o);E&&(f.memoizedState=o,ke=!0),f=f.queue;var A=e_.bind(null,u,f,i);if(Vl(2048,8,A,[i]),f.getSnapshot!==s||E||Ae!==null&&Ae.memoizedState.tag&1){if(u.flags|=2048,Za(9,Jc(),t_.bind(null,u,f,o,s),null),ee===null)throw Error(r(349));g||(Mr&124)!==0||Jv(u,s,o)}return o}function Jv(i,s,o){i.flags|=16384,i={getSnapshot:s,value:o},s=It.updateQueue,s===null?(s=Zd(),It.updateQueue=s,s.stores=[i]):(o=s.stores,o===null?s.stores=[i]:o.push(i))}function t_(i,s,o,u){s.value=o,s.getSnapshot=u,n_(s)&&i_(i)}function e_(i,s,o){return o(function(){n_(s)&&i_(i)})}function n_(i){var s=i.getSnapshot;i=i.value;try{var o=s();return!vn(i,o)}catch{return!0}}function i_(i){var s=Ha(i,2);s!==null&&bn(s,i,2)}function nm(i){var s=fn();if(typeof i=="function"){var o=i;if(i=o(),Ws){gn(!0);try{o()}finally{gn(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:i},s}function r_(i,s,o,u){return i.baseState=o,tm(i,Xt,typeof u=="function"?u:Ji)}function TC(i,s,o,u,f){if(eh(i))throw Error(r(485));if(i=s.action,i!==null){var g={payload:f,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){g.listeners.push(E)}};W.T!==null?o(!0):g.isTransition=!1,u(g),o=s.pending,o===null?(g.next=s.pending=g,s_(s,g)):(g.next=o.next,s.pending=o.next=g)}}function s_(i,s){var o=s.action,u=s.payload,f=i.state;if(s.isTransition){var g=W.T,E={};W.T=E;try{var A=o(f,u),D=W.S;D!==null&&D(E,A),a_(i,s,A)}catch(K){im(i,s,K)}finally{W.T=g}}else try{g=o(f,u),a_(i,s,g)}catch(K){im(i,s,K)}}function a_(i,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){o_(i,s,u)},function(u){return im(i,s,u)}):o_(i,s,o)}function o_(i,s,o){s.status="fulfilled",s.value=o,l_(s),i.state=o,s=i.pending,s!==null&&(o=s.next,o===s?i.pending=null:(o=o.next,s.next=o,s_(i,o)))}function im(i,s,o){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=o,l_(s),s=s.next;while(s!==u)}i.action=null}function l_(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function u_(i,s){return s}function c_(i,s){if(Ft){var o=ee.formState;if(o!==null){t:{var u=It;if(Ft){if(he){e:{for(var f=he,g=pi;f.nodeType!==8;){if(!g){f=null;break e}if(f=Wn(f.nextSibling),f===null){f=null;break e}}g=f.data,f=g==="F!"||g==="F"?f:null}if(f){he=Wn(f.nextSibling),u=f.data==="F!";break t}}Ys(u)}u=!1}u&&(s=o[0])}}return o=fn(),o.memoizedState=o.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:u_,lastRenderedState:s},o.queue=u,o=D_.bind(null,It,u),u.dispatch=o,u=nm(!1),g=lm.bind(null,It,!1,u.queue),u=fn(),f={state:s,dispatch:null,action:i,pending:null},u.queue=f,o=TC.bind(null,It,f,g,o),f.dispatch=o,u.memoizedState=i,[s,o,!1]}function h_(i){var s=be();return f_(s,Xt,i)}function f_(i,s,o){if(s=tm(i,s,u_)[0],i=Zc(Ji)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=Ol(s)}catch(E){throw E===Cl?Kc:E}else u=s;s=be();var f=s.queue,g=f.dispatch;return o!==s.memoizedState&&(It.flags|=2048,Za(9,Jc(),EC.bind(null,f,o),null)),[u,g,i]}function EC(i,s){i.action=s}function d_(i){var s=be(),o=Xt;if(o!==null)return f_(s,o,i);be(),s=s.memoizedState,o=be();var u=o.queue.dispatch;return o.memoizedState=i,[s,u,!1]}function Za(i,s,o,u){return i={tag:i,create:o,deps:u,inst:s,next:null},s=It.updateQueue,s===null&&(s=Zd(),It.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=i.next=i:(u=o.next,o.next=i,i.next=u,s.lastEffect=i),i}function Jc(){return{destroy:void 0,resource:void 0}}function m_(){return be().memoizedState}function th(i,s,o,u){var f=fn();u=u===void 0?null:u,It.flags|=i,f.memoizedState=Za(1|s,Jc(),o,u)}function Vl(i,s,o,u){var f=be();u=u===void 0?null:u;var g=f.memoizedState.inst;Xt!==null&&u!==null&&Yd(u,Xt.memoizedState.deps)?f.memoizedState=Za(s,g,o,u):(It.flags|=i,f.memoizedState=Za(1|s,g,o,u))}function p_(i,s){th(8390656,8,i,s)}function g_(i,s){Vl(2048,8,i,s)}function y_(i,s){return Vl(4,2,i,s)}function v_(i,s){return Vl(4,4,i,s)}function __(i,s){if(typeof s=="function"){i=i();var o=s(i);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function T_(i,s,o){o=o!=null?o.concat([i]):null,Vl(4,4,__.bind(null,s,i),o)}function rm(){}function E_(i,s){var o=be();s=s===void 0?null:s;var u=o.memoizedState;return s!==null&&Yd(s,u[1])?u[0]:(o.memoizedState=[i,s],i)}function S_(i,s){var o=be();s=s===void 0?null:s;var u=o.memoizedState;if(s!==null&&Yd(s,u[1]))return u[0];if(u=i(),Ws){gn(!0);try{i()}finally{gn(!1)}}return o.memoizedState=[u,s],u}function sm(i,s,o){return o===void 0||(Mr&1073741824)!==0?i.memoizedState=s:(i.memoizedState=o,i=w0(),It.lanes|=i,jr|=i,o)}function A_(i,s,o,u){return vn(o,s)?o:Qa.current!==null?(i=sm(i,o,u),vn(i,s)||(ke=!0),i):(Mr&42)===0?(ke=!0,i.memoizedState=o):(i=w0(),It.lanes|=i,jr|=i,s)}function b_(i,s,o,u,f){var g=at.p;at.p=g!==0&&8>g?g:8;var E=W.T,A={};W.T=A,lm(i,!1,s,o);try{var D=f(),K=W.S;if(K!==null&&K(A,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var Z=yC(D,u);Nl(i,s,Z,An(i))}else Nl(i,s,u,An(i))}catch(tt){Nl(i,s,{then:function(){},status:"rejected",reason:tt},An())}finally{at.p=g,W.T=E}}function SC(){}function am(i,s,o,u){if(i.tag!==5)throw Error(r(476));var f=w_(i).queue;b_(i,f,s,ft,o===null?SC:function(){return R_(i),o(u)})}function w_(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:ft,baseState:ft,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:ft},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:o},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function R_(i){var s=w_(i).next.queue;Nl(i,s,{},An())}function om(){return We(Jl)}function C_(){return be().memoizedState}function I_(){return be().memoizedState}function AC(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var o=An();i=xr(o);var u=Pr(s,i,o);u!==null&&(bn(u,s,o),Dl(u,s,o)),s={cache:kd()},i.payload=s;return}s=s.return}}function bC(i,s,o){var u=An();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},eh(i)?x_(s,o):(o=Cd(i,s,o,u),o!==null&&(bn(o,i,u),P_(o,s,u)))}function D_(i,s,o){var u=An();Nl(i,s,o,u)}function Nl(i,s,o,u){var f={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(eh(i))x_(s,f);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var E=s.lastRenderedState,A=g(E,o);if(f.hasEagerState=!0,f.eagerState=A,vn(A,E))return Uc(i,s,f,0),ee===null&&kc(),!1}catch{}finally{}if(o=Cd(i,s,f,u),o!==null)return bn(o,i,u),P_(o,s,u),!0}return!1}function lm(i,s,o,u){if(u={lane:2,revertLane:Bm(),action:u,hasEagerState:!1,eagerState:null,next:null},eh(i)){if(s)throw Error(r(479))}else s=Cd(i,o,u,2),s!==null&&bn(s,i,2)}function eh(i){var s=i.alternate;return i===It||s!==null&&s===It}function x_(i,s){Xa=Qc=!0;var o=i.pending;o===null?s.next=s:(s.next=o.next,o.next=s),i.pending=s}function P_(i,s,o){if((o&4194048)!==0){var u=s.lanes;u&=i.pendingLanes,o|=u,s.lanes=o,il(i,o)}}var nh={readContext:We,use:Wc,useCallback:ge,useContext:ge,useEffect:ge,useImperativeHandle:ge,useLayoutEffect:ge,useInsertionEffect:ge,useMemo:ge,useReducer:ge,useRef:ge,useState:ge,useDebugValue:ge,useDeferredValue:ge,useTransition:ge,useSyncExternalStore:ge,useId:ge,useHostTransitionStatus:ge,useFormState:ge,useActionState:ge,useOptimistic:ge,useMemoCache:ge,useCacheRefresh:ge},M_={readContext:We,use:Wc,useCallback:function(i,s){return fn().memoizedState=[i,s===void 0?null:s],i},useContext:We,useEffect:p_,useImperativeHandle:function(i,s,o){o=o!=null?o.concat([i]):null,th(4194308,4,__.bind(null,s,i),o)},useLayoutEffect:function(i,s){return th(4194308,4,i,s)},useInsertionEffect:function(i,s){th(4,2,i,s)},useMemo:function(i,s){var o=fn();s=s===void 0?null:s;var u=i();if(Ws){gn(!0);try{i()}finally{gn(!1)}}return o.memoizedState=[u,s],u},useReducer:function(i,s,o){var u=fn();if(o!==void 0){var f=o(s);if(Ws){gn(!0);try{o(s)}finally{gn(!1)}}}else f=s;return u.memoizedState=u.baseState=f,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:f},u.queue=i,i=i.dispatch=bC.bind(null,It,i),[u.memoizedState,i]},useRef:function(i){var s=fn();return i={current:i},s.memoizedState=i},useState:function(i){i=nm(i);var s=i.queue,o=D_.bind(null,It,s);return s.dispatch=o,[i.memoizedState,o]},useDebugValue:rm,useDeferredValue:function(i,s){var o=fn();return sm(o,i,s)},useTransition:function(){var i=nm(!1);return i=b_.bind(null,It,i.queue,!0,!1),fn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,o){var u=It,f=fn();if(Ft){if(o===void 0)throw Error(r(407));o=o()}else{if(o=s(),ee===null)throw Error(r(349));(jt&124)!==0||Jv(u,s,o)}f.memoizedState=o;var g={value:o,getSnapshot:s};return f.queue=g,p_(e_.bind(null,u,g,i),[i]),u.flags|=2048,Za(9,Jc(),t_.bind(null,u,g,o,s),null),o},useId:function(){var i=fn(),s=ee.identifierPrefix;if(Ft){var o=Xi,u=Qi;o=(u&~(1<<32-Xe(u)-1)).toString(32)+o,s=""+s+"R"+o,o=Xc++,0<o&&(s+="H"+o.toString(32)),s+=""}else o=vC++,s=""+s+"r"+o.toString(32)+"";return i.memoizedState=s},useHostTransitionStatus:om,useFormState:c_,useActionState:c_,useOptimistic:function(i){var s=fn();s.memoizedState=s.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=lm.bind(null,It,!0,o),o.dispatch=s,[i,s]},useMemoCache:Jd,useCacheRefresh:function(){return fn().memoizedState=AC.bind(null,It)}},O_={readContext:We,use:Wc,useCallback:E_,useContext:We,useEffect:g_,useImperativeHandle:T_,useInsertionEffect:y_,useLayoutEffect:v_,useMemo:S_,useReducer:Zc,useRef:m_,useState:function(){return Zc(Ji)},useDebugValue:rm,useDeferredValue:function(i,s){var o=be();return A_(o,Xt.memoizedState,i,s)},useTransition:function(){var i=Zc(Ji)[0],s=be().memoizedState;return[typeof i=="boolean"?i:Ol(i),s]},useSyncExternalStore:Zv,useId:C_,useHostTransitionStatus:om,useFormState:h_,useActionState:h_,useOptimistic:function(i,s){var o=be();return r_(o,Xt,i,s)},useMemoCache:Jd,useCacheRefresh:I_},wC={readContext:We,use:Wc,useCallback:E_,useContext:We,useEffect:g_,useImperativeHandle:T_,useInsertionEffect:y_,useLayoutEffect:v_,useMemo:S_,useReducer:em,useRef:m_,useState:function(){return em(Ji)},useDebugValue:rm,useDeferredValue:function(i,s){var o=be();return Xt===null?sm(o,i,s):A_(o,Xt.memoizedState,i,s)},useTransition:function(){var i=em(Ji)[0],s=be().memoizedState;return[typeof i=="boolean"?i:Ol(i),s]},useSyncExternalStore:Zv,useId:C_,useHostTransitionStatus:om,useFormState:d_,useActionState:d_,useOptimistic:function(i,s){var o=be();return Xt!==null?r_(o,Xt,i,s):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:Jd,useCacheRefresh:I_},Ja=null,Ll=0;function ih(i){var s=Ll;return Ll+=1,Ja===null&&(Ja=[]),qv(Ja,i,s)}function kl(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function rh(i,s){throw s.$$typeof===_?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function V_(i){var s=i._init;return s(i._payload)}function N_(i){function s(z,N){if(i){var G=z.deletions;G===null?(z.deletions=[N],z.flags|=16):G.push(N)}}function o(z,N){if(!i)return null;for(;N!==null;)s(z,N),N=N.sibling;return null}function u(z){for(var N=new Map;z!==null;)z.key!==null?N.set(z.key,z):N.set(z.index,z),z=z.sibling;return N}function f(z,N){return z=$i(z,N),z.index=0,z.sibling=null,z}function g(z,N,G){return z.index=G,i?(G=z.alternate,G!==null?(G=G.index,G<N?(z.flags|=67108866,N):G):(z.flags|=67108866,N)):(z.flags|=1048576,N)}function E(z){return i&&z.alternate===null&&(z.flags|=67108866),z}function A(z,N,G,J){return N===null||N.tag!==6?(N=Dd(G,z.mode,J),N.return=z,N):(N=f(N,G),N.return=z,N)}function D(z,N,G,J){var dt=G.type;return dt===C?Z(z,N,G.props.children,J,G.key):N!==null&&(N.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===R&&V_(dt)===N.type)?(N=f(N,G.props),kl(N,G),N.return=z,N):(N=Bc(G.type,G.key,G.props,null,z.mode,J),kl(N,G),N.return=z,N)}function K(z,N,G,J){return N===null||N.tag!==4||N.stateNode.containerInfo!==G.containerInfo||N.stateNode.implementation!==G.implementation?(N=xd(G,z.mode,J),N.return=z,N):(N=f(N,G.children||[]),N.return=z,N)}function Z(z,N,G,J,dt){return N===null||N.tag!==7?(N=Hs(G,z.mode,J,dt),N.return=z,N):(N=f(N,G),N.return=z,N)}function tt(z,N,G){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=Dd(""+N,z.mode,G),N.return=z,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case S:return G=Bc(N.type,N.key,N.props,null,z.mode,G),kl(G,N),G.return=z,G;case w:return N=xd(N,z.mode,G),N.return=z,N;case R:var J=N._init;return N=J(N._payload),tt(z,N,G)}if(se(N)||F(N))return N=Hs(N,z.mode,G,null),N.return=z,N;if(typeof N.then=="function")return tt(z,ih(N),G);if(N.$$typeof===H)return tt(z,qc(z,N),G);rh(z,N)}return null}function Y(z,N,G,J){var dt=N!==null?N.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return dt!==null?null:A(z,N,""+G,J);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case S:return G.key===dt?D(z,N,G,J):null;case w:return G.key===dt?K(z,N,G,J):null;case R:return dt=G._init,G=dt(G._payload),Y(z,N,G,J)}if(se(G)||F(G))return dt!==null?null:Z(z,N,G,J,null);if(typeof G.then=="function")return Y(z,N,ih(G),J);if(G.$$typeof===H)return Y(z,N,qc(z,G),J);rh(z,G)}return null}function $(z,N,G,J,dt){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return z=z.get(G)||null,A(N,z,""+J,dt);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case S:return z=z.get(J.key===null?G:J.key)||null,D(N,z,J,dt);case w:return z=z.get(J.key===null?G:J.key)||null,K(N,z,J,dt);case R:var Pt=J._init;return J=Pt(J._payload),$(z,N,G,J,dt)}if(se(J)||F(J))return z=z.get(G)||null,Z(N,z,J,dt,null);if(typeof J.then=="function")return $(z,N,G,ih(J),dt);if(J.$$typeof===H)return $(z,N,G,qc(N,J),dt);rh(N,J)}return null}function St(z,N,G,J){for(var dt=null,Pt=null,mt=N,_t=N=0,je=null;mt!==null&&_t<G.length;_t++){mt.index>_t?(je=mt,mt=null):je=mt.sibling;var zt=Y(z,mt,G[_t],J);if(zt===null){mt===null&&(mt=je);break}i&&mt&&zt.alternate===null&&s(z,mt),N=g(zt,N,_t),Pt===null?dt=zt:Pt.sibling=zt,Pt=zt,mt=je}if(_t===G.length)return o(z,mt),Ft&&Gs(z,_t),dt;if(mt===null){for(;_t<G.length;_t++)mt=tt(z,G[_t],J),mt!==null&&(N=g(mt,N,_t),Pt===null?dt=mt:Pt.sibling=mt,Pt=mt);return Ft&&Gs(z,_t),dt}for(mt=u(mt);_t<G.length;_t++)je=$(mt,z,_t,G[_t],J),je!==null&&(i&&je.alternate!==null&&mt.delete(je.key===null?_t:je.key),N=g(je,N,_t),Pt===null?dt=je:Pt.sibling=je,Pt=je);return i&&mt.forEach(function($r){return s(z,$r)}),Ft&&Gs(z,_t),dt}function gt(z,N,G,J){if(G==null)throw Error(r(151));for(var dt=null,Pt=null,mt=N,_t=N=0,je=null,zt=G.next();mt!==null&&!zt.done;_t++,zt=G.next()){mt.index>_t?(je=mt,mt=null):je=mt.sibling;var $r=Y(z,mt,zt.value,J);if($r===null){mt===null&&(mt=je);break}i&&mt&&$r.alternate===null&&s(z,mt),N=g($r,N,_t),Pt===null?dt=$r:Pt.sibling=$r,Pt=$r,mt=je}if(zt.done)return o(z,mt),Ft&&Gs(z,_t),dt;if(mt===null){for(;!zt.done;_t++,zt=G.next())zt=tt(z,zt.value,J),zt!==null&&(N=g(zt,N,_t),Pt===null?dt=zt:Pt.sibling=zt,Pt=zt);return Ft&&Gs(z,_t),dt}for(mt=u(mt);!zt.done;_t++,zt=G.next())zt=$(mt,z,_t,zt.value,J),zt!==null&&(i&&zt.alternate!==null&&mt.delete(zt.key===null?_t:zt.key),N=g(zt,N,_t),Pt===null?dt=zt:Pt.sibling=zt,Pt=zt);return i&&mt.forEach(function(RI){return s(z,RI)}),Ft&&Gs(z,_t),dt}function Zt(z,N,G,J){if(typeof G=="object"&&G!==null&&G.type===C&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case S:t:{for(var dt=G.key;N!==null;){if(N.key===dt){if(dt=G.type,dt===C){if(N.tag===7){o(z,N.sibling),J=f(N,G.props.children),J.return=z,z=J;break t}}else if(N.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===R&&V_(dt)===N.type){o(z,N.sibling),J=f(N,G.props),kl(J,G),J.return=z,z=J;break t}o(z,N);break}else s(z,N);N=N.sibling}G.type===C?(J=Hs(G.props.children,z.mode,J,G.key),J.return=z,z=J):(J=Bc(G.type,G.key,G.props,null,z.mode,J),kl(J,G),J.return=z,z=J)}return E(z);case w:t:{for(dt=G.key;N!==null;){if(N.key===dt)if(N.tag===4&&N.stateNode.containerInfo===G.containerInfo&&N.stateNode.implementation===G.implementation){o(z,N.sibling),J=f(N,G.children||[]),J.return=z,z=J;break t}else{o(z,N);break}else s(z,N);N=N.sibling}J=xd(G,z.mode,J),J.return=z,z=J}return E(z);case R:return dt=G._init,G=dt(G._payload),Zt(z,N,G,J)}if(se(G))return St(z,N,G,J);if(F(G)){if(dt=F(G),typeof dt!="function")throw Error(r(150));return G=dt.call(G),gt(z,N,G,J)}if(typeof G.then=="function")return Zt(z,N,ih(G),J);if(G.$$typeof===H)return Zt(z,N,qc(z,G),J);rh(z,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,N!==null&&N.tag===6?(o(z,N.sibling),J=f(N,G),J.return=z,z=J):(o(z,N),J=Dd(G,z.mode,J),J.return=z,z=J),E(z)):o(z,N)}return function(z,N,G,J){try{Ll=0;var dt=Zt(z,N,G,J);return Ja=null,dt}catch(mt){if(mt===Cl||mt===Kc)throw mt;var Pt=_n(29,mt,null,z.mode);return Pt.lanes=J,Pt.return=z,Pt}finally{}}}var to=N_(!0),L_=N_(!1),Ln=it(null),gi=null;function Or(i){var s=i.alternate;ot(xe,xe.current&1),ot(Ln,i),gi===null&&(s===null||Qa.current!==null||s.memoizedState!==null)&&(gi=i)}function k_(i){if(i.tag===22){if(ot(xe,xe.current),ot(Ln,i),gi===null){var s=i.alternate;s!==null&&s.memoizedState!==null&&(gi=i)}}else Vr()}function Vr(){ot(xe,xe.current),ot(Ln,Ln.current)}function tr(i){ut(Ln),gi===i&&(gi=null),ut(xe)}var xe=it(0);function sh(i){for(var s=i;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||Zm(o)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function um(i,s,o,u){s=i.memoizedState,o=o(u,s),o=o==null?s:y({},s,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var cm={enqueueSetState:function(i,s,o){i=i._reactInternals;var u=An(),f=xr(u);f.payload=s,o!=null&&(f.callback=o),s=Pr(i,f,u),s!==null&&(bn(s,i,u),Dl(s,i,u))},enqueueReplaceState:function(i,s,o){i=i._reactInternals;var u=An(),f=xr(u);f.tag=1,f.payload=s,o!=null&&(f.callback=o),s=Pr(i,f,u),s!==null&&(bn(s,i,u),Dl(s,i,u))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var o=An(),u=xr(o);u.tag=2,s!=null&&(u.callback=s),s=Pr(i,u,o),s!==null&&(bn(s,i,o),Dl(s,i,o))}};function U_(i,s,o,u,f,g,E){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,g,E):s.prototype&&s.prototype.isPureReactComponent?!_l(o,u)||!_l(f,g):!0}function j_(i,s,o,u){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,u),s.state!==i&&cm.enqueueReplaceState(s,s.state,null)}function Zs(i,s){var o=s;if("ref"in s){o={};for(var u in s)u!=="ref"&&(o[u]=s[u])}if(i=i.defaultProps){o===s&&(o=y({},o));for(var f in i)o[f]===void 0&&(o[f]=i[f])}return o}var ah=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function B_(i){ah(i)}function z_(i){console.error(i)}function F_(i){ah(i)}function oh(i,s){try{var o=i.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function H_(i,s,o){try{var u=i.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function hm(i,s,o){return o=xr(o),o.tag=3,o.payload={element:null},o.callback=function(){oh(i,s)},o}function q_(i){return i=xr(i),i.tag=3,i}function G_(i,s,o,u){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var g=u.value;i.payload=function(){return f(g)},i.callback=function(){H_(s,o,u)}}var E=o.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(i.callback=function(){H_(s,o,u),typeof f!="function"&&(Br===null?Br=new Set([this]):Br.add(this));var A=u.stack;this.componentDidCatch(u.value,{componentStack:A!==null?A:""})})}function RC(i,s,o,u,f){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=o.alternate,s!==null&&bl(s,o,f,!0),o=Ln.current,o!==null){switch(o.tag){case 13:return gi===null?Nm():o.alternate===null&&fe===0&&(fe=3),o.flags&=-257,o.flags|=65536,o.lanes=f,u===Bd?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([u]):s.add(u),km(i,u,f)),!1;case 22:return o.flags|=65536,u===Bd?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([u]):o.add(u)),km(i,u,f)),!1}throw Error(r(435,o.tag))}return km(i,u,f),Nm(),!1}if(Ft)return s=Ln.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=f,u!==Od&&(i=Error(r(422),{cause:u}),Al(Mn(i,o)))):(u!==Od&&(s=Error(r(423),{cause:u}),Al(Mn(s,o))),i=i.current.alternate,i.flags|=65536,f&=-f,i.lanes|=f,u=Mn(u,o),f=hm(i.stateNode,u,f),Hd(i,f),fe!==4&&(fe=2)),!1;var g=Error(r(520),{cause:u});if(g=Mn(g,o),ql===null?ql=[g]:ql.push(g),fe!==4&&(fe=2),s===null)return!0;u=Mn(u,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,i=f&-f,o.lanes|=i,i=hm(o.stateNode,u,i),Hd(o,i),!1;case 1:if(s=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Br===null||!Br.has(g))))return o.flags|=65536,f&=-f,o.lanes|=f,f=q_(f),G_(f,i,o,u),Hd(o,f),!1}o=o.return}while(o!==null);return!1}var K_=Error(r(461)),ke=!1;function He(i,s,o,u){s.child=i===null?L_(s,null,o,u):to(s,i.child,o,u)}function Y_(i,s,o,u,f){o=o.render;var g=s.ref;if("ref"in u){var E={};for(var A in u)A!=="ref"&&(E[A]=u[A])}else E=u;return Qs(s),u=$d(i,s,o,E,g,f),A=Qd(),i!==null&&!ke?(Xd(i,s,f),er(i,s,f)):(Ft&&A&&Pd(s),s.flags|=1,He(i,s,u,f),s.child)}function $_(i,s,o,u,f){if(i===null){var g=o.type;return typeof g=="function"&&!Id(g)&&g.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=g,Q_(i,s,g,u,f)):(i=Bc(o.type,null,u,s,s.mode,f),i.ref=s.ref,i.return=s,s.child=i)}if(g=i.child,!_m(i,f)){var E=g.memoizedProps;if(o=o.compare,o=o!==null?o:_l,o(E,u)&&i.ref===s.ref)return er(i,s,f)}return s.flags|=1,i=$i(g,u),i.ref=s.ref,i.return=s,s.child=i}function Q_(i,s,o,u,f){if(i!==null){var g=i.memoizedProps;if(_l(g,u)&&i.ref===s.ref)if(ke=!1,s.pendingProps=u=g,_m(i,f))(i.flags&131072)!==0&&(ke=!0);else return s.lanes=i.lanes,er(i,s,f)}return fm(i,s,o,u,f)}function X_(i,s,o){var u=s.pendingProps,f=u.children,g=i!==null?i.memoizedState:null;if(u.mode==="hidden"){if((s.flags&128)!==0){if(u=g!==null?g.baseLanes|o:o,i!==null){for(f=s.child=i.child,g=0;f!==null;)g=g|f.lanes|f.childLanes,f=f.sibling;s.childLanes=g&~u}else s.childLanes=0,s.child=null;return W_(i,s,u,o)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&Gc(s,g!==null?g.cachePool:null),g!==null?Qv(s,g):Gd(),k_(s);else return s.lanes=s.childLanes=536870912,W_(i,s,g!==null?g.baseLanes|o:o,o)}else g!==null?(Gc(s,g.cachePool),Qv(s,g),Vr(),s.memoizedState=null):(i!==null&&Gc(s,null),Gd(),Vr());return He(i,s,f,o),s.child}function W_(i,s,o,u){var f=jd();return f=f===null?null:{parent:De._currentValue,pool:f},s.memoizedState={baseLanes:o,cachePool:f},i!==null&&Gc(s,null),Gd(),k_(s),i!==null&&bl(i,s,u,!0),null}function lh(i,s){var o=s.ref;if(o===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(r(284));(i===null||i.ref!==o)&&(s.flags|=4194816)}}function fm(i,s,o,u,f){return Qs(s),o=$d(i,s,o,u,void 0,f),u=Qd(),i!==null&&!ke?(Xd(i,s,f),er(i,s,f)):(Ft&&u&&Pd(s),s.flags|=1,He(i,s,o,f),s.child)}function Z_(i,s,o,u,f,g){return Qs(s),s.updateQueue=null,o=Wv(s,u,o,f),Xv(i),u=Qd(),i!==null&&!ke?(Xd(i,s,g),er(i,s,g)):(Ft&&u&&Pd(s),s.flags|=1,He(i,s,o,g),s.child)}function J_(i,s,o,u,f){if(Qs(s),s.stateNode===null){var g=qa,E=o.contextType;typeof E=="object"&&E!==null&&(g=We(E)),g=new o(u,g),s.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=cm,s.stateNode=g,g._reactInternals=s,g=s.stateNode,g.props=u,g.state=s.memoizedState,g.refs={},zd(s),E=o.contextType,g.context=typeof E=="object"&&E!==null?We(E):qa,g.state=s.memoizedState,E=o.getDerivedStateFromProps,typeof E=="function"&&(um(s,o,E,u),g.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(E=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),E!==g.state&&cm.enqueueReplaceState(g,g.state,null),Pl(s,u,g,f),xl(),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(i===null){g=s.stateNode;var A=s.memoizedProps,D=Zs(o,A);g.props=D;var K=g.context,Z=o.contextType;E=qa,typeof Z=="object"&&Z!==null&&(E=We(Z));var tt=o.getDerivedStateFromProps;Z=typeof tt=="function"||typeof g.getSnapshotBeforeUpdate=="function",A=s.pendingProps!==A,Z||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(A||K!==E)&&j_(s,g,u,E),Dr=!1;var Y=s.memoizedState;g.state=Y,Pl(s,u,g,f),xl(),K=s.memoizedState,A||Y!==K||Dr?(typeof tt=="function"&&(um(s,o,tt,u),K=s.memoizedState),(D=Dr||U_(s,o,D,u,Y,K,E))?(Z||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(s.flags|=4194308)):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=K),g.props=u,g.state=K,g.context=E,u=D):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{g=s.stateNode,Fd(i,s),E=s.memoizedProps,Z=Zs(o,E),g.props=Z,tt=s.pendingProps,Y=g.context,K=o.contextType,D=qa,typeof K=="object"&&K!==null&&(D=We(K)),A=o.getDerivedStateFromProps,(K=typeof A=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(E!==tt||Y!==D)&&j_(s,g,u,D),Dr=!1,Y=s.memoizedState,g.state=Y,Pl(s,u,g,f),xl();var $=s.memoizedState;E!==tt||Y!==$||Dr||i!==null&&i.dependencies!==null&&Hc(i.dependencies)?(typeof A=="function"&&(um(s,o,A,u),$=s.memoizedState),(Z=Dr||U_(s,o,Z,u,Y,$,D)||i!==null&&i.dependencies!==null&&Hc(i.dependencies))?(K||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,$,D),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,$,D)),typeof g.componentDidUpdate=="function"&&(s.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof g.componentDidUpdate!="function"||E===i.memoizedProps&&Y===i.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||E===i.memoizedProps&&Y===i.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=$),g.props=u,g.state=$,g.context=D,u=Z):(typeof g.componentDidUpdate!="function"||E===i.memoizedProps&&Y===i.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||E===i.memoizedProps&&Y===i.memoizedState||(s.flags|=1024),u=!1)}return g=u,lh(i,s),u=(s.flags&128)!==0,g||u?(g=s.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:g.render(),s.flags|=1,i!==null&&u?(s.child=to(s,i.child,null,f),s.child=to(s,null,o,f)):He(i,s,o,f),s.memoizedState=g.state,i=s.child):i=er(i,s,f),i}function t0(i,s,o,u){return Sl(),s.flags|=256,He(i,s,o,u),s.child}var dm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function mm(i){return{baseLanes:i,cachePool:zv()}}function pm(i,s,o){return i=i!==null?i.childLanes&~o:0,s&&(i|=kn),i}function e0(i,s,o){var u=s.pendingProps,f=!1,g=(s.flags&128)!==0,E;if((E=g)||(E=i!==null&&i.memoizedState===null?!1:(xe.current&2)!==0),E&&(f=!0,s.flags&=-129),E=(s.flags&32)!==0,s.flags&=-33,i===null){if(Ft){if(f?Or(s):Vr(),Ft){var A=he,D;if(D=A){t:{for(D=A,A=pi;D.nodeType!==8;){if(!A){A=null;break t}if(D=Wn(D.nextSibling),D===null){A=null;break t}}A=D}A!==null?(s.memoizedState={dehydrated:A,treeContext:qs!==null?{id:Qi,overflow:Xi}:null,retryLane:536870912,hydrationErrors:null},D=_n(18,null,null,0),D.stateNode=A,D.return=s,s.child=D,un=s,he=null,D=!0):D=!1}D||Ys(s)}if(A=s.memoizedState,A!==null&&(A=A.dehydrated,A!==null))return Zm(A)?s.lanes=32:s.lanes=536870912,null;tr(s)}return A=u.children,u=u.fallback,f?(Vr(),f=s.mode,A=uh({mode:"hidden",children:A},f),u=Hs(u,f,o,null),A.return=s,u.return=s,A.sibling=u,s.child=A,f=s.child,f.memoizedState=mm(o),f.childLanes=pm(i,E,o),s.memoizedState=dm,u):(Or(s),gm(s,A))}if(D=i.memoizedState,D!==null&&(A=D.dehydrated,A!==null)){if(g)s.flags&256?(Or(s),s.flags&=-257,s=ym(i,s,o)):s.memoizedState!==null?(Vr(),s.child=i.child,s.flags|=128,s=null):(Vr(),f=u.fallback,A=s.mode,u=uh({mode:"visible",children:u.children},A),f=Hs(f,A,o,null),f.flags|=2,u.return=s,f.return=s,u.sibling=f,s.child=u,to(s,i.child,null,o),u=s.child,u.memoizedState=mm(o),u.childLanes=pm(i,E,o),s.memoizedState=dm,s=f);else if(Or(s),Zm(A)){if(E=A.nextSibling&&A.nextSibling.dataset,E)var K=E.dgst;E=K,u=Error(r(419)),u.stack="",u.digest=E,Al({value:u,source:null,stack:null}),s=ym(i,s,o)}else if(ke||bl(i,s,o,!1),E=(o&i.childLanes)!==0,ke||E){if(E=ee,E!==null&&(u=o&-o,u=(u&42)!==0?1:Er(u),u=(u&(E.suspendedLanes|o))!==0?0:u,u!==0&&u!==D.retryLane))throw D.retryLane=u,Ha(i,u),bn(E,i,u),K_;A.data==="$?"||Nm(),s=ym(i,s,o)}else A.data==="$?"?(s.flags|=192,s.child=i.child,s=null):(i=D.treeContext,he=Wn(A.nextSibling),un=s,Ft=!0,Ks=null,pi=!1,i!==null&&(Vn[Nn++]=Qi,Vn[Nn++]=Xi,Vn[Nn++]=qs,Qi=i.id,Xi=i.overflow,qs=s),s=gm(s,u.children),s.flags|=4096);return s}return f?(Vr(),f=u.fallback,A=s.mode,D=i.child,K=D.sibling,u=$i(D,{mode:"hidden",children:u.children}),u.subtreeFlags=D.subtreeFlags&65011712,K!==null?f=$i(K,f):(f=Hs(f,A,o,null),f.flags|=2),f.return=s,u.return=s,u.sibling=f,s.child=u,u=f,f=s.child,A=i.child.memoizedState,A===null?A=mm(o):(D=A.cachePool,D!==null?(K=De._currentValue,D=D.parent!==K?{parent:K,pool:K}:D):D=zv(),A={baseLanes:A.baseLanes|o,cachePool:D}),f.memoizedState=A,f.childLanes=pm(i,E,o),s.memoizedState=dm,u):(Or(s),o=i.child,i=o.sibling,o=$i(o,{mode:"visible",children:u.children}),o.return=s,o.sibling=null,i!==null&&(E=s.deletions,E===null?(s.deletions=[i],s.flags|=16):E.push(i)),s.child=o,s.memoizedState=null,o)}function gm(i,s){return s=uh({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function uh(i,s){return i=_n(22,i,null,s),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function ym(i,s,o){return to(s,i.child,null,o),i=gm(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function n0(i,s,o){i.lanes|=s;var u=i.alternate;u!==null&&(u.lanes|=s),Nd(i.return,s,o)}function vm(i,s,o,u,f){var g=i.memoizedState;g===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:f}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=u,g.tail=o,g.tailMode=f)}function i0(i,s,o){var u=s.pendingProps,f=u.revealOrder,g=u.tail;if(He(i,s,u.children,o),u=xe.current,(u&2)!==0)u=u&1|2,s.flags|=128;else{if(i!==null&&(i.flags&128)!==0)t:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&n0(i,o,s);else if(i.tag===19)n0(i,o,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break t;for(;i.sibling===null;){if(i.return===null||i.return===s)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}u&=1}switch(ot(xe,u),f){case"forwards":for(o=s.child,f=null;o!==null;)i=o.alternate,i!==null&&sh(i)===null&&(f=o),o=o.sibling;o=f,o===null?(f=s.child,s.child=null):(f=o.sibling,o.sibling=null),vm(s,!1,f,o,g);break;case"backwards":for(o=null,f=s.child,s.child=null;f!==null;){if(i=f.alternate,i!==null&&sh(i)===null){s.child=f;break}i=f.sibling,f.sibling=o,o=f,f=i}vm(s,!0,o,null,g);break;case"together":vm(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function er(i,s,o){if(i!==null&&(s.dependencies=i.dependencies),jr|=s.lanes,(o&s.childLanes)===0)if(i!==null){if(bl(i,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,o=$i(i,i.pendingProps),s.child=o,o.return=s;i.sibling!==null;)i=i.sibling,o=o.sibling=$i(i,i.pendingProps),o.return=s;o.sibling=null}return s.child}function _m(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&Hc(i)))}function CC(i,s,o){switch(s.tag){case 3:te(s,s.stateNode.containerInfo),Ir(s,De,i.memoizedState.cache),Sl();break;case 27:case 5:Tr(s);break;case 4:te(s,s.stateNode.containerInfo);break;case 10:Ir(s,s.type,s.memoizedProps.value);break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(Or(s),s.flags|=128,null):(o&s.child.childLanes)!==0?e0(i,s,o):(Or(s),i=er(i,s,o),i!==null?i.sibling:null);Or(s);break;case 19:var f=(i.flags&128)!==0;if(u=(o&s.childLanes)!==0,u||(bl(i,s,o,!1),u=(o&s.childLanes)!==0),f){if(u)return i0(i,s,o);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ot(xe,xe.current),u)break;return null;case 22:case 23:return s.lanes=0,X_(i,s,o);case 24:Ir(s,De,i.memoizedState.cache)}return er(i,s,o)}function r0(i,s,o){if(i!==null)if(i.memoizedProps!==s.pendingProps)ke=!0;else{if(!_m(i,o)&&(s.flags&128)===0)return ke=!1,CC(i,s,o);ke=(i.flags&131072)!==0}else ke=!1,Ft&&(s.flags&1048576)!==0&&Vv(s,Fc,s.index);switch(s.lanes=0,s.tag){case 16:t:{i=s.pendingProps;var u=s.elementType,f=u._init;if(u=f(u._payload),s.type=u,typeof u=="function")Id(u)?(i=Zs(u,i),s.tag=1,s=J_(null,s,u,i,o)):(s.tag=0,s=fm(null,s,u,i,o));else{if(u!=null){if(f=u.$$typeof,f===st){s.tag=11,s=Y_(null,s,u,i,o);break t}else if(f===P){s.tag=14,s=$_(null,s,u,i,o);break t}}throw s=Te(u)||u,Error(r(306,s,""))}}return s;case 0:return fm(i,s,s.type,s.pendingProps,o);case 1:return u=s.type,f=Zs(u,s.pendingProps),J_(i,s,u,f,o);case 3:t:{if(te(s,s.stateNode.containerInfo),i===null)throw Error(r(387));u=s.pendingProps;var g=s.memoizedState;f=g.element,Fd(i,s),Pl(s,u,null,o);var E=s.memoizedState;if(u=E.cache,Ir(s,De,u),u!==g.cache&&Ld(s,[De],o,!0),xl(),u=E.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:E.cache},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){s=t0(i,s,u,o);break t}else if(u!==f){f=Mn(Error(r(424)),s),Al(f),s=t0(i,s,u,o);break t}else{switch(i=s.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(he=Wn(i.firstChild),un=s,Ft=!0,Ks=null,pi=!0,o=L_(s,null,u,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Sl(),u===f){s=er(i,s,o);break t}He(i,s,u,o)}s=s.child}return s;case 26:return lh(i,s),i===null?(o=lT(s.type,null,s.pendingProps,null))?s.memoizedState=o:Ft||(o=s.type,i=s.pendingProps,u=Ah(bt.current).createElement(o),u[Re]=s,u[Ee]=i,Ge(u,o,i),pe(u),s.stateNode=u):s.memoizedState=lT(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return Tr(s),i===null&&Ft&&(u=s.stateNode=sT(s.type,s.pendingProps,bt.current),un=s,pi=!0,f=he,Hr(s.type)?(Jm=f,he=Wn(u.firstChild)):he=f),He(i,s,s.pendingProps.children,o),lh(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&Ft&&((f=u=he)&&(u=eI(u,s.type,s.pendingProps,pi),u!==null?(s.stateNode=u,un=s,he=Wn(u.firstChild),pi=!1,f=!0):f=!1),f||Ys(s)),Tr(s),f=s.type,g=s.pendingProps,E=i!==null?i.memoizedProps:null,u=g.children,Qm(f,g)?u=null:E!==null&&Qm(f,E)&&(s.flags|=32),s.memoizedState!==null&&(f=$d(i,s,_C,null,null,o),Jl._currentValue=f),lh(i,s),He(i,s,u,o),s.child;case 6:return i===null&&Ft&&((i=o=he)&&(o=nI(o,s.pendingProps,pi),o!==null?(s.stateNode=o,un=s,he=null,i=!0):i=!1),i||Ys(s)),null;case 13:return e0(i,s,o);case 4:return te(s,s.stateNode.containerInfo),u=s.pendingProps,i===null?s.child=to(s,null,u,o):He(i,s,u,o),s.child;case 11:return Y_(i,s,s.type,s.pendingProps,o);case 7:return He(i,s,s.pendingProps,o),s.child;case 8:return He(i,s,s.pendingProps.children,o),s.child;case 12:return He(i,s,s.pendingProps.children,o),s.child;case 10:return u=s.pendingProps,Ir(s,s.type,u.value),He(i,s,u.children,o),s.child;case 9:return f=s.type._context,u=s.pendingProps.children,Qs(s),f=We(f),u=u(f),s.flags|=1,He(i,s,u,o),s.child;case 14:return $_(i,s,s.type,s.pendingProps,o);case 15:return Q_(i,s,s.type,s.pendingProps,o);case 19:return i0(i,s,o);case 31:return u=s.pendingProps,o=s.mode,u={mode:u.mode,children:u.children},i===null?(o=uh(u,o),o.ref=s.ref,s.child=o,o.return=s,s=o):(o=$i(i.child,u),o.ref=s.ref,s.child=o,o.return=s,s=o),s;case 22:return X_(i,s,o);case 24:return Qs(s),u=We(De),i===null?(f=jd(),f===null&&(f=ee,g=kd(),f.pooledCache=g,g.refCount++,g!==null&&(f.pooledCacheLanes|=o),f=g),s.memoizedState={parent:u,cache:f},zd(s),Ir(s,De,f)):((i.lanes&o)!==0&&(Fd(i,s),Pl(s,null,null,o),xl()),f=i.memoizedState,g=s.memoizedState,f.parent!==u?(f={parent:u,cache:u},s.memoizedState=f,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=f),Ir(s,De,u)):(u=g.cache,Ir(s,De,u),u!==f.cache&&Ld(s,[De],o,!0))),He(i,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function nr(i){i.flags|=4}function s0(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!dT(s)){if(s=Ln.current,s!==null&&((jt&4194048)===jt?gi!==null:(jt&62914560)!==jt&&(jt&536870912)===0||s!==gi))throw Il=Bd,Fv;i.flags|=8192}}function ch(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?el():536870912,i.lanes|=s,ro|=s)}function Ul(i,s){if(!Ft)switch(i.tailMode){case"hidden":s=i.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function ae(i){var s=i.alternate!==null&&i.alternate.child===i.child,o=0,u=0;if(s)for(var f=i.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=i,f=f.sibling;else for(f=i.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=i,f=f.sibling;return i.subtreeFlags|=u,i.childLanes=o,s}function IC(i,s,o){var u=s.pendingProps;switch(Md(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ae(s),null;case 1:return ae(s),null;case 3:return o=s.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),Zi(De),ii(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(El(s)?nr(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,kv())),ae(s),null;case 26:return o=s.memoizedState,i===null?(nr(s),o!==null?(ae(s),s0(s,o)):(ae(s),s.flags&=-16777217)):o?o!==i.memoizedState?(nr(s),ae(s),s0(s,o)):(ae(s),s.flags&=-16777217):(i.memoizedProps!==u&&nr(s),ae(s),s.flags&=-16777217),null;case 27:Ni(s),o=bt.current;var f=s.type;if(i!==null&&s.stateNode!=null)i.memoizedProps!==u&&nr(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return ae(s),null}i=pt.current,El(s)?Nv(s):(i=sT(f,u,o),s.stateNode=i,nr(s))}return ae(s),null;case 5:if(Ni(s),o=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==u&&nr(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return ae(s),null}if(i=pt.current,El(s))Nv(s);else{switch(f=Ah(bt.current),i){case 1:i=f.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:i=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":i=f.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":i=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":i=f.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof u.is=="string"?f.createElement("select",{is:u.is}):f.createElement("select"),u.multiple?i.multiple=!0:u.size&&(i.size=u.size);break;default:i=typeof u.is=="string"?f.createElement(o,{is:u.is}):f.createElement(o)}}i[Re]=s,i[Ee]=u;t:for(f=s.child;f!==null;){if(f.tag===5||f.tag===6)i.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===s)break t;for(;f.sibling===null;){if(f.return===null||f.return===s)break t;f=f.return}f.sibling.return=f.return,f=f.sibling}s.stateNode=i;t:switch(Ge(i,o,u),o){case"button":case"input":case"select":case"textarea":i=!!u.autoFocus;break t;case"img":i=!0;break t;default:i=!1}i&&nr(s)}}return ae(s),s.flags&=-16777217,null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==u&&nr(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(r(166));if(i=bt.current,El(s)){if(i=s.stateNode,o=s.memoizedProps,u=null,f=un,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}i[Re]=s,i=!!(i.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||Z0(i.nodeValue,o)),i||Ys(s)}else i=Ah(i).createTextNode(u),i[Re]=s,s.stateNode=i}return ae(s),null;case 13:if(u=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(f=El(s),u!==null&&u.dehydrated!==null){if(i===null){if(!f)throw Error(r(318));if(f=s.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[Re]=s}else Sl(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ae(s),f=!1}else f=kv(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=f),f=!0;if(!f)return s.flags&256?(tr(s),s):(tr(s),null)}if(tr(s),(s.flags&128)!==0)return s.lanes=o,s;if(o=u!==null,i=i!==null&&i.memoizedState!==null,o){u=s.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool);var g=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==f&&(u.flags|=2048)}return o!==i&&o&&(s.child.flags|=8192),ch(s,s.updateQueue),ae(s),null;case 4:return ii(),i===null&&qm(s.stateNode.containerInfo),ae(s),null;case 10:return Zi(s.type),ae(s),null;case 19:if(ut(xe),f=s.memoizedState,f===null)return ae(s),null;if(u=(s.flags&128)!==0,g=f.rendering,g===null)if(u)Ul(f,!1);else{if(fe!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(g=sh(i),g!==null){for(s.flags|=128,Ul(f,!1),i=g.updateQueue,s.updateQueue=i,ch(s,i),s.subtreeFlags=0,i=o,o=s.child;o!==null;)Ov(o,i),o=o.sibling;return ot(xe,xe.current&1|2),s.child}i=i.sibling}f.tail!==null&&Rn()>dh&&(s.flags|=128,u=!0,Ul(f,!1),s.lanes=4194304)}else{if(!u)if(i=sh(g),i!==null){if(s.flags|=128,u=!0,i=i.updateQueue,s.updateQueue=i,ch(s,i),Ul(f,!0),f.tail===null&&f.tailMode==="hidden"&&!g.alternate&&!Ft)return ae(s),null}else 2*Rn()-f.renderingStartTime>dh&&o!==536870912&&(s.flags|=128,u=!0,Ul(f,!1),s.lanes=4194304);f.isBackwards?(g.sibling=s.child,s.child=g):(i=f.last,i!==null?i.sibling=g:s.child=g,f.last=g)}return f.tail!==null?(s=f.tail,f.rendering=s,f.tail=s.sibling,f.renderingStartTime=Rn(),s.sibling=null,i=xe.current,ot(xe,u?i&1|2:i&1),s):(ae(s),null);case 22:case 23:return tr(s),Kd(),u=s.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(o&536870912)!==0&&(s.flags&128)===0&&(ae(s),s.subtreeFlags&6&&(s.flags|=8192)):ae(s),o=s.updateQueue,o!==null&&ch(s,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==o&&(s.flags|=2048),i!==null&&ut(Xs),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),Zi(De),ae(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function DC(i,s){switch(Md(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return Zi(De),ii(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return Ni(s),null;case 13:if(tr(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Sl()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return ut(xe),null;case 4:return ii(),null;case 10:return Zi(s.type),null;case 22:case 23:return tr(s),Kd(),i!==null&&ut(Xs),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return Zi(De),null;case 25:return null;default:return null}}function a0(i,s){switch(Md(s),s.tag){case 3:Zi(De),ii();break;case 26:case 27:case 5:Ni(s);break;case 4:ii();break;case 13:tr(s);break;case 19:ut(xe);break;case 10:Zi(s.type);break;case 22:case 23:tr(s),Kd(),i!==null&&ut(Xs);break;case 24:Zi(De)}}function jl(i,s){try{var o=s.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var f=u.next;o=f;do{if((o.tag&i)===i){u=void 0;var g=o.create,E=o.inst;u=g(),E.destroy=u}o=o.next}while(o!==f)}}catch(A){Jt(s,s.return,A)}}function Nr(i,s,o){try{var u=s.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var g=f.next;u=g;do{if((u.tag&i)===i){var E=u.inst,A=E.destroy;if(A!==void 0){E.destroy=void 0,f=s;var D=o,K=A;try{K()}catch(Z){Jt(f,D,Z)}}}u=u.next}while(u!==g)}}catch(Z){Jt(s,s.return,Z)}}function o0(i){var s=i.updateQueue;if(s!==null){var o=i.stateNode;try{$v(s,o)}catch(u){Jt(i,i.return,u)}}}function l0(i,s,o){o.props=Zs(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(u){Jt(i,s,u)}}function Bl(i,s){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var u=i.stateNode;break;case 30:u=i.stateNode;break;default:u=i.stateNode}typeof o=="function"?i.refCleanup=o(u):o.current=u}}catch(f){Jt(i,s,f)}}function yi(i,s){var o=i.ref,u=i.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(f){Jt(i,s,f)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){Jt(i,s,f)}else o.current=null}function u0(i){var s=i.type,o=i.memoizedProps,u=i.stateNode;try{t:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break t;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(f){Jt(i,i.return,f)}}function Tm(i,s,o){try{var u=i.stateNode;XC(u,i.type,o,s),u[Ee]=s}catch(f){Jt(i,i.return,f)}}function c0(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Hr(i.type)||i.tag===4}function Em(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||c0(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Hr(i.type)||i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Sm(i,s,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(i),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=Sh));else if(u!==4&&(u===27&&Hr(i.type)&&(o=i.stateNode,s=null),i=i.child,i!==null))for(Sm(i,s,o),i=i.sibling;i!==null;)Sm(i,s,o),i=i.sibling}function hh(i,s,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,s?o.insertBefore(i,s):o.appendChild(i);else if(u!==4&&(u===27&&Hr(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(hh(i,s,o),i=i.sibling;i!==null;)hh(i,s,o),i=i.sibling}function h0(i){var s=i.stateNode,o=i.memoizedProps;try{for(var u=i.type,f=s.attributes;f.length;)s.removeAttributeNode(f[0]);Ge(s,u,o),s[Re]=i,s[Ee]=o}catch(g){Jt(i,i.return,g)}}var ir=!1,ye=!1,Am=!1,f0=typeof WeakSet=="function"?WeakSet:Set,Ue=null;function xC(i,s){if(i=i.containerInfo,Ym=Dh,i=Av(i),Ed(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else t:{o=(o=i.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var f=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break t}var E=0,A=-1,D=-1,K=0,Z=0,tt=i,Y=null;e:for(;;){for(var $;tt!==o||f!==0&&tt.nodeType!==3||(A=E+f),tt!==g||u!==0&&tt.nodeType!==3||(D=E+u),tt.nodeType===3&&(E+=tt.nodeValue.length),($=tt.firstChild)!==null;)Y=tt,tt=$;for(;;){if(tt===i)break e;if(Y===o&&++K===f&&(A=E),Y===g&&++Z===u&&(D=E),($=tt.nextSibling)!==null)break;tt=Y,Y=tt.parentNode}tt=$}o=A===-1||D===-1?null:{start:A,end:D}}else o=null}o=o||{start:0,end:0}}else o=null;for($m={focusedElem:i,selectionRange:o},Dh=!1,Ue=s;Ue!==null;)if(s=Ue,i=s.child,(s.subtreeFlags&1024)!==0&&i!==null)i.return=s,Ue=i;else for(;Ue!==null;){switch(s=Ue,g=s.alternate,i=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&g!==null){i=void 0,o=s,f=g.memoizedProps,g=g.memoizedState,u=o.stateNode;try{var St=Zs(o.type,f,o.elementType===o.type);i=u.getSnapshotBeforeUpdate(St,g),u.__reactInternalSnapshotBeforeUpdate=i}catch(gt){Jt(o,o.return,gt)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,o=i.nodeType,o===9)Wm(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Wm(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,Ue=i;break}Ue=s.return}}function d0(i,s,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:Lr(i,o),u&4&&jl(5,o);break;case 1:if(Lr(i,o),u&4)if(i=o.stateNode,s===null)try{i.componentDidMount()}catch(E){Jt(o,o.return,E)}else{var f=Zs(o.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(f,s,i.__reactInternalSnapshotBeforeUpdate)}catch(E){Jt(o,o.return,E)}}u&64&&o0(o),u&512&&Bl(o,o.return);break;case 3:if(Lr(i,o),u&64&&(i=o.updateQueue,i!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{$v(i,s)}catch(E){Jt(o,o.return,E)}}break;case 27:s===null&&u&4&&h0(o);case 26:case 5:Lr(i,o),s===null&&u&4&&u0(o),u&512&&Bl(o,o.return);break;case 12:Lr(i,o);break;case 13:Lr(i,o),u&4&&g0(i,o),u&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=jC.bind(null,o),iI(i,o))));break;case 22:if(u=o.memoizedState!==null||ir,!u){s=s!==null&&s.memoizedState!==null||ye,f=ir;var g=ye;ir=u,(ye=s)&&!g?kr(i,o,(o.subtreeFlags&8772)!==0):Lr(i,o),ir=f,ye=g}break;case 30:break;default:Lr(i,o)}}function m0(i){var s=i.alternate;s!==null&&(i.alternate=null,m0(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&br(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var re=null,dn=!1;function rr(i,s,o){for(o=o.child;o!==null;)p0(i,s,o),o=o.sibling}function p0(i,s,o){if(Kt&&typeof Kt.onCommitFiberUnmount=="function")try{Kt.onCommitFiberUnmount(ce,o)}catch{}switch(o.tag){case 26:ye||yi(o,s),rr(i,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:ye||yi(o,s);var u=re,f=dn;Hr(o.type)&&(re=o.stateNode,dn=!1),rr(i,s,o),Ql(o.stateNode),re=u,dn=f;break;case 5:ye||yi(o,s);case 6:if(u=re,f=dn,re=null,rr(i,s,o),re=u,dn=f,re!==null)if(dn)try{(re.nodeType===9?re.body:re.nodeName==="HTML"?re.ownerDocument.body:re).removeChild(o.stateNode)}catch(g){Jt(o,s,g)}else try{re.removeChild(o.stateNode)}catch(g){Jt(o,s,g)}break;case 18:re!==null&&(dn?(i=re,iT(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),iu(i)):iT(re,o.stateNode));break;case 4:u=re,f=dn,re=o.stateNode.containerInfo,dn=!0,rr(i,s,o),re=u,dn=f;break;case 0:case 11:case 14:case 15:ye||Nr(2,o,s),ye||Nr(4,o,s),rr(i,s,o);break;case 1:ye||(yi(o,s),u=o.stateNode,typeof u.componentWillUnmount=="function"&&l0(o,s,u)),rr(i,s,o);break;case 21:rr(i,s,o);break;case 22:ye=(u=ye)||o.memoizedState!==null,rr(i,s,o),ye=u;break;default:rr(i,s,o)}}function g0(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{iu(i)}catch(o){Jt(s,s.return,o)}}function PC(i){switch(i.tag){case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new f0),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new f0),s;default:throw Error(r(435,i.tag))}}function bm(i,s){var o=PC(i);s.forEach(function(u){var f=BC.bind(null,i,u);o.has(u)||(o.add(u),u.then(f,f))})}function Tn(i,s){var o=s.deletions;if(o!==null)for(var u=0;u<o.length;u++){var f=o[u],g=i,E=s,A=E;t:for(;A!==null;){switch(A.tag){case 27:if(Hr(A.type)){re=A.stateNode,dn=!1;break t}break;case 5:re=A.stateNode,dn=!1;break t;case 3:case 4:re=A.stateNode.containerInfo,dn=!0;break t}A=A.return}if(re===null)throw Error(r(160));p0(g,E,f),re=null,dn=!1,g=f.alternate,g!==null&&(g.return=null),f.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)y0(s,i),s=s.sibling}var Xn=null;function y0(i,s){var o=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Tn(s,i),En(i),u&4&&(Nr(3,i,i.return),jl(3,i),Nr(5,i,i.return));break;case 1:Tn(s,i),En(i),u&512&&(ye||o===null||yi(o,o.return)),u&64&&ir&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var f=Xn;if(Tn(s,i),En(i),u&512&&(ye||o===null||yi(o,o.return)),u&4){var g=o!==null?o.memoizedState:null;if(u=i.memoizedState,o===null)if(u===null)if(i.stateNode===null){t:{u=i.type,o=i.memoizedProps,f=f.ownerDocument||f;e:switch(u){case"title":g=f.getElementsByTagName("title")[0],(!g||g[Cs]||g[Re]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=f.createElement(u),f.head.insertBefore(g,f.querySelector("head > title"))),Ge(g,u,o),g[Re]=i,pe(g),u=g;break t;case"link":var E=hT("link","href",f).get(u+(o.href||""));if(E){for(var A=0;A<E.length;A++)if(g=E[A],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){E.splice(A,1);break e}}g=f.createElement(u),Ge(g,u,o),f.head.appendChild(g);break;case"meta":if(E=hT("meta","content",f).get(u+(o.content||""))){for(A=0;A<E.length;A++)if(g=E[A],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){E.splice(A,1);break e}}g=f.createElement(u),Ge(g,u,o),f.head.appendChild(g);break;default:throw Error(r(468,u))}g[Re]=i,pe(g),u=g}i.stateNode=u}else fT(f,i.type,i.stateNode);else i.stateNode=cT(f,u,i.memoizedProps);else g!==u?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,u===null?fT(f,i.type,i.stateNode):cT(f,u,i.memoizedProps)):u===null&&i.stateNode!==null&&Tm(i,i.memoizedProps,o.memoizedProps)}break;case 27:Tn(s,i),En(i),u&512&&(ye||o===null||yi(o,o.return)),o!==null&&u&4&&Tm(i,i.memoizedProps,o.memoizedProps);break;case 5:if(Tn(s,i),En(i),u&512&&(ye||o===null||yi(o,o.return)),i.flags&32){f=i.stateNode;try{In(f,"")}catch($){Jt(i,i.return,$)}}u&4&&i.stateNode!=null&&(f=i.memoizedProps,Tm(i,f,o!==null?o.memoizedProps:f)),u&1024&&(Am=!0);break;case 6:if(Tn(s,i),En(i),u&4){if(i.stateNode===null)throw Error(r(162));u=i.memoizedProps,o=i.stateNode;try{o.nodeValue=u}catch($){Jt(i,i.return,$)}}break;case 3:if(Rh=null,f=Xn,Xn=bh(s.containerInfo),Tn(s,i),Xn=f,En(i),u&4&&o!==null&&o.memoizedState.isDehydrated)try{iu(s.containerInfo)}catch($){Jt(i,i.return,$)}Am&&(Am=!1,v0(i));break;case 4:u=Xn,Xn=bh(i.stateNode.containerInfo),Tn(s,i),En(i),Xn=u;break;case 12:Tn(s,i),En(i);break;case 13:Tn(s,i),En(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(xm=Rn()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,bm(i,u)));break;case 22:f=i.memoizedState!==null;var D=o!==null&&o.memoizedState!==null,K=ir,Z=ye;if(ir=K||f,ye=Z||D,Tn(s,i),ye=Z,ir=K,En(i),u&8192)t:for(s=i.stateNode,s._visibility=f?s._visibility&-2:s._visibility|1,f&&(o===null||D||ir||ye||Js(i)),o=null,s=i;;){if(s.tag===5||s.tag===26){if(o===null){D=o=s;try{if(g=D.stateNode,f)E=g.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{A=D.stateNode;var tt=D.memoizedProps.style,Y=tt!=null&&tt.hasOwnProperty("display")?tt.display:null;A.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch($){Jt(D,D.return,$)}}}else if(s.tag===6){if(o===null){D=s;try{D.stateNode.nodeValue=f?"":D.memoizedProps}catch($){Jt(D,D.return,$)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break t;for(;s.sibling===null;){if(s.return===null||s.return===i)break t;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=i.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,bm(i,o))));break;case 19:Tn(s,i),En(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,bm(i,u)));break;case 30:break;case 21:break;default:Tn(s,i),En(i)}}function En(i){var s=i.flags;if(s&2){try{for(var o,u=i.return;u!==null;){if(c0(u)){o=u;break}u=u.return}if(o==null)throw Error(r(160));switch(o.tag){case 27:var f=o.stateNode,g=Em(i);hh(i,g,f);break;case 5:var E=o.stateNode;o.flags&32&&(In(E,""),o.flags&=-33);var A=Em(i);hh(i,A,E);break;case 3:case 4:var D=o.stateNode.containerInfo,K=Em(i);Sm(i,K,D);break;default:throw Error(r(161))}}catch(Z){Jt(i,i.return,Z)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function v0(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;v0(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function Lr(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)d0(i,s.alternate,s),s=s.sibling}function Js(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:Nr(4,s,s.return),Js(s);break;case 1:yi(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&l0(s,s.return,o),Js(s);break;case 27:Ql(s.stateNode);case 26:case 5:yi(s,s.return),Js(s);break;case 22:s.memoizedState===null&&Js(s);break;case 30:Js(s);break;default:Js(s)}i=i.sibling}}function kr(i,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,f=i,g=s,E=g.flags;switch(g.tag){case 0:case 11:case 15:kr(f,g,o),jl(4,g);break;case 1:if(kr(f,g,o),u=g,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(K){Jt(u,u.return,K)}if(u=g,f=u.updateQueue,f!==null){var A=u.stateNode;try{var D=f.shared.hiddenCallbacks;if(D!==null)for(f.shared.hiddenCallbacks=null,f=0;f<D.length;f++)Yv(D[f],A)}catch(K){Jt(u,u.return,K)}}o&&E&64&&o0(g),Bl(g,g.return);break;case 27:h0(g);case 26:case 5:kr(f,g,o),o&&u===null&&E&4&&u0(g),Bl(g,g.return);break;case 12:kr(f,g,o);break;case 13:kr(f,g,o),o&&E&4&&g0(f,g);break;case 22:g.memoizedState===null&&kr(f,g,o),Bl(g,g.return);break;case 30:break;default:kr(f,g,o)}s=s.sibling}}function wm(i,s){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&wl(o))}function Rm(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&wl(i))}function vi(i,s,o,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)_0(i,s,o,u),s=s.sibling}function _0(i,s,o,u){var f=s.flags;switch(s.tag){case 0:case 11:case 15:vi(i,s,o,u),f&2048&&jl(9,s);break;case 1:vi(i,s,o,u);break;case 3:vi(i,s,o,u),f&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&wl(i)));break;case 12:if(f&2048){vi(i,s,o,u),i=s.stateNode;try{var g=s.memoizedProps,E=g.id,A=g.onPostCommit;typeof A=="function"&&A(E,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(D){Jt(s,s.return,D)}}else vi(i,s,o,u);break;case 13:vi(i,s,o,u);break;case 23:break;case 22:g=s.stateNode,E=s.alternate,s.memoizedState!==null?g._visibility&2?vi(i,s,o,u):zl(i,s):g._visibility&2?vi(i,s,o,u):(g._visibility|=2,eo(i,s,o,u,(s.subtreeFlags&10256)!==0)),f&2048&&wm(E,s);break;case 24:vi(i,s,o,u),f&2048&&Rm(s.alternate,s);break;default:vi(i,s,o,u)}}function eo(i,s,o,u,f){for(f=f&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var g=i,E=s,A=o,D=u,K=E.flags;switch(E.tag){case 0:case 11:case 15:eo(g,E,A,D,f),jl(8,E);break;case 23:break;case 22:var Z=E.stateNode;E.memoizedState!==null?Z._visibility&2?eo(g,E,A,D,f):zl(g,E):(Z._visibility|=2,eo(g,E,A,D,f)),f&&K&2048&&wm(E.alternate,E);break;case 24:eo(g,E,A,D,f),f&&K&2048&&Rm(E.alternate,E);break;default:eo(g,E,A,D,f)}s=s.sibling}}function zl(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=i,u=s,f=u.flags;switch(u.tag){case 22:zl(o,u),f&2048&&wm(u.alternate,u);break;case 24:zl(o,u),f&2048&&Rm(u.alternate,u);break;default:zl(o,u)}s=s.sibling}}var Fl=8192;function no(i){if(i.subtreeFlags&Fl)for(i=i.child;i!==null;)T0(i),i=i.sibling}function T0(i){switch(i.tag){case 26:no(i),i.flags&Fl&&i.memoizedState!==null&&gI(Xn,i.memoizedState,i.memoizedProps);break;case 5:no(i);break;case 3:case 4:var s=Xn;Xn=bh(i.stateNode.containerInfo),no(i),Xn=s;break;case 22:i.memoizedState===null&&(s=i.alternate,s!==null&&s.memoizedState!==null?(s=Fl,Fl=16777216,no(i),Fl=s):no(i));break;default:no(i)}}function E0(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function Hl(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];Ue=u,A0(u,i)}E0(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)S0(i),i=i.sibling}function S0(i){switch(i.tag){case 0:case 11:case 15:Hl(i),i.flags&2048&&Nr(9,i,i.return);break;case 3:Hl(i);break;case 12:Hl(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,fh(i)):Hl(i);break;default:Hl(i)}}function fh(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];Ue=u,A0(u,i)}E0(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:Nr(8,s,s.return),fh(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,fh(s));break;default:fh(s)}i=i.sibling}}function A0(i,s){for(;Ue!==null;){var o=Ue;switch(o.tag){case 0:case 11:case 15:Nr(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:wl(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Ue=u;else t:for(o=i;Ue!==null;){u=Ue;var f=u.sibling,g=u.return;if(m0(u),u===o){Ue=null;break t}if(f!==null){f.return=g,Ue=f;break t}Ue=g}}}var MC={getCacheForType:function(i){var s=We(De),o=s.data.get(i);return o===void 0&&(o=i(),s.data.set(i,o)),o}},OC=typeof WeakMap=="function"?WeakMap:Map,Yt=0,ee=null,Mt=null,jt=0,$t=0,Sn=null,Ur=!1,io=!1,Cm=!1,sr=0,fe=0,jr=0,ta=0,Im=0,kn=0,ro=0,ql=null,mn=null,Dm=!1,xm=0,dh=1/0,mh=null,Br=null,qe=0,zr=null,so=null,ao=0,Pm=0,Mm=null,b0=null,Gl=0,Om=null;function An(){if((Yt&2)!==0&&jt!==0)return jt&-jt;if(W.T!==null){var i=Ya;return i!==0?i:Bm()}return Sr()}function w0(){kn===0&&(kn=(jt&536870912)===0||Ft?tl():536870912);var i=Ln.current;return i!==null&&(i.flags|=32),kn}function bn(i,s,o){(i===ee&&($t===2||$t===9)||i.cancelPendingCommit!==null)&&(oo(i,0),Fr(i,jt,kn,!1)),ki(i,o),((Yt&2)===0||i!==ee)&&(i===ee&&((Yt&2)===0&&(ta|=o),fe===4&&Fr(i,jt,kn,!1)),_i(i))}function R0(i,s,o){if((Yt&6)!==0)throw Error(r(327));var u=!o&&(s&124)===0&&(s&i.expiredLanes)===0||Rs(i,s),f=u?LC(i,s):Lm(i,s,!0),g=u;do{if(f===0){io&&!u&&Fr(i,s,0,!1);break}else{if(o=i.current.alternate,g&&!VC(o)){f=Lm(i,s,!1),g=!1;continue}if(f===2){if(g=s,i.errorRecoveryDisabledLanes&g)var E=0;else E=i.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){s=E;t:{var A=i;f=ql;var D=A.current.memoizedState.isDehydrated;if(D&&(oo(A,E).flags|=256),E=Lm(A,E,!1),E!==2){if(Cm&&!D){A.errorRecoveryDisabledLanes|=g,ta|=g,f=4;break t}g=mn,mn=f,g!==null&&(mn===null?mn=g:mn.push.apply(mn,g))}f=E}if(g=!1,f!==2)continue}}if(f===1){oo(i,0),Fr(i,s,0,!0);break}t:{switch(u=i,g=f,g){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Fr(u,s,kn,!Ur);break t;case 2:mn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(f=xm+300-Rn(),10<f)){if(Fr(u,s,kn,!Ur),ba(u,0,!0)!==0)break t;u.timeoutHandle=eT(C0.bind(null,u,o,mn,mh,Dm,s,kn,ta,ro,Ur,g,2,-0,0),f);break t}C0(u,o,mn,mh,Dm,s,kn,ta,ro,Ur,g,0,-0,0)}}break}while(!0);_i(i)}function C0(i,s,o,u,f,g,E,A,D,K,Z,tt,Y,$){if(i.timeoutHandle=-1,tt=s.subtreeFlags,(tt&8192||(tt&16785408)===16785408)&&(Zl={stylesheets:null,count:0,unsuspend:pI},T0(s),tt=yI(),tt!==null)){i.cancelPendingCommit=tt(V0.bind(null,i,s,g,o,u,f,E,A,D,Z,1,Y,$)),Fr(i,g,E,!K);return}V0(i,s,g,o,u,f,E,A,D)}function VC(i){for(var s=i;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var f=o[u],g=f.getSnapshot;f=f.value;try{if(!vn(g(),f))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Fr(i,s,o,u){s&=~Im,s&=~ta,i.suspendedLanes|=s,i.pingedLanes&=~s,u&&(i.warmLanes|=s),u=i.expirationTimes;for(var f=s;0<f;){var g=31-Xe(f),E=1<<g;u[g]=-1,f&=~E}o!==0&&ri(i,o,s)}function ph(){return(Yt&6)===0?(Kl(0),!1):!0}function Vm(){if(Mt!==null){if($t===0)var i=Mt.return;else i=Mt,Wi=$s=null,Wd(i),Ja=null,Ll=0,i=Mt;for(;i!==null;)a0(i.alternate,i),i=i.return;Mt=null}}function oo(i,s){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,ZC(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),Vm(),ee=i,Mt=o=$i(i.current,null),jt=s,$t=0,Sn=null,Ur=!1,io=Rs(i,s),Cm=!1,ro=kn=Im=ta=jr=fe=0,mn=ql=null,Dm=!1,(s&8)!==0&&(s|=s&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=s;0<u;){var f=31-Xe(u),g=1<<f;s|=i[f],u&=~g}return sr=s,kc(),o}function I0(i,s){It=null,W.H=nh,s===Cl||s===Kc?(s=Gv(),$t=3):s===Fv?(s=Gv(),$t=4):$t=s===K_?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Sn=s,Mt===null&&(fe=1,oh(i,Mn(s,i.current)))}function D0(){var i=W.H;return W.H=nh,i===null?nh:i}function x0(){var i=W.A;return W.A=MC,i}function Nm(){fe=4,Ur||(jt&4194048)!==jt&&Ln.current!==null||(io=!0),(jr&134217727)===0&&(ta&134217727)===0||ee===null||Fr(ee,jt,kn,!1)}function Lm(i,s,o){var u=Yt;Yt|=2;var f=D0(),g=x0();(ee!==i||jt!==s)&&(mh=null,oo(i,s)),s=!1;var E=fe;t:do try{if($t!==0&&Mt!==null){var A=Mt,D=Sn;switch($t){case 8:Vm(),E=6;break t;case 3:case 2:case 9:case 6:Ln.current===null&&(s=!0);var K=$t;if($t=0,Sn=null,lo(i,A,D,K),o&&io){E=0;break t}break;default:K=$t,$t=0,Sn=null,lo(i,A,D,K)}}NC(),E=fe;break}catch(Z){I0(i,Z)}while(!0);return s&&i.shellSuspendCounter++,Wi=$s=null,Yt=u,W.H=f,W.A=g,Mt===null&&(ee=null,jt=0,kc()),E}function NC(){for(;Mt!==null;)P0(Mt)}function LC(i,s){var o=Yt;Yt|=2;var u=D0(),f=x0();ee!==i||jt!==s?(mh=null,dh=Rn()+500,oo(i,s)):io=Rs(i,s);t:do try{if($t!==0&&Mt!==null){s=Mt;var g=Sn;e:switch($t){case 1:$t=0,Sn=null,lo(i,s,g,1);break;case 2:case 9:if(Hv(g)){$t=0,Sn=null,M0(s);break}s=function(){$t!==2&&$t!==9||ee!==i||($t=7),_i(i)},g.then(s,s);break t;case 3:$t=7;break t;case 4:$t=5;break t;case 7:Hv(g)?($t=0,Sn=null,M0(s)):($t=0,Sn=null,lo(i,s,g,7));break;case 5:var E=null;switch(Mt.tag){case 26:E=Mt.memoizedState;case 5:case 27:var A=Mt;if(!E||dT(E)){$t=0,Sn=null;var D=A.sibling;if(D!==null)Mt=D;else{var K=A.return;K!==null?(Mt=K,gh(K)):Mt=null}break e}}$t=0,Sn=null,lo(i,s,g,5);break;case 6:$t=0,Sn=null,lo(i,s,g,6);break;case 8:Vm(),fe=6;break t;default:throw Error(r(462))}}kC();break}catch(Z){I0(i,Z)}while(!0);return Wi=$s=null,W.H=u,W.A=f,Yt=o,Mt!==null?0:(ee=null,jt=0,kc(),fe)}function kC(){for(;Mt!==null&&!Xo();)P0(Mt)}function P0(i){var s=r0(i.alternate,i,sr);i.memoizedProps=i.pendingProps,s===null?gh(i):Mt=s}function M0(i){var s=i,o=s.alternate;switch(s.tag){case 15:case 0:s=Z_(o,s,s.pendingProps,s.type,void 0,jt);break;case 11:s=Z_(o,s,s.pendingProps,s.type.render,s.ref,jt);break;case 5:Wd(s);default:a0(o,s),s=Mt=Ov(s,sr),s=r0(o,s,sr)}i.memoizedProps=i.pendingProps,s===null?gh(i):Mt=s}function lo(i,s,o,u){Wi=$s=null,Wd(s),Ja=null,Ll=0;var f=s.return;try{if(RC(i,f,s,o,jt)){fe=1,oh(i,Mn(o,i.current)),Mt=null;return}}catch(g){if(f!==null)throw Mt=f,g;fe=1,oh(i,Mn(o,i.current)),Mt=null;return}s.flags&32768?(Ft||u===1?i=!0:io||(jt&536870912)!==0?i=!1:(Ur=i=!0,(u===2||u===9||u===3||u===6)&&(u=Ln.current,u!==null&&u.tag===13&&(u.flags|=16384))),O0(s,i)):gh(s)}function gh(i){var s=i;do{if((s.flags&32768)!==0){O0(s,Ur);return}i=s.return;var o=IC(s.alternate,s,sr);if(o!==null){Mt=o;return}if(s=s.sibling,s!==null){Mt=s;return}Mt=s=i}while(s!==null);fe===0&&(fe=5)}function O0(i,s){do{var o=DC(i.alternate,i);if(o!==null){o.flags&=32767,Mt=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(i=i.sibling,i!==null)){Mt=i;return}Mt=i=o}while(i!==null);fe=6,Mt=null}function V0(i,s,o,u,f,g,E,A,D){i.cancelPendingCommit=null;do yh();while(qe!==0);if((Yt&6)!==0)throw Error(r(327));if(s!==null){if(s===i.current)throw Error(r(177));if(g=s.lanes|s.childLanes,g|=Rd,nl(i,o,g,E,A,D),i===ee&&(Mt=ee=null,jt=0),so=s,zr=i,ao=o,Pm=g,Mm=f,b0=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,zC(Ss,function(){return j0(),null})):(i.callbackNode=null,i.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=W.T,W.T=null,f=at.p,at.p=2,E=Yt,Yt|=4;try{xC(i,s,o)}finally{Yt=E,at.p=f,W.T=u}}qe=1,N0(),L0(),k0()}}function N0(){if(qe===1){qe=0;var i=zr,s=so,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=W.T,W.T=null;var u=at.p;at.p=2;var f=Yt;Yt|=4;try{y0(s,i);var g=$m,E=Av(i.containerInfo),A=g.focusedElem,D=g.selectionRange;if(E!==A&&A&&A.ownerDocument&&Sv(A.ownerDocument.documentElement,A)){if(D!==null&&Ed(A)){var K=D.start,Z=D.end;if(Z===void 0&&(Z=K),"selectionStart"in A)A.selectionStart=K,A.selectionEnd=Math.min(Z,A.value.length);else{var tt=A.ownerDocument||document,Y=tt&&tt.defaultView||window;if(Y.getSelection){var $=Y.getSelection(),St=A.textContent.length,gt=Math.min(D.start,St),Zt=D.end===void 0?gt:Math.min(D.end,St);!$.extend&&gt>Zt&&(E=Zt,Zt=gt,gt=E);var z=Ev(A,gt),N=Ev(A,Zt);if(z&&N&&($.rangeCount!==1||$.anchorNode!==z.node||$.anchorOffset!==z.offset||$.focusNode!==N.node||$.focusOffset!==N.offset)){var G=tt.createRange();G.setStart(z.node,z.offset),$.removeAllRanges(),gt>Zt?($.addRange(G),$.extend(N.node,N.offset)):(G.setEnd(N.node,N.offset),$.addRange(G))}}}}for(tt=[],$=A;$=$.parentNode;)$.nodeType===1&&tt.push({element:$,left:$.scrollLeft,top:$.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<tt.length;A++){var J=tt[A];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}Dh=!!Ym,$m=Ym=null}finally{Yt=f,at.p=u,W.T=o}}i.current=s,qe=2}}function L0(){if(qe===2){qe=0;var i=zr,s=so,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=W.T,W.T=null;var u=at.p;at.p=2;var f=Yt;Yt|=4;try{d0(i,s.alternate,s)}finally{Yt=f,at.p=u,W.T=o}}qe=3}}function k0(){if(qe===4||qe===3){qe=0,fc();var i=zr,s=so,o=ao,u=b0;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?qe=5:(qe=0,so=zr=null,U0(i,i.pendingLanes));var f=i.pendingLanes;if(f===0&&(Br=null),wa(o),s=s.stateNode,Kt&&typeof Kt.onCommitFiberRoot=="function")try{Kt.onCommitFiberRoot(ce,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=W.T,f=at.p,at.p=2,W.T=null;try{for(var g=i.onRecoverableError,E=0;E<u.length;E++){var A=u[E];g(A.value,{componentStack:A.stack})}}finally{W.T=s,at.p=f}}(ao&3)!==0&&yh(),_i(i),f=i.pendingLanes,(o&4194090)!==0&&(f&42)!==0?i===Om?Gl++:(Gl=0,Om=i):Gl=0,Kl(0)}}function U0(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,wl(s)))}function yh(i){return N0(),L0(),k0(),j0()}function j0(){if(qe!==5)return!1;var i=zr,s=Pm;Pm=0;var o=wa(ao),u=W.T,f=at.p;try{at.p=32>o?32:o,W.T=null,o=Mm,Mm=null;var g=zr,E=ao;if(qe=0,so=zr=null,ao=0,(Yt&6)!==0)throw Error(r(331));var A=Yt;if(Yt|=4,S0(g.current),_0(g,g.current,E,o),Yt=A,Kl(0,!1),Kt&&typeof Kt.onPostCommitFiberRoot=="function")try{Kt.onPostCommitFiberRoot(ce,g)}catch{}return!0}finally{at.p=f,W.T=u,U0(i,s)}}function B0(i,s,o){s=Mn(o,s),s=hm(i.stateNode,s,2),i=Pr(i,s,2),i!==null&&(ki(i,2),_i(i))}function Jt(i,s,o){if(i.tag===3)B0(i,i,o);else for(;s!==null;){if(s.tag===3){B0(s,i,o);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Br===null||!Br.has(u))){i=Mn(o,i),o=q_(2),u=Pr(s,o,2),u!==null&&(G_(o,u,s,i),ki(u,2),_i(u));break}}s=s.return}}function km(i,s,o){var u=i.pingCache;if(u===null){u=i.pingCache=new OC;var f=new Set;u.set(s,f)}else f=u.get(s),f===void 0&&(f=new Set,u.set(s,f));f.has(o)||(Cm=!0,f.add(o),i=UC.bind(null,i,s,o),s.then(i,i))}function UC(i,s,o){var u=i.pingCache;u!==null&&u.delete(s),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,ee===i&&(jt&o)===o&&(fe===4||fe===3&&(jt&62914560)===jt&&300>Rn()-xm?(Yt&2)===0&&oo(i,0):Im|=o,ro===jt&&(ro=0)),_i(i)}function z0(i,s){s===0&&(s=el()),i=Ha(i,s),i!==null&&(ki(i,s),_i(i))}function jC(i){var s=i.memoizedState,o=0;s!==null&&(o=s.retryLane),z0(i,o)}function BC(i,s){var o=0;switch(i.tag){case 13:var u=i.stateNode,f=i.memoizedState;f!==null&&(o=f.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(r(314))}u!==null&&u.delete(s),z0(i,o)}function zC(i,s){return Ts(i,s)}var vh=null,uo=null,Um=!1,_h=!1,jm=!1,ea=0;function _i(i){i!==uo&&i.next===null&&(uo===null?vh=uo=i:uo=uo.next=i),_h=!0,Um||(Um=!0,HC())}function Kl(i,s){if(!jm&&_h){jm=!0;do for(var o=!1,u=vh;u!==null;){if(i!==0){var f=u.pendingLanes;if(f===0)var g=0;else{var E=u.suspendedLanes,A=u.pingedLanes;g=(1<<31-Xe(42|i)+1)-1,g&=f&~(E&~A),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,G0(u,g))}else g=jt,g=ba(u,u===ee?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(g&3)===0||Rs(u,g)||(o=!0,G0(u,g));u=u.next}while(o);jm=!1}}function FC(){F0()}function F0(){_h=Um=!1;var i=0;ea!==0&&(WC()&&(i=ea),ea=0);for(var s=Rn(),o=null,u=vh;u!==null;){var f=u.next,g=H0(u,s);g===0?(u.next=null,o===null?vh=f:o.next=f,f===null&&(uo=o)):(o=u,(i!==0||(g&3)!==0)&&(_h=!0)),u=f}Kl(i)}function H0(i,s){for(var o=i.suspendedLanes,u=i.pingedLanes,f=i.expirationTimes,g=i.pendingLanes&-62914561;0<g;){var E=31-Xe(g),A=1<<E,D=f[E];D===-1?((A&o)===0||(A&u)!==0)&&(f[E]=Jo(A,s)):D<=s&&(i.expiredLanes|=A),g&=~A}if(s=ee,o=jt,o=ba(i,i===s?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u=i.callbackNode,o===0||i===s&&($t===2||$t===9)||i.cancelPendingCommit!==null)return u!==null&&u!==null&&Es(u),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||Rs(i,o)){if(s=o&-o,s===i.callbackPriority)return s;switch(u!==null&&Es(u),wa(o)){case 2:case 8:o=Sa;break;case 32:o=Ss;break;case 268435456:o=Aa;break;default:o=Ss}return u=q0.bind(null,i),o=Ts(o,u),i.callbackPriority=s,i.callbackNode=o,s}return u!==null&&u!==null&&Es(u),i.callbackPriority=2,i.callbackNode=null,2}function q0(i,s){if(qe!==0&&qe!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(yh()&&i.callbackNode!==o)return null;var u=jt;return u=ba(i,i===ee?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u===0?null:(R0(i,u,s),H0(i,Rn()),i.callbackNode!=null&&i.callbackNode===o?q0.bind(null,i):null)}function G0(i,s){if(yh())return null;R0(i,s,!0)}function HC(){JC(function(){(Yt&6)!==0?Ts(Wo,FC):F0()})}function Bm(){return ea===0&&(ea=tl()),ea}function K0(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Pa(""+i)}function Y0(i,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,i.id&&o.setAttribute("form",i.id),s.parentNode.insertBefore(o,s),i=new FormData(i),o.parentNode.removeChild(o),i}function qC(i,s,o,u,f){if(s==="submit"&&o&&o.stateNode===f){var g=K0((f[Ee]||null).action),E=u.submitter;E&&(s=(s=E[Ee]||null)?K0(s.formAction):E.getAttribute("formAction"),s!==null&&(g=s,E=null));var A=new Ma("action","action",null,u,f);i.push({event:A,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(ea!==0){var D=E?Y0(f,E):new FormData(f);am(o,{pending:!0,data:D,method:f.method,action:g},null,D)}}else typeof g=="function"&&(A.preventDefault(),D=E?Y0(f,E):new FormData(f),am(o,{pending:!0,data:D,method:f.method,action:g},g,D))},currentTarget:f}]})}}for(var zm=0;zm<wd.length;zm++){var Fm=wd[zm],GC=Fm.toLowerCase(),KC=Fm[0].toUpperCase()+Fm.slice(1);Qn(GC,"on"+KC)}Qn(Rv,"onAnimationEnd"),Qn(Cv,"onAnimationIteration"),Qn(Iv,"onAnimationStart"),Qn("dblclick","onDoubleClick"),Qn("focusin","onFocus"),Qn("focusout","onBlur"),Qn(uC,"onTransitionRun"),Qn(cC,"onTransitionStart"),Qn(hC,"onTransitionCancel"),Qn(Dv,"onTransitionEnd"),ji("onMouseEnter",["mouseout","mouseover"]),ji("onMouseLeave",["mouseout","mouseover"]),ji("onPointerEnter",["pointerout","pointerover"]),ji("onPointerLeave",["pointerout","pointerover"]),Yn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Yn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Yn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Yn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Yn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Yn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),YC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Yl));function $0(i,s){s=(s&4)!==0;for(var o=0;o<i.length;o++){var u=i[o],f=u.event;u=u.listeners;t:{var g=void 0;if(s)for(var E=u.length-1;0<=E;E--){var A=u[E],D=A.instance,K=A.currentTarget;if(A=A.listener,D!==g&&f.isPropagationStopped())break t;g=A,f.currentTarget=K;try{g(f)}catch(Z){ah(Z)}f.currentTarget=null,g=D}else for(E=0;E<u.length;E++){if(A=u[E],D=A.instance,K=A.currentTarget,A=A.listener,D!==g&&f.isPropagationStopped())break t;g=A,f.currentTarget=K;try{g(f)}catch(Z){ah(Z)}f.currentTarget=null,g=D}}}}function Ot(i,s){var o=s[rl];o===void 0&&(o=s[rl]=new Set);var u=i+"__bubble";o.has(u)||(Q0(s,i,2,!1),o.add(u))}function Hm(i,s,o){var u=0;s&&(u|=4),Q0(o,i,u,s)}var Th="_reactListening"+Math.random().toString(36).slice(2);function qm(i){if(!i[Th]){i[Th]=!0,sl.forEach(function(o){o!=="selectionchange"&&(YC.has(o)||Hm(o,!1,i),Hm(o,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[Th]||(s[Th]=!0,Hm("selectionchange",!1,s))}}function Q0(i,s,o,u){switch(_T(s)){case 2:var f=TI;break;case 8:f=EI;break;default:f=rp}o=f.bind(null,s,o,i),f=void 0,!xn||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),u?f!==void 0?i.addEventListener(s,o,{capture:!0,passive:f}):i.addEventListener(s,o,!0):f!==void 0?i.addEventListener(s,o,{passive:f}):i.addEventListener(s,o,!1)}function Gm(i,s,o,u,f){var g=u;if((s&1)===0&&(s&2)===0&&u!==null)t:for(;;){if(u===null)return;var E=u.tag;if(E===3||E===4){var A=u.stateNode.containerInfo;if(A===f)break;if(E===4)for(E=u.return;E!==null;){var D=E.tag;if((D===3||D===4)&&E.stateNode.containerInfo===f)return;E=E.return}for(;A!==null;){if(E=Ui(A),E===null)return;if(D=E.tag,D===5||D===6||D===26||D===27){u=g=E;continue t}A=A.parentNode}}u=u.return}Sc(function(){var K=g,Z=Dn(o),tt=[];t:{var Y=xv.get(i);if(Y!==void 0){var $=Ma,St=i;switch(i){case"keypress":if(ci(o)===0)break t;case"keydown":case"keyup":$=Ua;break;case"focusin":St="focus",$=Na;break;case"focusout":St="blur",$=Na;break;case"beforeblur":case"afterblur":$=Na;break;case"click":if(o.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$=Pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$=yd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$=xc;break;case Rv:case Cv:case Iv:$=La;break;case Dv:$=Mc;break;case"scroll":case"scrollend":$=Ac;break;case"wheel":$=ja;break;case"copy":case"cut":case"paste":$=ka;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$=yl;break;case"toggle":case"beforetoggle":$=Vc}var gt=(s&4)!==0,Zt=!gt&&(i==="scroll"||i==="scrollend"),z=gt?Y!==null?Y+"Capture":null:Y;gt=[];for(var N=K,G;N!==null;){var J=N;if(G=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||G===null||z===null||(J=Vs(N,z),J!=null&&gt.push($l(N,J,G))),Zt)break;N=N.return}0<gt.length&&(Y=new $(Y,St,null,o,Z),tt.push({event:Y,listeners:gt}))}}if((s&7)===0){t:{if(Y=i==="mouseover"||i==="pointerover",$=i==="mouseout"||i==="pointerout",Y&&o!==Fi&&(St=o.relatedTarget||o.fromElement)&&(Ui(St)||St[Cn]))break t;if(($||Y)&&(Y=Z.window===Z?Z:(Y=Z.ownerDocument)?Y.defaultView||Y.parentWindow:window,$?(St=o.relatedTarget||o.toElement,$=K,St=St?Ui(St):null,St!==null&&(Zt=l(St),gt=St.tag,St!==Zt||gt!==5&&gt!==27&&gt!==6)&&(St=null)):($=null,St=K),$!==St)){if(gt=Pn,J="onMouseLeave",z="onMouseEnter",N="mouse",(i==="pointerout"||i==="pointerover")&&(gt=yl,J="onPointerLeave",z="onPointerEnter",N="pointer"),Zt=$==null?Y:ai($),G=St==null?Y:ai(St),Y=new gt(J,N+"leave",$,o,Z),Y.target=Zt,Y.relatedTarget=G,J=null,Ui(Z)===K&&(gt=new gt(z,N+"enter",St,o,Z),gt.target=G,gt.relatedTarget=Zt,J=gt),Zt=J,$&&St)e:{for(gt=$,z=St,N=0,G=gt;G;G=co(G))N++;for(G=0,J=z;J;J=co(J))G++;for(;0<N-G;)gt=co(gt),N--;for(;0<G-N;)z=co(z),G--;for(;N--;){if(gt===z||z!==null&&gt===z.alternate)break e;gt=co(gt),z=co(z)}gt=null}else gt=null;$!==null&&X0(tt,Y,$,gt,!1),St!==null&&Zt!==null&&X0(tt,Zt,St,gt,!0)}}t:{if(Y=K?ai(K):window,$=Y.nodeName&&Y.nodeName.toLowerCase(),$==="select"||$==="input"&&Y.type==="file")var dt=pv;else if(Ie(Y))if(gv)dt=aC;else{dt=rC;var Pt=iC}else $=Y.nodeName,!$||$.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?K&&cl(K.elementType)&&(dt=pv):dt=sC;if(dt&&(dt=dt(i,K))){Yi(tt,dt,o,Z);break t}Pt&&Pt(i,Y,K),i==="focusout"&&K&&Y.type==="number"&&K.memoizedProps.value!=null&&Rr(Y,"number",Y.value)}switch(Pt=K?ai(K):window,i){case"focusin":(Ie(Pt)||Pt.contentEditable==="true")&&(Ba=Pt,Sd=K,Tl=null);break;case"focusout":Tl=Sd=Ba=null;break;case"mousedown":Ad=!0;break;case"contextmenu":case"mouseup":case"dragend":Ad=!1,bv(tt,o,Z);break;case"selectionchange":if(lC)break;case"keydown":case"keyup":bv(tt,o,Z)}var mt;if(di)t:{switch(i){case"compositionstart":var _t="onCompositionStart";break t;case"compositionend":_t="onCompositionEnd";break t;case"compositionupdate":_t="onCompositionUpdate";break t}_t=void 0}else kt?Q(i,o)&&(_t="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(_t="onCompositionStart");_t&&(T&&o.locale!=="ko"&&(kt||_t!=="onCompositionStart"?_t==="onCompositionEnd"&&kt&&(mt=fl()):(ui=Z,Cr="value"in ui?ui.value:ui.textContent,kt=!0)),Pt=Eh(K,_t),0<Pt.length&&(_t=new pl(_t,i,null,o,Z),tt.push({event:_t,listeners:Pt}),mt?_t.data=mt:(mt=lt(o),mt!==null&&(_t.data=mt)))),(mt=v?Ce(i,o):Ut(i,o))&&(_t=Eh(K,"onBeforeInput"),0<_t.length&&(Pt=new pl("onBeforeInput","beforeinput",null,o,Z),tt.push({event:Pt,listeners:_t}),Pt.data=mt)),qC(tt,i,K,o,Z)}$0(tt,s)})}function $l(i,s,o){return{instance:i,listener:s,currentTarget:o}}function Eh(i,s){for(var o=s+"Capture",u=[];i!==null;){var f=i,g=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||g===null||(f=Vs(i,o),f!=null&&u.unshift($l(i,f,g)),f=Vs(i,s),f!=null&&u.push($l(i,f,g))),i.tag===3)return u;i=i.return}return[]}function co(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function X0(i,s,o,u,f){for(var g=s._reactName,E=[];o!==null&&o!==u;){var A=o,D=A.alternate,K=A.stateNode;if(A=A.tag,D!==null&&D===u)break;A!==5&&A!==26&&A!==27||K===null||(D=K,f?(K=Vs(o,g),K!=null&&E.unshift($l(o,K,D))):f||(K=Vs(o,g),K!=null&&E.push($l(o,K,D)))),o=o.return}E.length!==0&&i.push({event:s,listeners:E})}var $C=/\r\n?/g,QC=/\u0000|\uFFFD/g;function W0(i){return(typeof i=="string"?i:""+i).replace($C,`
`).replace(QC,"")}function Z0(i,s){return s=W0(s),W0(i)===s}function Sh(){}function Wt(i,s,o,u,f,g){switch(o){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||In(i,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&In(i,""+u);break;case"className":oi(i,"class",u);break;case"tabIndex":oi(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":oi(i,o,u);break;case"style":ul(i,u,g);break;case"data":if(s!=="object"){oi(i,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||o!=="href")){i.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=Pa(""+u),i.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(s!=="input"&&Wt(i,s,"name",f.name,f,null),Wt(i,s,"formEncType",f.formEncType,f,null),Wt(i,s,"formMethod",f.formMethod,f,null),Wt(i,s,"formTarget",f.formTarget,f,null)):(Wt(i,s,"encType",f.encType,f,null),Wt(i,s,"method",f.method,f,null),Wt(i,s,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=Pa(""+u),i.setAttribute(o,u);break;case"onClick":u!=null&&(i.onclick=Sh);break;case"onScroll":u!=null&&Ot("scroll",i);break;case"onScrollEnd":u!=null&&Ot("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(r(60));i.innerHTML=o}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}o=Pa(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""+u):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":u===!0?i.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,u):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(o,u):i.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(o):i.setAttribute(o,u);break;case"popover":Ot("beforetoggle",i),Ot("toggle",i),wr(i,"popover",u);break;case"xlinkActuate":ze(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":ze(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":ze(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":ze(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":ze(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":ze(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":ze(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":ze(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":ze(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":wr(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=pd.get(o)||o,wr(i,o,u))}}function Km(i,s,o,u,f,g){switch(o){case"style":ul(i,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(r(60));i.innerHTML=o}}break;case"children":typeof u=="string"?In(i,u):(typeof u=="number"||typeof u=="bigint")&&In(i,""+u);break;case"onScroll":u!=null&&Ot("scroll",i);break;case"onScrollEnd":u!=null&&Ot("scrollend",i);break;case"onClick":u!=null&&(i.onclick=Sh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ra.hasOwnProperty(o))t:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),s=o.slice(2,f?o.length-7:void 0),g=i[Ee]||null,g=g!=null?g[o]:null,typeof g=="function"&&i.removeEventListener(s,g,f),typeof u=="function")){typeof g!="function"&&g!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(s,u,f);break t}o in i?i[o]=u:u===!0?i.setAttribute(o,""):wr(i,o,u)}}}function Ge(i,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ot("error",i),Ot("load",i);var u=!1,f=!1,g;for(g in o)if(o.hasOwnProperty(g)){var E=o[g];if(E!=null)switch(g){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Wt(i,s,g,E,o,null)}}f&&Wt(i,s,"srcSet",o.srcSet,o,null),u&&Wt(i,s,"src",o.src,o,null);return;case"input":Ot("invalid",i);var A=g=E=f=null,D=null,K=null;for(u in o)if(o.hasOwnProperty(u)){var Z=o[u];if(Z!=null)switch(u){case"name":f=Z;break;case"type":E=Z;break;case"checked":D=Z;break;case"defaultChecked":K=Z;break;case"value":g=Z;break;case"defaultValue":A=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(r(137,s));break;default:Wt(i,s,u,Z,o,null)}}Ps(i,g,A,D,K,E,f,!1),xa(i);return;case"select":Ot("invalid",i),u=E=g=null;for(f in o)if(o.hasOwnProperty(f)&&(A=o[f],A!=null))switch(f){case"value":g=A;break;case"defaultValue":E=A;break;case"multiple":u=A;default:Wt(i,s,f,A,o,null)}s=g,o=E,i.multiple=!!u,s!=null?zi(i,!!u,s,!1):o!=null&&zi(i,!!u,o,!0);return;case"textarea":Ot("invalid",i),g=f=u=null;for(E in o)if(o.hasOwnProperty(E)&&(A=o[E],A!=null))switch(E){case"value":u=A;break;case"defaultValue":f=A;break;case"children":g=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(r(91));break;default:Wt(i,s,E,A,o,null)}Ms(i,u,f,g),xa(i);return;case"option":for(D in o)if(o.hasOwnProperty(D)&&(u=o[D],u!=null))switch(D){case"selected":i.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Wt(i,s,D,u,o,null)}return;case"dialog":Ot("beforetoggle",i),Ot("toggle",i),Ot("cancel",i),Ot("close",i);break;case"iframe":case"object":Ot("load",i);break;case"video":case"audio":for(u=0;u<Yl.length;u++)Ot(Yl[u],i);break;case"image":Ot("error",i),Ot("load",i);break;case"details":Ot("toggle",i);break;case"embed":case"source":case"link":Ot("error",i),Ot("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in o)if(o.hasOwnProperty(K)&&(u=o[K],u!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Wt(i,s,K,u,o,null)}return;default:if(cl(s)){for(Z in o)o.hasOwnProperty(Z)&&(u=o[Z],u!==void 0&&Km(i,s,Z,u,o,void 0));return}}for(A in o)o.hasOwnProperty(A)&&(u=o[A],u!=null&&Wt(i,s,A,u,o,null))}function XC(i,s,o,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,g=null,E=null,A=null,D=null,K=null,Z=null;for($ in o){var tt=o[$];if(o.hasOwnProperty($)&&tt!=null)switch($){case"checked":break;case"value":break;case"defaultValue":D=tt;default:u.hasOwnProperty($)||Wt(i,s,$,null,u,tt)}}for(var Y in u){var $=u[Y];if(tt=o[Y],u.hasOwnProperty(Y)&&($!=null||tt!=null))switch(Y){case"type":g=$;break;case"name":f=$;break;case"checked":K=$;break;case"defaultChecked":Z=$;break;case"value":E=$;break;case"defaultValue":A=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(r(137,s));break;default:$!==tt&&Wt(i,s,Y,$,u,tt)}}yn(i,E,A,D,K,Z,g,f);return;case"select":$=E=A=Y=null;for(g in o)if(D=o[g],o.hasOwnProperty(g)&&D!=null)switch(g){case"value":break;case"multiple":$=D;default:u.hasOwnProperty(g)||Wt(i,s,g,null,u,D)}for(f in u)if(g=u[f],D=o[f],u.hasOwnProperty(f)&&(g!=null||D!=null))switch(f){case"value":Y=g;break;case"defaultValue":A=g;break;case"multiple":E=g;default:g!==D&&Wt(i,s,f,g,u,D)}s=A,o=E,u=$,Y!=null?zi(i,!!o,Y,!1):!!u!=!!o&&(s!=null?zi(i,!!o,s,!0):zi(i,!!o,o?[]:"",!1));return;case"textarea":$=Y=null;for(A in o)if(f=o[A],o.hasOwnProperty(A)&&f!=null&&!u.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:Wt(i,s,A,null,u,f)}for(E in u)if(f=u[E],g=o[E],u.hasOwnProperty(E)&&(f!=null||g!=null))switch(E){case"value":Y=f;break;case"defaultValue":$=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(r(91));break;default:f!==g&&Wt(i,s,E,f,u,g)}Qt(i,Y,$);return;case"option":for(var St in o)if(Y=o[St],o.hasOwnProperty(St)&&Y!=null&&!u.hasOwnProperty(St))switch(St){case"selected":i.selected=!1;break;default:Wt(i,s,St,null,u,Y)}for(D in u)if(Y=u[D],$=o[D],u.hasOwnProperty(D)&&Y!==$&&(Y!=null||$!=null))switch(D){case"selected":i.selected=Y&&typeof Y!="function"&&typeof Y!="symbol";break;default:Wt(i,s,D,Y,u,$)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var gt in o)Y=o[gt],o.hasOwnProperty(gt)&&Y!=null&&!u.hasOwnProperty(gt)&&Wt(i,s,gt,null,u,Y);for(K in u)if(Y=u[K],$=o[K],u.hasOwnProperty(K)&&Y!==$&&(Y!=null||$!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(r(137,s));break;default:Wt(i,s,K,Y,u,$)}return;default:if(cl(s)){for(var Zt in o)Y=o[Zt],o.hasOwnProperty(Zt)&&Y!==void 0&&!u.hasOwnProperty(Zt)&&Km(i,s,Zt,void 0,u,Y);for(Z in u)Y=u[Z],$=o[Z],!u.hasOwnProperty(Z)||Y===$||Y===void 0&&$===void 0||Km(i,s,Z,Y,u,$);return}}for(var z in o)Y=o[z],o.hasOwnProperty(z)&&Y!=null&&!u.hasOwnProperty(z)&&Wt(i,s,z,null,u,Y);for(tt in u)Y=u[tt],$=o[tt],!u.hasOwnProperty(tt)||Y===$||Y==null&&$==null||Wt(i,s,tt,Y,u,$)}var Ym=null,$m=null;function Ah(i){return i.nodeType===9?i:i.ownerDocument}function J0(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function tT(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function Qm(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Xm=null;function WC(){var i=window.event;return i&&i.type==="popstate"?i===Xm?!1:(Xm=i,!0):(Xm=null,!1)}var eT=typeof setTimeout=="function"?setTimeout:void 0,ZC=typeof clearTimeout=="function"?clearTimeout:void 0,nT=typeof Promise=="function"?Promise:void 0,JC=typeof queueMicrotask=="function"?queueMicrotask:typeof nT<"u"?function(i){return nT.resolve(null).then(i).catch(tI)}:eT;function tI(i){setTimeout(function(){throw i})}function Hr(i){return i==="head"}function iT(i,s){var o=s,u=0,f=0;do{var g=o.nextSibling;if(i.removeChild(o),g&&g.nodeType===8)if(o=g.data,o==="/$"){if(0<u&&8>u){o=u;var E=i.ownerDocument;if(o&1&&Ql(E.documentElement),o&2&&Ql(E.body),o&4)for(o=E.head,Ql(o),E=o.firstChild;E;){var A=E.nextSibling,D=E.nodeName;E[Cs]||D==="SCRIPT"||D==="STYLE"||D==="LINK"&&E.rel.toLowerCase()==="stylesheet"||o.removeChild(E),E=A}}if(f===0){i.removeChild(g),iu(s);return}f--}else o==="$"||o==="$?"||o==="$!"?f++:u=o.charCodeAt(0)-48;else u=0;o=g}while(o);iu(s)}function Wm(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Wm(o),br(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function eI(i,s,o,u){for(;i.nodeType===1;){var f=o;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[Cs])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(g=i.getAttribute("rel"),g==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(g!==f.rel||i.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||i.getAttribute("title")!==(f.title==null?null:f.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(g=i.getAttribute("src"),(g!==(f.src==null?null:f.src)||i.getAttribute("type")!==(f.type==null?null:f.type)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&g&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var g=f.name==null?null:""+f.name;if(f.type==="hidden"&&i.getAttribute("name")===g)return i}else return i;if(i=Wn(i.nextSibling),i===null)break}return null}function nI(i,s,o){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=Wn(i.nextSibling),i===null))return null;return i}function Zm(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function iI(i,s){var o=i.ownerDocument;if(i.data!=="$?"||o.readyState==="complete")s();else{var u=function(){s(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),i._reactRetry=u}}function Wn(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return i}var Jm=null;function rT(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"){if(s===0)return i;s--}else o==="/$"&&s++}i=i.previousSibling}return null}function sT(i,s,o){switch(s=Ah(o),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function Ql(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);br(i)}var Un=new Map,aT=new Set;function bh(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var ar=at.d;at.d={f:rI,r:sI,D:aI,C:oI,L:lI,m:uI,X:hI,S:cI,M:fI};function rI(){var i=ar.f(),s=ph();return i||s}function sI(i){var s=si(i);s!==null&&s.tag===5&&s.type==="form"?R_(s):ar.r(i)}var ho=typeof document>"u"?null:document;function oT(i,s,o){var u=ho;if(u&&typeof s=="string"&&s){var f=Se(s);f='link[rel="'+i+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),aT.has(f)||(aT.add(f),i={rel:i,crossOrigin:o,href:s},u.querySelector(f)===null&&(s=u.createElement("link"),Ge(s,"link",i),pe(s),u.head.appendChild(s)))}}function aI(i){ar.D(i),oT("dns-prefetch",i,null)}function oI(i,s){ar.C(i,s),oT("preconnect",i,s)}function lI(i,s,o){ar.L(i,s,o);var u=ho;if(u&&i&&s){var f='link[rel="preload"][as="'+Se(s)+'"]';s==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+Se(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+Se(o.imageSizes)+'"]')):f+='[href="'+Se(i)+'"]';var g=f;switch(s){case"style":g=fo(i);break;case"script":g=mo(i)}Un.has(g)||(i=y({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:i,as:s},o),Un.set(g,i),u.querySelector(f)!==null||s==="style"&&u.querySelector(Xl(g))||s==="script"&&u.querySelector(Wl(g))||(s=u.createElement("link"),Ge(s,"link",i),pe(s),u.head.appendChild(s)))}}function uI(i,s){ar.m(i,s);var o=ho;if(o&&i){var u=s&&typeof s.as=="string"?s.as:"script",f='link[rel="modulepreload"][as="'+Se(u)+'"][href="'+Se(i)+'"]',g=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=mo(i)}if(!Un.has(g)&&(i=y({rel:"modulepreload",href:i},s),Un.set(g,i),o.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Wl(g)))return}u=o.createElement("link"),Ge(u,"link",i),pe(u),o.head.appendChild(u)}}}function cI(i,s,o){ar.S(i,s,o);var u=ho;if(u&&i){var f=an(u).hoistableStyles,g=fo(i);s=s||"default";var E=f.get(g);if(!E){var A={loading:0,preload:null};if(E=u.querySelector(Xl(g)))A.loading=5;else{i=y({rel:"stylesheet",href:i,"data-precedence":s},o),(o=Un.get(g))&&tp(i,o);var D=E=u.createElement("link");pe(D),Ge(D,"link",i),D._p=new Promise(function(K,Z){D.onload=K,D.onerror=Z}),D.addEventListener("load",function(){A.loading|=1}),D.addEventListener("error",function(){A.loading|=2}),A.loading|=4,wh(E,s,u)}E={type:"stylesheet",instance:E,count:1,state:A},f.set(g,E)}}}function hI(i,s){ar.X(i,s);var o=ho;if(o&&i){var u=an(o).hoistableScripts,f=mo(i),g=u.get(f);g||(g=o.querySelector(Wl(f)),g||(i=y({src:i,async:!0},s),(s=Un.get(f))&&ep(i,s),g=o.createElement("script"),pe(g),Ge(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(f,g))}}function fI(i,s){ar.M(i,s);var o=ho;if(o&&i){var u=an(o).hoistableScripts,f=mo(i),g=u.get(f);g||(g=o.querySelector(Wl(f)),g||(i=y({src:i,async:!0,type:"module"},s),(s=Un.get(f))&&ep(i,s),g=o.createElement("script"),pe(g),Ge(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(f,g))}}function lT(i,s,o,u){var f=(f=bt.current)?bh(f):null;if(!f)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=fo(o.href),o=an(f).hoistableStyles,u=o.get(s),u||(u={type:"style",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=fo(o.href);var g=an(f).hoistableStyles,E=g.get(i);if(E||(f=f.ownerDocument||f,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(i,E),(g=f.querySelector(Xl(i)))&&!g._p&&(E.instance=g,E.state.loading=5),Un.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Un.set(i,o),g||dI(f,i,o,E.state))),s&&u===null)throw Error(r(528,""));return E}if(s&&u!==null)throw Error(r(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=mo(o),o=an(f).hoistableScripts,u=o.get(s),u||(u={type:"script",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function fo(i){return'href="'+Se(i)+'"'}function Xl(i){return'link[rel="stylesheet"]['+i+"]"}function uT(i){return y({},i,{"data-precedence":i.precedence,precedence:null})}function dI(i,s,o,u){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=i.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),Ge(s,"link",o),pe(s),i.head.appendChild(s))}function mo(i){return'[src="'+Se(i)+'"]'}function Wl(i){return"script[async]"+i}function cT(i,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var u=i.querySelector('style[data-href~="'+Se(o.href)+'"]');if(u)return s.instance=u,pe(u),u;var f=y({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),pe(u),Ge(u,"style",f),wh(u,o.precedence,i),s.instance=u;case"stylesheet":f=fo(o.href);var g=i.querySelector(Xl(f));if(g)return s.state.loading|=4,s.instance=g,pe(g),g;u=uT(o),(f=Un.get(f))&&tp(u,f),g=(i.ownerDocument||i).createElement("link"),pe(g);var E=g;return E._p=new Promise(function(A,D){E.onload=A,E.onerror=D}),Ge(g,"link",u),s.state.loading|=4,wh(g,o.precedence,i),s.instance=g;case"script":return g=mo(o.src),(f=i.querySelector(Wl(g)))?(s.instance=f,pe(f),f):(u=o,(f=Un.get(g))&&(u=y({},o),ep(u,f)),i=i.ownerDocument||i,f=i.createElement("script"),pe(f),Ge(f,"link",u),i.head.appendChild(f),s.instance=f);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,wh(u,o.precedence,i));return s.instance}function wh(i,s,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,g=f,E=0;E<u.length;E++){var A=u[E];if(A.dataset.precedence===s)g=A;else if(g!==f)break}g?g.parentNode.insertBefore(i,g.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(i,s.firstChild))}function tp(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function ep(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var Rh=null;function hT(i,s,o){if(Rh===null){var u=new Map,f=Rh=new Map;f.set(o,u)}else f=Rh,u=f.get(o),u||(u=new Map,f.set(o,u));if(u.has(i))return u;for(u.set(i,null),o=o.getElementsByTagName(i),f=0;f<o.length;f++){var g=o[f];if(!(g[Cs]||g[Re]||i==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var E=g.getAttribute(s)||"";E=i+E;var A=u.get(E);A?A.push(g):u.set(E,[g])}}return u}function fT(i,s,o){i=i.ownerDocument||i,i.head.insertBefore(o,s==="title"?i.querySelector("head > title"):null)}function mI(i,s,o){if(o===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function dT(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var Zl=null;function pI(){}function gI(i,s,o){if(Zl===null)throw Error(r(475));var u=Zl;if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var f=fo(o.href),g=i.querySelector(Xl(f));if(g){i=g._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(u.count++,u=Ch.bind(u),i.then(u,u)),s.state.loading|=4,s.instance=g,pe(g);return}g=i.ownerDocument||i,o=uT(o),(f=Un.get(f))&&tp(o,f),g=g.createElement("link"),pe(g);var E=g;E._p=new Promise(function(A,D){E.onload=A,E.onerror=D}),Ge(g,"link",o),s.instance=g}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(s,i),(i=s.state.preload)&&(s.state.loading&3)===0&&(u.count++,s=Ch.bind(u),i.addEventListener("load",s),i.addEventListener("error",s))}}function yI(){if(Zl===null)throw Error(r(475));var i=Zl;return i.stylesheets&&i.count===0&&np(i,i.stylesheets),0<i.count?function(s){var o=setTimeout(function(){if(i.stylesheets&&np(i,i.stylesheets),i.unsuspend){var u=i.unsuspend;i.unsuspend=null,u()}},6e4);return i.unsuspend=s,function(){i.unsuspend=null,clearTimeout(o)}}:null}function Ch(){if(this.count--,this.count===0){if(this.stylesheets)np(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Ih=null;function np(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Ih=new Map,s.forEach(vI,i),Ih=null,Ch.call(i))}function vI(i,s){if(!(s.state.loading&4)){var o=Ih.get(i);if(o)var u=o.get(null);else{o=new Map,Ih.set(i,o);for(var f=i.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<f.length;g++){var E=f[g];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(o.set(E.dataset.precedence,E),u=E)}u&&o.set(null,u)}f=s.instance,E=f.getAttribute("data-precedence"),g=o.get(E)||u,g===u&&o.set(null,f),o.set(E,f),this.count++,u=Ch.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),g?g.parentNode.insertBefore(f,g.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(f,i.firstChild)),s.state.loading|=4}}var Jl={$$typeof:H,Provider:null,Consumer:null,_currentValue:ft,_currentValue2:ft,_threadCount:0};function _I(i,s,o,u,f,g,E,A){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Li(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Li(0),this.hiddenUpdates=Li(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=g,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function mT(i,s,o,u,f,g,E,A,D,K,Z,tt){return i=new _I(i,s,o,E,A,D,K,tt),s=1,g===!0&&(s|=24),g=_n(3,null,null,s),i.current=g,g.stateNode=i,s=kd(),s.refCount++,i.pooledCache=s,s.refCount++,g.memoizedState={element:u,isDehydrated:o,cache:s},zd(g),i}function pT(i){return i?(i=qa,i):qa}function gT(i,s,o,u,f,g){f=pT(f),u.context===null?u.context=f:u.pendingContext=f,u=xr(s),u.payload={element:o},g=g===void 0?null:g,g!==null&&(u.callback=g),o=Pr(i,u,s),o!==null&&(bn(o,i,s),Dl(o,i,s))}function yT(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<s?o:s}}function ip(i,s){yT(i,s),(i=i.alternate)&&yT(i,s)}function vT(i){if(i.tag===13){var s=Ha(i,67108864);s!==null&&bn(s,i,67108864),ip(i,67108864)}}var Dh=!0;function TI(i,s,o,u){var f=W.T;W.T=null;var g=at.p;try{at.p=2,rp(i,s,o,u)}finally{at.p=g,W.T=f}}function EI(i,s,o,u){var f=W.T;W.T=null;var g=at.p;try{at.p=8,rp(i,s,o,u)}finally{at.p=g,W.T=f}}function rp(i,s,o,u){if(Dh){var f=sp(u);if(f===null)Gm(i,s,u,xh,o),TT(i,u);else if(AI(f,i,s,o,u))u.stopPropagation();else if(TT(i,u),s&4&&-1<SI.indexOf(i)){for(;f!==null;){var g=si(f);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var E=Kn(g.pendingLanes);if(E!==0){var A=g;for(A.pendingLanes|=2,A.entangledLanes|=2;E;){var D=1<<31-Xe(E);A.entanglements[1]|=D,E&=~D}_i(g),(Yt&6)===0&&(dh=Rn()+500,Kl(0))}}break;case 13:A=Ha(g,2),A!==null&&bn(A,g,2),ph(),ip(g,2)}if(g=sp(u),g===null&&Gm(i,s,u,xh,o),g===f)break;f=g}f!==null&&u.stopPropagation()}else Gm(i,s,u,null,o)}}function sp(i){return i=Dn(i),ap(i)}var xh=null;function ap(i){if(xh=null,i=Ui(i),i!==null){var s=l(i);if(s===null)i=null;else{var o=s.tag;if(o===13){if(i=c(s),i!==null)return i;i=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return xh=i,null}function _T(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ud()){case Wo:return 2;case Sa:return 8;case Ss:case cd:return 32;case Aa:return 268435456;default:return 32}default:return 32}}var op=!1,qr=null,Gr=null,Kr=null,tu=new Map,eu=new Map,Yr=[],SI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function TT(i,s){switch(i){case"focusin":case"focusout":qr=null;break;case"dragenter":case"dragleave":Gr=null;break;case"mouseover":case"mouseout":Kr=null;break;case"pointerover":case"pointerout":tu.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":eu.delete(s.pointerId)}}function nu(i,s,o,u,f,g){return i===null||i.nativeEvent!==g?(i={blockedOn:s,domEventName:o,eventSystemFlags:u,nativeEvent:g,targetContainers:[f]},s!==null&&(s=si(s),s!==null&&vT(s)),i):(i.eventSystemFlags|=u,s=i.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),i)}function AI(i,s,o,u,f){switch(s){case"focusin":return qr=nu(qr,i,s,o,u,f),!0;case"dragenter":return Gr=nu(Gr,i,s,o,u,f),!0;case"mouseover":return Kr=nu(Kr,i,s,o,u,f),!0;case"pointerover":var g=f.pointerId;return tu.set(g,nu(tu.get(g)||null,i,s,o,u,f)),!0;case"gotpointercapture":return g=f.pointerId,eu.set(g,nu(eu.get(g)||null,i,s,o,u,f)),!0}return!1}function ET(i){var s=Ui(i.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=c(o),s!==null){i.blockedOn=s,pc(i.priority,function(){if(o.tag===13){var u=An();u=Er(u);var f=Ha(o,u);f!==null&&bn(f,o,u),ip(o,u)}});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Ph(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var o=sp(i.nativeEvent);if(o===null){o=i.nativeEvent;var u=new o.constructor(o.type,o);Fi=u,o.target.dispatchEvent(u),Fi=null}else return s=si(o),s!==null&&vT(s),i.blockedOn=o,!1;s.shift()}return!0}function ST(i,s,o){Ph(i)&&o.delete(s)}function bI(){op=!1,qr!==null&&Ph(qr)&&(qr=null),Gr!==null&&Ph(Gr)&&(Gr=null),Kr!==null&&Ph(Kr)&&(Kr=null),tu.forEach(ST),eu.forEach(ST)}function Mh(i,s){i.blockedOn===s&&(i.blockedOn=null,op||(op=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,bI)))}var Oh=null;function AT(i){Oh!==i&&(Oh=i,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Oh===i&&(Oh=null);for(var s=0;s<i.length;s+=3){var o=i[s],u=i[s+1],f=i[s+2];if(typeof u!="function"){if(ap(u||o)===null)continue;break}var g=si(o);g!==null&&(i.splice(s,3),s-=3,am(g,{pending:!0,data:f,method:o.method,action:u},u,f))}}))}function iu(i){function s(D){return Mh(D,i)}qr!==null&&Mh(qr,i),Gr!==null&&Mh(Gr,i),Kr!==null&&Mh(Kr,i),tu.forEach(s),eu.forEach(s);for(var o=0;o<Yr.length;o++){var u=Yr[o];u.blockedOn===i&&(u.blockedOn=null)}for(;0<Yr.length&&(o=Yr[0],o.blockedOn===null);)ET(o),o.blockedOn===null&&Yr.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var f=o[u],g=o[u+1],E=f[Ee]||null;if(typeof g=="function")E||AT(o);else if(E){var A=null;if(g&&g.hasAttribute("formAction")){if(f=g,E=g[Ee]||null)A=E.formAction;else if(ap(f)!==null)continue}else A=E.action;typeof A=="function"?o[u+1]=A:(o.splice(u,3),u-=3),AT(o)}}}function lp(i){this._internalRoot=i}Vh.prototype.render=lp.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var o=s.current,u=An();gT(o,u,i,s,null,null)},Vh.prototype.unmount=lp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;gT(i.current,2,null,i,null,null),ph(),s[Cn]=null}};function Vh(i){this._internalRoot=i}Vh.prototype.unstable_scheduleHydration=function(i){if(i){var s=Sr();i={blockedOn:null,target:i,priority:s};for(var o=0;o<Yr.length&&s!==0&&s<Yr[o].priority;o++);Yr.splice(o,0,i),o===0&&ET(i)}};var bT=t.version;if(bT!=="19.1.0")throw Error(r(527,bT,"19.1.0"));at.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=m(s),i=i!==null?p(i):null,i=i===null?null:i.stateNode,i};var wI={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nh.isDisabled&&Nh.supportsFiber)try{ce=Nh.inject(wI),Kt=Nh}catch{}}return su.createRoot=function(i,s){if(!a(i))throw Error(r(299));var o=!1,u="",f=B_,g=z_,E=F_,A=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(A=s.unstable_transitionCallbacks)),s=mT(i,1,!1,null,null,o,u,f,g,E,A,null),i[Cn]=s.current,qm(i),new lp(s)},su.hydrateRoot=function(i,s,o){if(!a(i))throw Error(r(299));var u=!1,f="",g=B_,E=z_,A=F_,D=null,K=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(E=o.onCaughtError),o.onRecoverableError!==void 0&&(A=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(D=o.unstable_transitionCallbacks),o.formState!==void 0&&(K=o.formState)),s=mT(i,1,!0,s,o??null,u,f,g,E,A,D,K),s.context=pT(null),o=s.current,u=An(),u=Er(u),f=xr(u),f.callback=null,Pr(o,f,u),o=u,s.current.lanes=o,ki(s,o),_i(s),i[Cn]=s.current,qm(i),new Vh(s)},su.version="19.1.0",su}var VT;function NI(){if(VT)return hp.exports;VT=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),hp.exports=VI(),hp.exports}var LI=NI(),au={},NT;function kI(){if(NT)return au;NT=1,Object.defineProperty(au,"__esModule",{value:!0}),au.parse=c,au.serialize=p;const e=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,l=(()=>{const S=function(){};return S.prototype=Object.create(null),S})();function c(S,w){const C=new l,B=S.length;if(B<2)return C;const O=(w==null?void 0:w.decode)||y;let U=0;do{const X=S.indexOf("=",U);if(X===-1)break;const H=S.indexOf(";",U),st=H===-1?B:H;if(X>st){U=S.lastIndexOf(";",X-1)+1;continue}const nt=d(S,U,X),ct=m(S,X,nt),P=S.slice(nt,ct);if(C[P]===void 0){let R=d(S,X+1,st),I=m(S,st,R);const M=O(S.slice(R,I));C[P]=M}U=st+1}while(U<B);return C}function d(S,w,C){do{const B=S.charCodeAt(w);if(B!==32&&B!==9)return w}while(++w<C);return C}function m(S,w,C){for(;w>C;){const B=S.charCodeAt(--w);if(B!==32&&B!==9)return w+1}return C}function p(S,w,C){const B=(C==null?void 0:C.encode)||encodeURIComponent;if(!e.test(S))throw new TypeError(`argument name is invalid: ${S}`);const O=B(w);if(!t.test(O))throw new TypeError(`argument val is invalid: ${w}`);let U=S+"="+O;if(!C)return U;if(C.maxAge!==void 0){if(!Number.isInteger(C.maxAge))throw new TypeError(`option maxAge is invalid: ${C.maxAge}`);U+="; Max-Age="+C.maxAge}if(C.domain){if(!n.test(C.domain))throw new TypeError(`option domain is invalid: ${C.domain}`);U+="; Domain="+C.domain}if(C.path){if(!r.test(C.path))throw new TypeError(`option path is invalid: ${C.path}`);U+="; Path="+C.path}if(C.expires){if(!_(C.expires)||!Number.isFinite(C.expires.valueOf()))throw new TypeError(`option expires is invalid: ${C.expires}`);U+="; Expires="+C.expires.toUTCString()}if(C.httpOnly&&(U+="; HttpOnly"),C.secure&&(U+="; Secure"),C.partitioned&&(U+="; Partitioned"),C.priority)switch(typeof C.priority=="string"?C.priority.toLowerCase():void 0){case"low":U+="; Priority=Low";break;case"medium":U+="; Priority=Medium";break;case"high":U+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${C.priority}`)}if(C.sameSite)switch(typeof C.sameSite=="string"?C.sameSite.toLowerCase():C.sameSite){case!0:case"strict":U+="; SameSite=Strict";break;case"lax":U+="; SameSite=Lax";break;case"none":U+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${C.sameSite}`)}return U}function y(S){if(S.indexOf("%")===-1)return S;try{return decodeURIComponent(S)}catch{return S}}function _(S){return a.call(S)==="[object Date]"}return au}kI();/**
 * react-router v7.5.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var LT="popstate";function UI(e={}){function t(r,a){let{pathname:l,search:c,hash:d}=r.location;return Gp("",{pathname:l,search:c,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(r,a){return typeof a=="string"?a:Cu(a)}return BI(t,n,null,e)}function le(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function xi(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function jI(){return Math.random().toString(36).substring(2,10)}function kT(e,t){return{usr:e.state,key:e.key,idx:t}}function Gp(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Bo(t):t,state:n,key:t&&t.key||r||jI()}}function Cu({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Bo(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function BI(e,t,n,r={}){let{window:a=document.defaultView,v5Compat:l=!1}=r,c=a.history,d="POP",m=null,p=y();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function y(){return(c.state||{idx:null}).idx}function _(){d="POP";let O=y(),U=O==null?null:O-p;p=O,m&&m({action:d,location:B.location,delta:U})}function S(O,U){d="PUSH";let X=Gp(B.location,O,U);p=y()+1;let H=kT(X,p),st=B.createHref(X);try{c.pushState(H,"",st)}catch(nt){if(nt instanceof DOMException&&nt.name==="DataCloneError")throw nt;a.location.assign(st)}l&&m&&m({action:d,location:B.location,delta:1})}function w(O,U){d="REPLACE";let X=Gp(B.location,O,U);p=y();let H=kT(X,p),st=B.createHref(X);c.replaceState(H,"",st),l&&m&&m({action:d,location:B.location,delta:0})}function C(O){let U=a.location.origin!=="null"?a.location.origin:a.location.href,X=typeof O=="string"?O:Cu(O);return X=X.replace(/ $/,"%20"),le(U,`No window.location.(origin|href) available to create URL for href: ${X}`),new URL(X,U)}let B={get action(){return d},get location(){return e(a,c)},listen(O){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(LT,_),m=O,()=>{a.removeEventListener(LT,_),m=null}},createHref(O){return t(a,O)},createURL:C,encodeLocation(O){let U=C(O);return{pathname:U.pathname,search:U.search,hash:U.hash}},push:S,replace:w,go(O){return c.go(O)}};return B}function LA(e,t,n="/"){return zI(e,t,n,!1)}function zI(e,t,n,r){let a=typeof t=="string"?Bo(t):t,l=fr(a.pathname||"/",n);if(l==null)return null;let c=kA(e);FI(c);let d=null;for(let m=0;d==null&&m<c.length;++m){let p=JI(l);d=WI(c[m],p,r)}return d}function kA(e,t=[],n=[],r=""){let a=(l,c,d)=>{let m={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};m.relativePath.startsWith("/")&&(le(m.relativePath.startsWith(r),`Absolute route path "${m.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(r.length));let p=ur([r,m.relativePath]),y=n.concat(m);l.children&&l.children.length>0&&(le(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),kA(l.children,t,y,p)),!(l.path==null&&!l.index)&&t.push({path:p,score:QI(p,l.index),routesMeta:y})};return e.forEach((l,c)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))a(l,c);else for(let m of UA(l.path))a(l,c,m)}),t}function UA(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(r.length===0)return a?[l,""]:[l];let c=UA(r.join("/")),d=[];return d.push(...c.map(m=>m===""?l:[l,m].join("/"))),a&&d.push(...c),d.map(m=>e.startsWith("/")&&m===""?"/":m)}function FI(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:XI(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var HI=/^:[\w-]+$/,qI=3,GI=2,KI=1,YI=10,$I=-2,UT=e=>e==="*";function QI(e,t){let n=e.split("/"),r=n.length;return n.some(UT)&&(r+=$I),t&&(r+=GI),n.filter(a=>!UT(a)).reduce((a,l)=>a+(HI.test(l)?qI:l===""?KI:YI),r)}function XI(e,t){return e.length===t.length&&e.slice(0,-1).every((r,a)=>r===t[a])?e[e.length-1]-t[t.length-1]:0}function WI(e,t,n=!1){let{routesMeta:r}=e,a={},l="/",c=[];for(let d=0;d<r.length;++d){let m=r[d],p=d===r.length-1,y=l==="/"?t:t.slice(l.length)||"/",_=lf({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},y),S=m.route;if(!_&&p&&n&&!r[r.length-1].route.index&&(_=lf({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},y)),!_)return null;Object.assign(a,_.params),c.push({params:a,pathname:ur([l,_.pathname]),pathnameBase:iD(ur([l,_.pathnameBase])),route:S}),_.pathnameBase!=="/"&&(l=ur([l,_.pathnameBase]))}return c}function lf(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=ZI(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:r.reduce((p,{paramName:y,isOptional:_},S)=>{if(y==="*"){let C=d[S]||"";c=l.slice(0,l.length-C.length).replace(/(.)\/+$/,"$1")}const w=d[S];return _&&!w?p[y]=void 0:p[y]=(w||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:c,pattern:e}}function ZI(e,t=!1,n=!0){xi(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,m)=>(r.push({paramName:d,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),r]}function JI(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return xi(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function fr(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function tD(e,t="/"){let{pathname:n,search:r="",hash:a=""}=typeof e=="string"?Bo(e):e;return{pathname:n?n.startsWith("/")?n:eD(n,t):t,search:rD(r),hash:sD(a)}}function eD(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function pp(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function nD(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function jA(e){let t=nD(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function BA(e,t,n,r=!1){let a;typeof e=="string"?a=Bo(e):(a={...e},le(!a.pathname||!a.pathname.includes("?"),pp("?","pathname","search",a)),le(!a.pathname||!a.pathname.includes("#"),pp("#","pathname","hash",a)),le(!a.search||!a.search.includes("#"),pp("#","search","hash",a)));let l=e===""||a.pathname==="",c=l?"/":a.pathname,d;if(c==null)d=n;else{let _=t.length-1;if(!r&&c.startsWith("..")){let S=c.split("/");for(;S[0]==="..";)S.shift(),_-=1;a.pathname=S.join("/")}d=_>=0?t[_]:"/"}let m=tD(a,d),p=c&&c!=="/"&&c.endsWith("/"),y=(l||c===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(p||y)&&(m.pathname+="/"),m}var ur=e=>e.join("/").replace(/\/\/+/g,"/"),iD=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),rD=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,sD=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function aD(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var zA=["POST","PUT","PATCH","DELETE"];new Set(zA);var oD=["GET",...zA];new Set(oD);var zo=L.createContext(null);zo.displayName="DataRouter";var Uf=L.createContext(null);Uf.displayName="DataRouterState";var FA=L.createContext({isTransitioning:!1});FA.displayName="ViewTransition";var lD=L.createContext(new Map);lD.displayName="Fetchers";var uD=L.createContext(null);uD.displayName="Await";var Oi=L.createContext(null);Oi.displayName="Navigation";var Yu=L.createContext(null);Yu.displayName="Location";var Vi=L.createContext({outlet:null,matches:[],isDataRoute:!1});Vi.displayName="Route";var jg=L.createContext(null);jg.displayName="RouteError";function cD(e,{relative:t}={}){le($u(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=L.useContext(Oi),{hash:a,pathname:l,search:c}=Qu(e,{relative:t}),d=l;return n!=="/"&&(d=l==="/"?n:ur([n,l])),r.createHref({pathname:d,search:c,hash:a})}function $u(){return L.useContext(Yu)!=null}function pa(){return le($u(),"useLocation() may be used only in the context of a <Router> component."),L.useContext(Yu).location}var HA="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function qA(e){L.useContext(Oi).static||L.useLayoutEffect(e)}function jf(){let{isDataRoute:e}=L.useContext(Vi);return e?wD():hD()}function hD(){le($u(),"useNavigate() may be used only in the context of a <Router> component.");let e=L.useContext(zo),{basename:t,navigator:n}=L.useContext(Oi),{matches:r}=L.useContext(Vi),{pathname:a}=pa(),l=JSON.stringify(jA(r)),c=L.useRef(!1);return qA(()=>{c.current=!0}),L.useCallback((m,p={})=>{if(xi(c.current,HA),!c.current)return;if(typeof m=="number"){n.go(m);return}let y=BA(m,JSON.parse(l),a,p.relative==="path");e==null&&t!=="/"&&(y.pathname=y.pathname==="/"?t:ur([t,y.pathname])),(p.replace?n.replace:n.push)(y,p.state,p)},[t,n,l,a,e])}var fD=L.createContext(null);function dD(e){let t=L.useContext(Vi).outlet;return t&&L.createElement(fD.Provider,{value:e},t)}function Qu(e,{relative:t}={}){let{matches:n}=L.useContext(Vi),{pathname:r}=pa(),a=JSON.stringify(jA(n));return L.useMemo(()=>BA(e,JSON.parse(a),r,t==="path"),[e,a,r,t])}function mD(e,t){return GA(e,t)}function GA(e,t,n,r){var X;le($u(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a,static:l}=L.useContext(Oi),{matches:c}=L.useContext(Vi),d=c[c.length-1],m=d?d.params:{},p=d?d.pathname:"/",y=d?d.pathnameBase:"/",_=d&&d.route;{let H=_&&_.path||"";KA(p,!_||H.endsWith("*")||H.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${H}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${H}"> to <Route path="${H==="/"?"*":`${H}/*`}">.`)}let S=pa(),w;if(t){let H=typeof t=="string"?Bo(t):t;le(y==="/"||((X=H.pathname)==null?void 0:X.startsWith(y)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${H.pathname}" was given in the \`location\` prop.`),w=H}else w=S;let C=w.pathname||"/",B=C;if(y!=="/"){let H=y.replace(/^\//,"").split("/");B="/"+C.replace(/^\//,"").split("/").slice(H.length).join("/")}let O=!l&&n&&n.matches&&n.matches.length>0?n.matches:LA(e,{pathname:B});xi(_||O!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),xi(O==null||O[O.length-1].route.element!==void 0||O[O.length-1].route.Component!==void 0||O[O.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let U=_D(O&&O.map(H=>Object.assign({},H,{params:Object.assign({},m,H.params),pathname:ur([y,a.encodeLocation?a.encodeLocation(H.pathname).pathname:H.pathname]),pathnameBase:H.pathnameBase==="/"?y:ur([y,a.encodeLocation?a.encodeLocation(H.pathnameBase).pathname:H.pathnameBase])})),c,n,r);return t&&U?L.createElement(Yu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},U):U}function pD(){let e=bD(),t=aD(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},l={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",e),c=L.createElement(L.Fragment,null,L.createElement("p",null," Hey developer "),L.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",L.createElement("code",{style:l},"ErrorBoundary")," or"," ",L.createElement("code",{style:l},"errorElement")," prop on your route.")),L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},t),n?L.createElement("pre",{style:a},n):null,c)}var gD=L.createElement(pD,null),yD=class extends L.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?L.createElement(Vi.Provider,{value:this.props.routeContext},L.createElement(jg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function vD({routeContext:e,match:t,children:n}){let r=L.useContext(zo);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),L.createElement(Vi.Provider,{value:e},n)}function _D(e,t=[],n=null,r=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,l=n==null?void 0:n.errors;if(l!=null){let m=a.findIndex(p=>p.route.id&&(l==null?void 0:l[p.route.id])!==void 0);le(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,m+1))}let c=!1,d=-1;if(n)for(let m=0;m<a.length;m++){let p=a[m];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(d=m),p.route.id){let{loaderData:y,errors:_}=n,S=p.route.loader&&!y.hasOwnProperty(p.route.id)&&(!_||_[p.route.id]===void 0);if(p.route.lazy||S){c=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((m,p,y)=>{let _,S=!1,w=null,C=null;n&&(_=l&&p.route.id?l[p.route.id]:void 0,w=p.route.errorElement||gD,c&&(d<0&&y===0?(KA("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,C=null):d===y&&(S=!0,C=p.route.hydrateFallbackElement||null)));let B=t.concat(a.slice(0,y+1)),O=()=>{let U;return _?U=w:S?U=C:p.route.Component?U=L.createElement(p.route.Component,null):p.route.element?U=p.route.element:U=m,L.createElement(vD,{match:p,routeContext:{outlet:m,matches:B,isDataRoute:n!=null},children:U})};return n&&(p.route.ErrorBoundary||p.route.errorElement||y===0)?L.createElement(yD,{location:n.location,revalidation:n.revalidation,component:w,error:_,children:O(),routeContext:{outlet:null,matches:B,isDataRoute:!0}}):O()},null)}function Bg(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function TD(e){let t=L.useContext(zo);return le(t,Bg(e)),t}function ED(e){let t=L.useContext(Uf);return le(t,Bg(e)),t}function SD(e){let t=L.useContext(Vi);return le(t,Bg(e)),t}function zg(e){let t=SD(e),n=t.matches[t.matches.length-1];return le(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function AD(){return zg("useRouteId")}function bD(){var r;let e=L.useContext(jg),t=ED("useRouteError"),n=zg("useRouteError");return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function wD(){let{router:e}=TD("useNavigate"),t=zg("useNavigate"),n=L.useRef(!1);return qA(()=>{n.current=!0}),L.useCallback(async(a,l={})=>{xi(n.current,HA),n.current&&(typeof a=="number"?e.navigate(a):await e.navigate(a,{fromRouteId:t,...l}))},[e,t])}var jT={};function KA(e,t,n){!t&&!jT[e]&&(jT[e]=!0,xi(!1,n))}L.memo(RD);function RD({routes:e,future:t,state:n}){return GA(e,void 0,n,t)}function YA(e){return dD(e.context)}function Ti(e){le(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function CD({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:a,static:l=!1}){le(!$u(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=e.replace(/^\/*/,"/"),d=L.useMemo(()=>({basename:c,navigator:a,static:l,future:{}}),[c,a,l]);typeof n=="string"&&(n=Bo(n));let{pathname:m="/",search:p="",hash:y="",state:_=null,key:S="default"}=n,w=L.useMemo(()=>{let C=fr(m,c);return C==null?null:{location:{pathname:C,search:p,hash:y,state:_,key:S},navigationType:r}},[c,m,p,y,_,S,r]);return xi(w!=null,`<Router basename="${c}"> is not able to match the URL "${m}${p}${y}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:L.createElement(Oi.Provider,{value:d},L.createElement(Yu.Provider,{children:t,value:w}))}function ID({children:e,location:t}){return mD(Kp(e),t)}function Kp(e,t=[]){let n=[];return L.Children.forEach(e,(r,a)=>{if(!L.isValidElement(r))return;let l=[...t,a];if(r.type===L.Fragment){n.push.apply(n,Kp(r.props.children,l));return}le(r.type===Ti,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),le(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=Kp(r.props.children,l)),n.push(c)}),n}var Kh="get",Yh="application/x-www-form-urlencoded";function Bf(e){return e!=null&&typeof e.tagName=="string"}function DD(e){return Bf(e)&&e.tagName.toLowerCase()==="button"}function xD(e){return Bf(e)&&e.tagName.toLowerCase()==="form"}function PD(e){return Bf(e)&&e.tagName.toLowerCase()==="input"}function MD(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function OD(e,t){return e.button===0&&(!t||t==="_self")&&!MD(e)}var Lh=null;function VD(){if(Lh===null)try{new FormData(document.createElement("form"),0),Lh=!1}catch{Lh=!0}return Lh}var ND=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function gp(e){return e!=null&&!ND.has(e)?(xi(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Yh}"`),null):e}function LD(e,t){let n,r,a,l,c;if(xD(e)){let d=e.getAttribute("action");r=d?fr(d,t):null,n=e.getAttribute("method")||Kh,a=gp(e.getAttribute("enctype"))||Yh,l=new FormData(e)}else if(DD(e)||PD(e)&&(e.type==="submit"||e.type==="image")){let d=e.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=e.getAttribute("formaction")||d.getAttribute("action");if(r=m?fr(m,t):null,n=e.getAttribute("formmethod")||d.getAttribute("method")||Kh,a=gp(e.getAttribute("formenctype"))||gp(d.getAttribute("enctype"))||Yh,l=new FormData(d,e),!VD()){let{name:p,type:y,value:_}=e;if(y==="image"){let S=p?`${p}.`:"";l.append(`${S}x`,"0"),l.append(`${S}y`,"0")}else p&&l.append(p,_)}}else{if(Bf(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Kh,r=null,a=Yh,c=e}return l&&a==="text/plain"&&(c=l,l=void 0),{action:r,method:n.toLowerCase(),encType:a,formData:l,body:c}}function Fg(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function kD(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function UD(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function jD(e,t,n){let r=await Promise.all(e.map(async a=>{let l=t.routes[a.route.id];if(l){let c=await kD(l,n);return c.links?c.links():[]}return[]}));return HD(r.flat(1).filter(UD).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function BT(e,t,n,r,a,l){let c=(m,p)=>n[p]?m.route.id!==n[p].route.id:!0,d=(m,p)=>{var y;return n[p].pathname!==m.pathname||((y=n[p].route.path)==null?void 0:y.endsWith("*"))&&n[p].params["*"]!==m.params["*"]};return l==="assets"?t.filter((m,p)=>c(m,p)||d(m,p)):l==="data"?t.filter((m,p)=>{var _;let y=r.routes[m.route.id];if(!y||!y.hasLoader)return!1;if(c(m,p)||d(m,p))return!0;if(m.route.shouldRevalidate){let S=m.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((_=n[0])==null?void 0:_.params)||{},nextUrl:new URL(e,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function BD(e,t,{includeHydrateFallback:n}={}){return zD(e.map(r=>{let a=t.routes[r.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function zD(e){return[...new Set(e)]}function FD(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function HD(e,t){let n=new Set;return new Set(t),e.reduce((r,a)=>{let l=JSON.stringify(FD(a));return n.has(l)||(n.add(l),r.push({key:l,link:a})),r},[])}function qD(e,t){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname="_root.data":t&&fr(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function $A(){let e=L.useContext(zo);return Fg(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function GD(){let e=L.useContext(Uf);return Fg(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Hg=L.createContext(void 0);Hg.displayName="FrameworkContext";function QA(){let e=L.useContext(Hg);return Fg(e,"You must render this element inside a <HydratedRouter> element"),e}function KD(e,t){let n=L.useContext(Hg),[r,a]=L.useState(!1),[l,c]=L.useState(!1),{onFocus:d,onBlur:m,onMouseEnter:p,onMouseLeave:y,onTouchStart:_}=t,S=L.useRef(null);L.useEffect(()=>{if(e==="render"&&c(!0),e==="viewport"){let B=U=>{U.forEach(X=>{c(X.isIntersecting)})},O=new IntersectionObserver(B,{threshold:.5});return S.current&&O.observe(S.current),()=>{O.disconnect()}}},[e]),L.useEffect(()=>{if(r){let B=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(B)}}},[r]);let w=()=>{a(!0)},C=()=>{a(!1),c(!1)};return n?e!=="intent"?[l,S,{}]:[l,S,{onFocus:ou(d,w),onBlur:ou(m,C),onMouseEnter:ou(p,w),onMouseLeave:ou(y,C),onTouchStart:ou(_,w)}]:[!1,S,{}]}function ou(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function YD({page:e,...t}){let{router:n}=$A(),r=L.useMemo(()=>LA(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?L.createElement(QD,{page:e,matches:r,...t}):null}function $D(e){let{manifest:t,routeModules:n}=QA(),[r,a]=L.useState([]);return L.useEffect(()=>{let l=!1;return jD(e,t,n).then(c=>{l||a(c)}),()=>{l=!0}},[e,t,n]),r}function QD({page:e,matches:t,...n}){let r=pa(),{manifest:a,routeModules:l}=QA(),{basename:c}=$A(),{loaderData:d,matches:m}=GD(),p=L.useMemo(()=>BT(e,t,m,a,r,"data"),[e,t,m,a,r]),y=L.useMemo(()=>BT(e,t,m,a,r,"assets"),[e,t,m,a,r]),_=L.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let C=new Set,B=!1;if(t.forEach(U=>{var H;let X=a.routes[U.route.id];!X||!X.hasLoader||(!p.some(st=>st.route.id===U.route.id)&&U.route.id in d&&((H=l[U.route.id])!=null&&H.shouldRevalidate)||X.hasClientLoader?B=!0:C.add(U.route.id))}),C.size===0)return[];let O=qD(e,c);return B&&C.size>0&&O.searchParams.set("_routes",t.filter(U=>C.has(U.route.id)).map(U=>U.route.id).join(",")),[O.pathname+O.search]},[c,d,r,a,p,t,e,l]),S=L.useMemo(()=>BD(y,a),[y,a]),w=$D(y);return L.createElement(L.Fragment,null,_.map(C=>L.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...n})),S.map(C=>L.createElement("link",{key:C,rel:"modulepreload",href:C,...n})),w.map(({key:C,link:B})=>L.createElement("link",{key:C,...B})))}function XD(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var XA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{XA&&(window.__reactRouterVersion="7.5.0")}catch{}function WD({basename:e,children:t,window:n}){let r=L.useRef();r.current==null&&(r.current=UI({window:n,v5Compat:!0}));let a=r.current,[l,c]=L.useState({action:a.action,location:a.location}),d=L.useCallback(m=>{L.startTransition(()=>c(m))},[c]);return L.useLayoutEffect(()=>a.listen(d),[a,d]),L.createElement(CD,{basename:e,children:t,location:l.location,navigationType:l.action,navigator:a})}var WA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Wr=L.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:a,reloadDocument:l,replace:c,state:d,target:m,to:p,preventScrollReset:y,viewTransition:_,...S},w){let{basename:C}=L.useContext(Oi),B=typeof p=="string"&&WA.test(p),O,U=!1;if(typeof p=="string"&&B&&(O=p,XA))try{let I=new URL(window.location.href),M=p.startsWith("//")?new URL(I.protocol+p):new URL(p),j=fr(M.pathname,C);M.origin===I.origin&&j!=null?p=j+M.search+M.hash:U=!0}catch{xi(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let X=cD(p,{relative:a}),[H,st,nt]=KD(r,S),ct=ex(p,{replace:c,state:d,target:m,preventScrollReset:y,relative:a,viewTransition:_});function P(I){t&&t(I),I.defaultPrevented||ct(I)}let R=L.createElement("a",{...S,...nt,href:O||X,onClick:U||l?t:P,ref:XD(w,st),target:m,"data-discover":!B&&n==="render"?"true":void 0});return H&&!B?L.createElement(L.Fragment,null,R,L.createElement(YD,{page:X})):R});Wr.displayName="Link";var ZD=L.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:a=!1,style:l,to:c,viewTransition:d,children:m,...p},y){let _=Qu(c,{relative:p.relative}),S=pa(),w=L.useContext(Uf),{navigator:C,basename:B}=L.useContext(Oi),O=w!=null&&ax(_)&&d===!0,U=C.encodeLocation?C.encodeLocation(_).pathname:_.pathname,X=S.pathname,H=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;n||(X=X.toLowerCase(),H=H?H.toLowerCase():null,U=U.toLowerCase()),H&&B&&(H=fr(H,B)||H);const st=U!=="/"&&U.endsWith("/")?U.length-1:U.length;let nt=X===U||!a&&X.startsWith(U)&&X.charAt(st)==="/",ct=H!=null&&(H===U||!a&&H.startsWith(U)&&H.charAt(U.length)==="/"),P={isActive:nt,isPending:ct,isTransitioning:O},R=nt?t:void 0,I;typeof r=="function"?I=r(P):I=[r,nt?"active":null,ct?"pending":null,O?"transitioning":null].filter(Boolean).join(" ");let M=typeof l=="function"?l(P):l;return L.createElement(Wr,{...p,"aria-current":R,className:I,ref:y,style:M,to:c,viewTransition:d},typeof m=="function"?m(P):m)});ZD.displayName="NavLink";var JD=L.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:a,state:l,method:c=Kh,action:d,onSubmit:m,relative:p,preventScrollReset:y,viewTransition:_,...S},w)=>{let C=rx(),B=sx(d,{relative:p}),O=c.toLowerCase()==="get"?"get":"post",U=typeof d=="string"&&WA.test(d),X=H=>{if(m&&m(H),H.defaultPrevented)return;H.preventDefault();let st=H.nativeEvent.submitter,nt=(st==null?void 0:st.getAttribute("formmethod"))||c;C(st||H.currentTarget,{fetcherKey:t,method:nt,navigate:n,replace:a,state:l,relative:p,preventScrollReset:y,viewTransition:_})};return L.createElement("form",{ref:w,method:O,action:B,onSubmit:r?m:X,...S,"data-discover":!U&&e==="render"?"true":void 0})});JD.displayName="Form";function tx(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ZA(e){let t=L.useContext(zo);return le(t,tx(e)),t}function ex(e,{target:t,replace:n,state:r,preventScrollReset:a,relative:l,viewTransition:c}={}){let d=jf(),m=pa(),p=Qu(e,{relative:l});return L.useCallback(y=>{if(OD(y,t)){y.preventDefault();let _=n!==void 0?n:Cu(m)===Cu(p);d(e,{replace:_,state:r,preventScrollReset:a,relative:l,viewTransition:c})}},[m,d,p,n,r,t,e,a,l,c])}var nx=0,ix=()=>`__${String(++nx)}__`;function rx(){let{router:e}=ZA("useSubmit"),{basename:t}=L.useContext(Oi),n=AD();return L.useCallback(async(r,a={})=>{let{action:l,method:c,encType:d,formData:m,body:p}=LD(r,t);if(a.navigate===!1){let y=a.fetcherKey||ix();await e.fetch(y,n,a.action||l,{preventScrollReset:a.preventScrollReset,formData:m,body:p,formMethod:a.method||c,formEncType:a.encType||d,flushSync:a.flushSync})}else await e.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:m,body:p,formMethod:a.method||c,formEncType:a.encType||d,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[e,t,n])}function sx(e,{relative:t}={}){let{basename:n}=L.useContext(Oi),r=L.useContext(Vi);le(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),l={...Qu(e||".",{relative:t})},c=pa();if(e==null){l.search=c.search;let d=new URLSearchParams(l.search),m=d.getAll("index");if(m.some(y=>y==="")){d.delete("index"),m.filter(_=>_).forEach(_=>d.append("index",_));let y=d.toString();l.search=y?`?${y}`:""}}return(!e||e===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:ur([n,l.pathname])),Cu(l)}function ax(e,t={}){let n=L.useContext(FA);le(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=ZA("useViewTransitionState"),a=Qu(e,{relative:t.relative});if(!n.isTransitioning)return!1;let l=fr(n.currentLocation.pathname,r)||n.currentLocation.pathname,c=fr(n.nextLocation.pathname,r)||n.nextLocation.pathname;return lf(a.pathname,c)!=null||lf(a.pathname,l)!=null}new TextEncoder;const ox="/movieCatgeoryApp/assets/wallpapersden.com_new-terminator-dark-fate_ws-DvoPRv1z.jpg",JA=L.createContext({});function lx(e){const t=L.useRef(null);return t.current===null&&(t.current=e()),t.current}const qg=typeof window<"u",ux=qg?L.useLayoutEffect:L.useEffect,Gg=L.createContext(null),tb=L.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function cx(e=!0){const t=L.useContext(Gg);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:a}=t,l=L.useId();L.useEffect(()=>{if(e)return a(l)},[e]);const c=L.useCallback(()=>e&&r&&r(l),[l,r,e]);return!n&&r?[!1,c]:[!0]}function Kg(e,t){e.indexOf(t)===-1&&e.push(t)}function Yg(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}let eb=()=>{};const Yp={useManualTiming:!1};function $g(e){let t;return()=>(t===void 0&&(t=e()),t)}const Hn=e=>e,Iu=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r};class Qg{constructor(){this.subscriptions=[]}add(t){return Kg(this.subscriptions,t),()=>Yg(this.subscriptions,t)}notify(t,n,r){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,n,r);else for(let l=0;l<a;l++){const c=this.subscriptions[l];c&&c(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Si=e=>e*1e3,Ai=e=>e/1e3;function nb(e,t){return t?e*(1e3/t):0}const hx=$g(()=>window.ScrollTimeline!==void 0);class fx{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>t.finished))}getAll(t){return this.animations[0][t]}setAll(t,n){for(let r=0;r<this.animations.length;r++)this.animations[r][t]=n}attachTimeline(t,n){const r=this.animations.map(a=>{if(hx()&&a.attachTimeline)return a.attachTimeline(t);if(typeof n=="function")return n(a)});return()=>{r.forEach((a,l)=>{a&&a(),this.animations[l].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let n=0;n<this.animations.length;n++)t=Math.max(t,this.animations[n].duration);return t}runAll(t){this.animations.forEach(n=>n[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class dx extends fx{then(t,n){return this.finished.finally(t).then(()=>{})}}const zT={value:null},Xg=e=>Array.isArray(e)&&typeof e[0]=="number",mx={};function px(e,t){const n=$g(e);return()=>mx[t]??n()}const Du=px(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),ib=(e,t,n=10)=>{let r="";const a=Math.max(Math.round(t/n),2);for(let l=0;l<a;l++)r+=e(l/(a-1))+", ";return`linear(${r.substring(0,r.length-2)})`},uu=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,$p={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:uu([0,.65,.55,1]),circOut:uu([.55,0,1,.45]),backIn:uu([.31,.01,.66,-.59]),backOut:uu([.33,1.53,.69,.99])};function rb(e,t){if(e)return typeof e=="function"&&Du()?ib(e,t):Xg(e)?uu(e):Array.isArray(e)?e.map(n=>rb(n,t)||$p.easeOut):$p[e]}function gx(e,t,n,{delay:r=0,duration:a=300,repeat:l=0,repeatType:c="loop",ease:d="easeInOut",times:m}={},p=void 0){const y={[t]:n};m&&(y.offset=m);const _=rb(d,a);return Array.isArray(_)&&(y.easing=_),e.animate(y,{delay:r,duration:a,easing:Array.isArray(_)?"linear":_,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal",pseudoElement:p})}function Wg(e){return typeof e=="function"&&"applyToOptions"in e}function Zg(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const uf=2e4;function Jg(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<uf;)t+=n,r=e.next(t);return t>=uf?1/0:t}function yx(e,t=100,n){const r=n({...e,keyframes:[0,t]}),a=Math.min(Jg(r),uf);return{type:"keyframes",ease:l=>r.next(a*l).value/t,duration:Ai(a)}}function sb(e){return!!(typeof e=="function"&&Du()||!e||typeof e=="string"&&(e in $p||Du())||Xg(e)||Array.isArray(e)&&e.every(sb))}function FT(e,t){e.timeline=t,e.onfinish=null}const cu=["read","resolveKeyframes","update","preRender","render","postRender"];function vx(e,t){let n=new Set,r=new Set,a=!1,l=!1;const c=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1},m=0;function p(_){c.has(_)&&(y.schedule(_),e()),m++,_(d)}const y={schedule:(_,S=!1,w=!1)=>{const B=w&&a?n:r;return S&&c.add(_),B.has(_)||B.add(_),_},cancel:_=>{r.delete(_),c.delete(_)},process:_=>{if(d=_,a){l=!0;return}a=!0,[n,r]=[r,n],n.forEach(p),t&&zT.value&&zT.value.frameloop[t].push(m),m=0,n.clear(),a=!1,l&&(l=!1,y.process(_))}};return y}const _x=40;function ab(e,t){let n=!1,r=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=cu.reduce((U,X)=>(U[X]=vx(l,t?X:void 0),U),{}),{read:d,resolveKeyframes:m,update:p,preRender:y,render:_,postRender:S}=c,w=()=>{const U=performance.now();n=!1,a.delta=r?1e3/60:Math.max(Math.min(U-a.timestamp,_x),1),a.timestamp=U,a.isProcessing=!0,d.process(a),m.process(a),p.process(a),y.process(a),_.process(a),S.process(a),a.isProcessing=!1,n&&t&&(r=!1,e(w))},C=()=>{n=!0,r=!0,a.isProcessing||e(w)};return{schedule:cu.reduce((U,X)=>{const H=c[X];return U[X]=(st,nt=!1,ct=!1)=>(n||C(),H.schedule(st,nt,ct)),U},{}),cancel:U=>{for(let X=0;X<cu.length;X++)c[cu[X]].cancel(U)},state:a,steps:c}}const{schedule:ne,cancel:dr,state:Ke,steps:yp}=ab(typeof requestAnimationFrame<"u"?requestAnimationFrame:Hn,!0),{schedule:ty}=ab(queueMicrotask,!1);let $h;function Tx(){$h=void 0}const bi={now:()=>($h===void 0&&bi.set(Ke.isProcessing||Yp.useManualTiming?Ke.timestamp:performance.now()),$h),set:e=>{$h=e,queueMicrotask(Tx)}},Zn={x:!1,y:!1};function ob(){return Zn.x||Zn.y}function Ex(e){return e==="x"||e==="y"?Zn[e]?null:(Zn[e]=!0,()=>{Zn[e]=!1}):Zn.x||Zn.y?null:(Zn.x=Zn.y=!0,()=>{Zn.x=Zn.y=!1})}function Sx(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){const a=document.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e)}function lb(e,t){const n=Sx(e),r=new AbortController,a={passive:!0,...t,signal:r.signal};return[n,a,()=>r.abort()]}function HT(e){return!(e.pointerType==="touch"||ob())}function Ax(e,t,n={}){const[r,a,l]=lb(e,n),c=d=>{if(!HT(d))return;const{target:m}=d,p=t(m,d);if(typeof p!="function"||!m)return;const y=_=>{HT(_)&&(p(_),m.removeEventListener("pointerleave",y))};m.addEventListener("pointerleave",y,a)};return r.forEach(d=>{d.addEventListener("pointerenter",c,a)}),l}const ub=(e,t)=>t?e===t?!0:ub(e,t.parentElement):!1,ey=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,bx=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function wx(e){return bx.has(e.tagName)||e.tabIndex!==-1}const hu=new WeakSet;function qT(e){return t=>{t.key==="Enter"&&e(t)}}function vp(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const Rx=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=qT(()=>{if(hu.has(n))return;vp(n,"down");const a=qT(()=>{vp(n,"up")}),l=()=>vp(n,"cancel");n.addEventListener("keyup",a,t),n.addEventListener("blur",l,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function GT(e){return ey(e)&&!ob()}function Cx(e,t,n={}){const[r,a,l]=lb(e,n),c=d=>{const m=d.currentTarget;if(!GT(d)||hu.has(m))return;hu.add(m);const p=t(m,d),y=(w,C)=>{window.removeEventListener("pointerup",_),window.removeEventListener("pointercancel",S),!(!GT(w)||!hu.has(m))&&(hu.delete(m),typeof p=="function"&&p(w,{success:C}))},_=w=>{y(w,m===window||m===document||n.useGlobalTarget||ub(m,w.target))},S=w=>{y(w,!1)};window.addEventListener("pointerup",_,a),window.addEventListener("pointercancel",S,a)};return r.forEach(d=>{(n.useGlobalTarget?window:d).addEventListener("pointerdown",c,a),d instanceof HTMLElement&&(d.addEventListener("focus",p=>Rx(p,a)),!wx(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),l}const KT=30,Ix=e=>!isNaN(parseFloat(e));class Dx{constructor(t,n={}){this.version="12.6.5",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,a=!0)=>{const l=bi.now();this.updatedAt!==l&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),a&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=bi.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=Ix(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Qg);const r=this.events[t].add(n);return t==="change"?()=>{r(),ne.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=bi.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>KT)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,KT);return nb(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function xu(e,t){return new Dx(e,t)}cu.reduce((e,t)=>(e[t]=n=>dr(n),e),{});const cb=L.createContext({strict:!1}),YT={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Do={};for(const e in YT)Do[e]={isEnabled:t=>YT[e].some(n=>!!t[n])};function xx(e){for(const t in e)Do[t]={...Do[t],...e[t]}}const Px=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function cf(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Px.has(e)}let hb=e=>!cf(e);function Mx(e){e&&(hb=t=>t.startsWith("on")?!cf(t):e(t))}try{Mx(require("@emotion/is-prop-valid").default)}catch{}function Ox(e,t,n){const r={};for(const a in e)a==="values"&&typeof e.values=="object"||(hb(a)||n===!0&&cf(a)||!t&&!cf(a)||e.draggable&&a.startsWith("onDrag"))&&(r[a]=e[a]);return r}function Vx(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...r)=>e(...r);return new Proxy(n,{get:(r,a)=>a==="create"?e:(t.has(a)||t.set(a,e(a)),t.get(a))})}const zf=L.createContext({});function Ff(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Pu(e){return typeof e=="string"||Array.isArray(e)}const ny=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],iy=["initial",...ny];function Hf(e){return Ff(e.animate)||iy.some(t=>Pu(e[t]))}function fb(e){return!!(Hf(e)||e.variants)}function Nx(e,t){if(Hf(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Pu(n)?n:void 0,animate:Pu(r)?r:void 0}}return e.inherit!==!1?t:{}}function Lx(e){const{initial:t,animate:n}=Nx(e,L.useContext(zf));return L.useMemo(()=>({initial:t,animate:n}),[$T(t),$T(n)])}function $T(e){return Array.isArray(e)?e.join(" "):e}const kx=Symbol.for("motionComponentSymbol");function _o(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Ux(e,t,n){return L.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):_o(n)&&(n.current=r))},[t])}const ry=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),jx="framerAppearId",db="data-"+ry(jx),mb=L.createContext({});function Bx(e,t,n,r,a){var B,O;const{visualElement:l}=L.useContext(zf),c=L.useContext(cb),d=L.useContext(Gg),m=L.useContext(tb).reducedMotion,p=L.useRef(null);r=r||c.renderer,!p.current&&r&&(p.current=r(e,{visualState:t,parent:l,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:m}));const y=p.current,_=L.useContext(mb);y&&!y.projection&&a&&(y.type==="html"||y.type==="svg")&&zx(p.current,n,a,_);const S=L.useRef(!1);L.useInsertionEffect(()=>{y&&S.current&&y.update(n,d)});const w=n[db],C=L.useRef(!!w&&!((B=window.MotionHandoffIsComplete)!=null&&B.call(window,w))&&((O=window.MotionHasOptimisedAnimation)==null?void 0:O.call(window,w)));return ux(()=>{y&&(S.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),ty.render(y.render),C.current&&y.animationState&&y.animationState.animateChanges())}),L.useEffect(()=>{y&&(!C.current&&y.animationState&&y.animationState.animateChanges(),C.current&&(queueMicrotask(()=>{var U;(U=window.MotionHandoffMarkAsComplete)==null||U.call(window,w)}),C.current=!1))}),y}function zx(e,t,n,r){const{layoutId:a,layout:l,drag:c,dragConstraints:d,layoutScroll:m,layoutRoot:p}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:pb(e.parent)),e.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!c||d&&_o(d),visualElement:e,animationType:typeof l=="string"?l:"both",initialPromotionConfig:r,layoutScroll:m,layoutRoot:p})}function pb(e){if(e)return e.options.allowProjection!==!1?e.projection:pb(e.parent)}function Fx({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:a}){e&&xx(e);function l(d,m){let p;const y={...L.useContext(tb),...d,layoutId:Hx(d)},{isStatic:_}=y,S=Lx(d),w=r(d,_);if(!_&&qg){qx();const C=Gx(y);p=C.MeasureLayout,S.visualElement=Bx(a,w,y,t,C.ProjectionNode)}return k.jsxs(zf.Provider,{value:S,children:[p&&S.visualElement?k.jsx(p,{visualElement:S.visualElement,...y}):null,n(a,d,Ux(w,S.visualElement,m),w,_,S.visualElement)]})}l.displayName=`motion.${typeof a=="string"?a:`create(${a.displayName??a.name??""})`}`;const c=L.forwardRef(l);return c[kx]=a,c}function Hx({layoutId:e}){const t=L.useContext(JA).id;return t&&e!==void 0?t+"-"+e:e}function qx(e,t){L.useContext(cb).strict}function Gx(e){const{drag:t,layout:n}=Do;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const gb=e=>t=>typeof t=="string"&&t.startsWith(e),sy=gb("--"),Kx=gb("var(--"),ay=e=>Kx(e)?Yx.test(e.split("/*")[0].trim()):!1,Yx=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Mu={};function $x(e){for(const t in e)Mu[t]=e[t],sy(t)&&(Mu[t].isCSSVariable=!0)}const Fo=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ga=new Set(Fo);function yb(e,{layout:t,layoutId:n}){return ga.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Mu[e]||e==="opacity")}const rn=e=>!!(e&&e.getVelocity),vb=(e,t)=>t&&typeof e=="number"?t.transform(e):e,mr=(e,t,n)=>n>t?t:n<e?e:n,Ho={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Ou={...Ho,transform:e=>mr(0,1,e)},kh={...Ho,default:1},Xu=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Xr=Xu("deg"),wi=Xu("%"),Tt=Xu("px"),Qx=Xu("vh"),Xx=Xu("vw"),QT={...wi,parse:e=>wi.parse(e)/100,transform:e=>wi.transform(e*100)},Wx={borderWidth:Tt,borderTopWidth:Tt,borderRightWidth:Tt,borderBottomWidth:Tt,borderLeftWidth:Tt,borderRadius:Tt,radius:Tt,borderTopLeftRadius:Tt,borderTopRightRadius:Tt,borderBottomRightRadius:Tt,borderBottomLeftRadius:Tt,width:Tt,maxWidth:Tt,height:Tt,maxHeight:Tt,top:Tt,right:Tt,bottom:Tt,left:Tt,padding:Tt,paddingTop:Tt,paddingRight:Tt,paddingBottom:Tt,paddingLeft:Tt,margin:Tt,marginTop:Tt,marginRight:Tt,marginBottom:Tt,marginLeft:Tt,backgroundPositionX:Tt,backgroundPositionY:Tt},Zx={rotate:Xr,rotateX:Xr,rotateY:Xr,rotateZ:Xr,scale:kh,scaleX:kh,scaleY:kh,scaleZ:kh,skew:Xr,skewX:Xr,skewY:Xr,distance:Tt,translateX:Tt,translateY:Tt,translateZ:Tt,x:Tt,y:Tt,z:Tt,perspective:Tt,transformPerspective:Tt,opacity:Ou,originX:QT,originY:QT,originZ:Tt},XT={...Ho,transform:Math.round},oy={...Wx,...Zx,zIndex:XT,size:Tt,fillOpacity:Ou,strokeOpacity:Ou,numOctaves:XT},Jx={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},t2=Fo.length;function e2(e,t,n){let r="",a=!0;for(let l=0;l<t2;l++){const c=Fo[l],d=e[c];if(d===void 0)continue;let m=!0;if(typeof d=="number"?m=d===(c.startsWith("scale")?1:0):m=parseFloat(d)===0,!m||n){const p=vb(d,oy[c]);if(!m){a=!1;const y=Jx[c]||c;r+=`${y}(${p}) `}n&&(t[c]=p)}}return r=r.trim(),n?r=n(t,a?"":r):a&&(r="none"),r}function ly(e,t,n){const{style:r,vars:a,transformOrigin:l}=e;let c=!1,d=!1;for(const m in t){const p=t[m];if(ga.has(m)){c=!0;continue}else if(sy(m)){a[m]=p;continue}else{const y=vb(p,oy[m]);m.startsWith("origin")?(d=!0,l[m]=y):r[m]=y}}if(t.transform||(c||n?r.transform=e2(t,e.transform,n):r.transform&&(r.transform="none")),d){const{originX:m="50%",originY:p="50%",originZ:y=0}=l;r.transformOrigin=`${m} ${p} ${y}`}}const uy=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function _b(e,t,n){for(const r in t)!rn(t[r])&&!yb(r,n)&&(e[r]=t[r])}function n2({transformTemplate:e},t){return L.useMemo(()=>{const n=uy();return ly(n,t,e),Object.assign({},n.vars,n.style)},[t])}function i2(e,t){const n=e.style||{},r={};return _b(r,n,e),Object.assign(r,n2(e,t)),r}function r2(e,t){const n={},r=i2(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const s2=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function cy(e){return typeof e!="string"||e.includes("-")?!1:!!(s2.indexOf(e)>-1||/[A-Z]/u.test(e))}const a2={offset:"stroke-dashoffset",array:"stroke-dasharray"},o2={offset:"strokeDashoffset",array:"strokeDasharray"};function l2(e,t,n=1,r=0,a=!0){e.pathLength=1;const l=a?a2:o2;e[l.offset]=Tt.transform(-r);const c=Tt.transform(t),d=Tt.transform(n);e[l.array]=`${c} ${d}`}function WT(e,t,n){return typeof e=="string"?e:Tt.transform(t+n*e)}function u2(e,t,n){const r=WT(t,e.x,e.width),a=WT(n,e.y,e.height);return`${r} ${a}`}function hy(e,{attrX:t,attrY:n,attrScale:r,originX:a,originY:l,pathLength:c,pathSpacing:d=1,pathOffset:m=0,...p},y,_){if(ly(e,p,_),y){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:S,style:w,dimensions:C}=e;S.transform&&(C&&(w.transform=S.transform),delete S.transform),C&&(a!==void 0||l!==void 0||w.transform)&&(w.transformOrigin=u2(C,a!==void 0?a:.5,l!==void 0?l:.5)),t!==void 0&&(S.x=t),n!==void 0&&(S.y=n),r!==void 0&&(S.scale=r),c!==void 0&&l2(S,c,d,m,!1)}const Tb=()=>({...uy(),attrs:{}}),fy=e=>typeof e=="string"&&e.toLowerCase()==="svg";function c2(e,t,n,r){const a=L.useMemo(()=>{const l=Tb();return hy(l,t,fy(r),e.transformTemplate),{...l.attrs,style:{...l.style}}},[t]);if(e.style){const l={};_b(l,e.style,e),a.style={...l,...a.style}}return a}function h2(e=!1){return(n,r,a,{latestValues:l},c)=>{const m=(cy(n)?c2:r2)(r,l,c,n),p=Ox(r,typeof n=="string",e),y=n!==L.Fragment?{...p,...m,ref:a}:{},{children:_}=r,S=L.useMemo(()=>rn(_)?_.get():_,[_]);return L.createElement(n,{...y,children:S})}}function ZT(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function dy(e,t,n,r){if(typeof t=="function"){const[a,l]=ZT(r);t=t(n!==void 0?n:e.custom,a,l)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[a,l]=ZT(r);t=t(n!==void 0?n:e.custom,a,l)}return t}const Qp=e=>Array.isArray(e),f2=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),d2=e=>Qp(e)?e[e.length-1]||0:e;function Qh(e){const t=rn(e)?e.get():e;return f2(t)?t.toValue():t}function m2({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:n},r,a,l){const c={latestValues:p2(r,a,l,e),renderState:t()};return n&&(c.onMount=d=>n({props:r,current:d,...c}),c.onUpdate=d=>n(d)),c}const Eb=e=>(t,n)=>{const r=L.useContext(zf),a=L.useContext(Gg),l=()=>m2(e,t,r,a);return n?l():lx(l)};function p2(e,t,n,r){const a={},l=r(e,{});for(const S in l)a[S]=Qh(l[S]);let{initial:c,animate:d}=e;const m=Hf(e),p=fb(e);t&&p&&!m&&e.inherit!==!1&&(c===void 0&&(c=t.initial),d===void 0&&(d=t.animate));let y=n?n.initial===!1:!1;y=y||c===!1;const _=y?d:c;if(_&&typeof _!="boolean"&&!Ff(_)){const S=Array.isArray(_)?_:[_];for(let w=0;w<S.length;w++){const C=dy(e,S[w]);if(C){const{transitionEnd:B,transition:O,...U}=C;for(const X in U){let H=U[X];if(Array.isArray(H)){const st=y?H.length-1:0;H=H[st]}H!==null&&(a[X]=H)}for(const X in B)a[X]=B[X]}}}return a}function my(e,t,n){var l;const{style:r}=e,a={};for(const c in r)(rn(r[c])||t.style&&rn(t.style[c])||yb(c,e)||((l=n==null?void 0:n.getValue(c))==null?void 0:l.liveStyle)!==void 0)&&(a[c]=r[c]);return a}const g2={useVisualState:Eb({scrapeMotionValuesFromProps:my,createRenderState:uy})};function Sb(e,t){try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}function Ab(e,{style:t,vars:n},r,a){Object.assign(e.style,t,a&&a.getProjectionStyles(r));for(const l in n)e.style.setProperty(l,n[l])}const bb=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function wb(e,t,n,r){Ab(e,t,void 0,r);for(const a in t.attrs)e.setAttribute(bb.has(a)?a:ry(a),t.attrs[a])}function Rb(e,t,n){const r=my(e,t,n);for(const a in e)if(rn(e[a])||rn(t[a])){const l=Fo.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;r[l]=e[a]}return r}const JT=["x","y","width","height","cx","cy","r"],y2={useVisualState:Eb({scrapeMotionValuesFromProps:Rb,createRenderState:Tb,onUpdate:({props:e,prevProps:t,current:n,renderState:r,latestValues:a})=>{if(!n)return;let l=!!e.drag;if(!l){for(const d in a)if(ga.has(d)){l=!0;break}}if(!l)return;let c=!t;if(t)for(let d=0;d<JT.length;d++){const m=JT[d];e[m]!==t[m]&&(c=!0)}c&&ne.read(()=>{Sb(n,r),ne.render(()=>{hy(r,a,fy(n.tagName),e.transformTemplate),wb(n,r)})})}})};function v2(e,t){return function(r,{forwardMotionProps:a}={forwardMotionProps:!1}){const c={...cy(r)?y2:g2,preloadedFeatures:e,useRender:h2(a),createVisualElement:t,Component:r};return Fx(c)}}function Vu(e,t,n){const r=e.getProps();return dy(r,t,n!==void 0?n:r.custom,e)}const Cb=new Set(["width","height","top","left","right","bottom",...Fo]);function _2(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,xu(n))}function T2(e,t){const n=Vu(e,t);let{transitionEnd:r={},transition:a={},...l}=n||{};l={...l,...r};for(const c in l){const d=d2(l[c]);_2(e,c,d)}}function E2(e){return!!(rn(e)&&e.add)}function Xp(e,t){const n=e.getValue("willChange");if(E2(n))return n.add(t);if(!n&&Yp.WillChange){const r=new Yp.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function Ib(e){return e.props[db]}const Db=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,S2=1e-7,A2=12;function b2(e,t,n,r,a){let l,c,d=0;do c=t+(n-t)/2,l=Db(c,r,a)-e,l>0?n=c:t=c;while(Math.abs(l)>S2&&++d<A2);return c}function Wu(e,t,n,r){if(e===t&&n===r)return Hn;const a=l=>b2(l,0,1,e,n);return l=>l===0||l===1?l:Db(a(l),t,r)}const xb=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Pb=e=>t=>1-e(1-t),Mb=Wu(.33,1.53,.69,.99),py=Pb(Mb),Ob=xb(py),Vb=e=>(e*=2)<1?.5*py(e):.5*(2-Math.pow(2,-10*(e-1))),gy=e=>1-Math.sin(Math.acos(e)),Nb=Pb(gy),Lb=xb(gy),kb=e=>/^0[^.\s]+$/u.test(e);function w2(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||kb(e):!0}const yu=e=>Math.round(e*1e5)/1e5,yy=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function R2(e){return e==null}const C2=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,vy=(e,t)=>n=>!!(typeof n=="string"&&C2.test(n)&&n.startsWith(e)||t&&!R2(n)&&Object.prototype.hasOwnProperty.call(n,t)),Ub=(e,t,n)=>r=>{if(typeof r!="string")return r;const[a,l,c,d]=r.match(yy);return{[e]:parseFloat(a),[t]:parseFloat(l),[n]:parseFloat(c),alpha:d!==void 0?parseFloat(d):1}},I2=e=>mr(0,255,e),_p={...Ho,transform:e=>Math.round(I2(e))},sa={test:vy("rgb","red"),parse:Ub("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+_p.transform(e)+", "+_p.transform(t)+", "+_p.transform(n)+", "+yu(Ou.transform(r))+")"};function D2(e){let t="",n="",r="",a="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),a=e.substring(4,5),t+=t,n+=n,r+=r,a+=a),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:a?parseInt(a,16)/255:1}}const Wp={test:vy("#"),parse:D2,transform:sa.transform},To={test:vy("hsl","hue"),parse:Ub("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+wi.transform(yu(t))+", "+wi.transform(yu(n))+", "+yu(Ou.transform(r))+")"},tn={test:e=>sa.test(e)||Wp.test(e)||To.test(e),parse:e=>sa.test(e)?sa.parse(e):To.test(e)?To.parse(e):Wp.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?sa.transform(e):To.transform(e)},x2=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function P2(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(yy))==null?void 0:t.length)||0)+(((n=e.match(x2))==null?void 0:n.length)||0)>0}const jb="number",Bb="color",M2="var",O2="var(",tE="${}",V2=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Nu(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},a=[];let l=0;const d=t.replace(V2,m=>(tn.test(m)?(r.color.push(l),a.push(Bb),n.push(tn.parse(m))):m.startsWith(O2)?(r.var.push(l),a.push(M2),n.push(m)):(r.number.push(l),a.push(jb),n.push(parseFloat(m))),++l,tE)).split(tE);return{values:n,split:d,indexes:r,types:a}}function zb(e){return Nu(e).values}function Fb(e){const{split:t,types:n}=Nu(e),r=t.length;return a=>{let l="";for(let c=0;c<r;c++)if(l+=t[c],a[c]!==void 0){const d=n[c];d===jb?l+=yu(a[c]):d===Bb?l+=tn.transform(a[c]):l+=a[c]}return l}}const N2=e=>typeof e=="number"?0:e;function L2(e){const t=zb(e);return Fb(e)(t.map(N2))}const ls={test:P2,parse:zb,createTransformer:Fb,getAnimatableNone:L2},k2=new Set(["brightness","contrast","saturate","opacity"]);function U2(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(yy)||[];if(!r)return e;const a=n.replace(r,"");let l=k2.has(t)?1:0;return r!==n&&(l*=100),t+"("+l+a+")"}const j2=/\b([a-z-]*)\(.*?\)/gu,Zp={...ls,getAnimatableNone:e=>{const t=e.match(j2);return t?t.map(U2).join(" "):e}},B2={...oy,color:tn,backgroundColor:tn,outlineColor:tn,fill:tn,stroke:tn,borderColor:tn,borderTopColor:tn,borderRightColor:tn,borderBottomColor:tn,borderLeftColor:tn,filter:Zp,WebkitFilter:Zp},Hb=e=>B2[e];function qb(e,t){let n=Hb(e);return n!==Zp&&(n=ls),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const z2=new Set(["auto","none","0"]);function F2(e,t,n){let r=0,a;for(;r<e.length&&!a;){const l=e[r];typeof l=="string"&&!z2.has(l)&&Nu(l).values.length&&(a=e[r]),r++}if(a&&n)for(const l of t)e[l]=qb(n,a)}const aa=e=>e*180/Math.PI,Jp=e=>{const t=aa(Math.atan2(e[1],e[0]));return tg(t)},H2={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Jp,rotateZ:Jp,skewX:e=>aa(Math.atan(e[1])),skewY:e=>aa(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},tg=e=>(e=e%360,e<0&&(e+=360),e),eE=Jp,nE=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),iE=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),q2={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:nE,scaleY:iE,scale:e=>(nE(e)+iE(e))/2,rotateX:e=>tg(aa(Math.atan2(e[6],e[5]))),rotateY:e=>tg(aa(Math.atan2(-e[2],e[0]))),rotateZ:eE,rotate:eE,skewX:e=>aa(Math.atan(e[4])),skewY:e=>aa(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function rE(e){return e.includes("scale")?1:0}function eg(e,t){if(!e||e==="none")return rE(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,a;if(n)r=q2,a=n;else{const d=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=H2,a=d}if(!a)return rE(t);const l=r[t],c=a[1].split(",").map(K2);return typeof l=="function"?l(c):c[l]}const G2=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return eg(n,t)};function K2(e){return parseFloat(e.trim())}const sE=e=>e===Ho||e===Tt,Y2=new Set(["x","y","z"]),$2=Fo.filter(e=>!Y2.has(e));function Q2(e){const t=[];return $2.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const xo={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>eg(t,"x"),y:(e,{transform:t})=>eg(t,"y")};xo.translateX=xo.x;xo.translateY=xo.y;const ua=new Set;let ng=!1,ig=!1;function Gb(){if(ig){const e=Array.from(ua).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const a=Q2(r);a.length&&(n.set(r,a),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const a=n.get(r);a&&a.forEach(([l,c])=>{var d;(d=r.getValue(l))==null||d.set(c)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}ig=!1,ng=!1,ua.forEach(e=>e.complete()),ua.clear()}function Kb(){ua.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(ig=!0)})}function X2(){Kb(),Gb()}class _y{constructor(t,n,r,a,l,c=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=a,this.element=l,this.isAsync=c}scheduleResolve(){this.isScheduled=!0,this.isAsync?(ua.add(this),ng||(ng=!0,ne.read(Kb),ne.resolveKeyframes(Gb))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:a}=this;for(let l=0;l<t.length;l++)if(t[l]===null)if(l===0){const c=a==null?void 0:a.get(),d=t[t.length-1];if(c!==void 0)t[0]=c;else if(r&&n){const m=r.readValue(n,d);m!=null&&(t[0]=m)}t[0]===void 0&&(t[0]=d),a&&c===void 0&&a.set(t[0])}else t[l]=t[l-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),ua.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,ua.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const Yb=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),W2=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Z2(e){const t=W2.exec(e);if(!t)return[,];const[,n,r,a]=t;return[`--${n??r}`,a]}function $b(e,t,n=1){const[r,a]=Z2(e);if(!r)return;const l=window.getComputedStyle(t).getPropertyValue(r);if(l){const c=l.trim();return Yb(c)?parseFloat(c):c}return ay(a)?$b(a,t,n+1):a}const Qb=e=>t=>t.test(e),J2={test:e=>e==="auto",parse:e=>e},Xb=[Ho,Tt,wi,Xr,Xx,Qx,J2],aE=e=>Xb.find(Qb(e));class Wb extends _y{constructor(t,n,r,a,l){super(t,n,r,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let m=0;m<t.length;m++){let p=t[m];if(typeof p=="string"&&(p=p.trim(),ay(p))){const y=$b(p,n.current);y!==void 0&&(t[m]=y),m===t.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!Cb.has(r)||t.length!==2)return;const[a,l]=t,c=aE(a),d=aE(l);if(c!==d)if(sE(c)&&sE(d))for(let m=0;m<t.length;m++){const p=t[m];typeof p=="string"&&(t[m]=parseFloat(p))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let a=0;a<t.length;a++)w2(t[a])&&r.push(a);r.length&&F2(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=xo[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&t.getValue(r,a).jump(a,!1)}measureEndState(){var d;const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const a=t.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=r.length-1,c=r[l];r[l]=xo[n](t.measureViewportBox(),window.getComputedStyle(t.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),(d=this.removedTransforms)!=null&&d.length&&this.removedTransforms.forEach(([m,p])=>{t.getValue(m).set(p)}),this.resolveNoneKeyframes()}}const oE=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(ls.test(e)||e==="0")&&!e.startsWith("url("));function tP(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function eP(e,t,n,r){const a=e[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const l=e[e.length-1],c=oE(a,t),d=oE(l,t);return!c||!d?!1:tP(e)||(n==="spring"||Wg(n))&&r}const nP=e=>e!==null;function qf(e,{repeat:t,repeatType:n="loop"},r){const a=e.filter(nP),l=t&&n!=="loop"&&t%2===1?0:a.length-1;return!l||r===void 0?a[l]:r}const iP=40;class Zb{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:c="loop",...d}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=bi.now(),this.options={autoplay:t,delay:n,type:r,repeat:a,repeatDelay:l,repeatType:c,...d},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>iP?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&X2(),this._resolved}onKeyframesResolved(t,n){this.resolvedAt=bi.now(),this.hasAttemptedResolve=!0;const{name:r,type:a,velocity:l,delay:c,onComplete:d,onUpdate:m,isGenerator:p}=this.options;if(!p&&!eP(t,r,a,l))if(c)this.options.duration=0;else{m&&m(qf(t,this.options,n)),d&&d(),this.resolveFinishedPromise();return}const y=this.initPlayback(t,n);y!==!1&&(this._resolved={keyframes:t,finalKeyframe:n,...y},this.onPostResolved())}onPostResolved(){}then(t,n){return this.currentFinishedPromise.then(t,n)}flatten(){this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear")}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const oe=(e,t,n)=>e+(t-e)*n;function Tp(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function rP({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let a=0,l=0,c=0;if(!t)a=l=c=n;else{const d=n<.5?n*(1+t):n+t-n*t,m=2*n-d;a=Tp(m,d,e+1/3),l=Tp(m,d,e),c=Tp(m,d,e-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:r}}function hf(e,t){return n=>n>0?t:e}const Ep=(e,t,n)=>{const r=e*e,a=n*(t*t-r)+r;return a<0?0:Math.sqrt(a)},sP=[Wp,sa,To],aP=e=>sP.find(t=>t.test(e));function lE(e){const t=aP(e);if(!t)return!1;let n=t.parse(e);return t===To&&(n=rP(n)),n}const uE=(e,t)=>{const n=lE(e),r=lE(t);if(!n||!r)return hf(e,t);const a={...n};return l=>(a.red=Ep(n.red,r.red,l),a.green=Ep(n.green,r.green,l),a.blue=Ep(n.blue,r.blue,l),a.alpha=oe(n.alpha,r.alpha,l),sa.transform(a))},oP=(e,t)=>n=>t(e(n)),Zu=(...e)=>e.reduce(oP),rg=new Set(["none","hidden"]);function lP(e,t){return rg.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function uP(e,t){return n=>oe(e,t,n)}function Ty(e){return typeof e=="number"?uP:typeof e=="string"?ay(e)?hf:tn.test(e)?uE:fP:Array.isArray(e)?Jb:typeof e=="object"?tn.test(e)?uE:cP:hf}function Jb(e,t){const n=[...e],r=n.length,a=e.map((l,c)=>Ty(l)(l,t[c]));return l=>{for(let c=0;c<r;c++)n[c]=a[c](l);return n}}function cP(e,t){const n={...e,...t},r={};for(const a in n)e[a]!==void 0&&t[a]!==void 0&&(r[a]=Ty(e[a])(e[a],t[a]));return a=>{for(const l in r)n[l]=r[l](a);return n}}function hP(e,t){const n=[],r={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const l=t.types[a],c=e.indexes[l][r[l]],d=e.values[c]??0;n[a]=d,r[l]++}return n}const fP=(e,t)=>{const n=ls.createTransformer(t),r=Nu(e),a=Nu(t);return r.indexes.var.length===a.indexes.var.length&&r.indexes.color.length===a.indexes.color.length&&r.indexes.number.length>=a.indexes.number.length?rg.has(e)&&!a.values.length||rg.has(t)&&!r.values.length?lP(e,t):Zu(Jb(hP(r,a),a.values),n):hf(e,t)};function tw(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?oe(e,t,n):Ty(e)(e,t)}const dP=5;function ew(e,t,n){const r=Math.max(t-dP,0);return nb(n-e(r),t-r)}const de={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},cE=.001;function mP({duration:e=de.duration,bounce:t=de.bounce,velocity:n=de.velocity,mass:r=de.mass}){let a,l,c=1-t;c=mr(de.minDamping,de.maxDamping,c),e=mr(de.minDuration,de.maxDuration,Ai(e)),c<1?(a=p=>{const y=p*c,_=y*e,S=y-n,w=sg(p,c),C=Math.exp(-_);return cE-S/w*C},l=p=>{const _=p*c*e,S=_*n+n,w=Math.pow(c,2)*Math.pow(p,2)*e,C=Math.exp(-_),B=sg(Math.pow(p,2),c);return(-a(p)+cE>0?-1:1)*((S-w)*C)/B}):(a=p=>{const y=Math.exp(-p*e),_=(p-n)*e+1;return-.001+y*_},l=p=>{const y=Math.exp(-p*e),_=(n-p)*(e*e);return y*_});const d=5/e,m=gP(a,l,d);if(e=Si(e),isNaN(m))return{stiffness:de.stiffness,damping:de.damping,duration:e};{const p=Math.pow(m,2)*r;return{stiffness:p,damping:c*2*Math.sqrt(r*p),duration:e}}}const pP=12;function gP(e,t,n){let r=n;for(let a=1;a<pP;a++)r=r-e(r)/t(r);return r}function sg(e,t){return e*Math.sqrt(1-t*t)}const yP=["duration","bounce"],vP=["stiffness","damping","mass"];function hE(e,t){return t.some(n=>e[n]!==void 0)}function _P(e){let t={velocity:de.velocity,stiffness:de.stiffness,damping:de.damping,mass:de.mass,isResolvedFromDuration:!1,...e};if(!hE(e,vP)&&hE(e,yP))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),a=r*r,l=2*mr(.05,1,1-(e.bounce||0))*Math.sqrt(a);t={...t,mass:de.mass,stiffness:a,damping:l}}else{const n=mP(e);t={...t,...n,mass:de.mass},t.isResolvedFromDuration=!0}return t}function ff(e=de.visualDuration,t=de.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:a}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],d={done:!1,value:l},{stiffness:m,damping:p,mass:y,duration:_,velocity:S,isResolvedFromDuration:w}=_P({...n,velocity:-Ai(n.velocity||0)}),C=S||0,B=p/(2*Math.sqrt(m*y)),O=c-l,U=Ai(Math.sqrt(m/y)),X=Math.abs(O)<5;r||(r=X?de.restSpeed.granular:de.restSpeed.default),a||(a=X?de.restDelta.granular:de.restDelta.default);let H;if(B<1){const nt=sg(U,B);H=ct=>{const P=Math.exp(-B*U*ct);return c-P*((C+B*U*O)/nt*Math.sin(nt*ct)+O*Math.cos(nt*ct))}}else if(B===1)H=nt=>c-Math.exp(-U*nt)*(O+(C+U*O)*nt);else{const nt=U*Math.sqrt(B*B-1);H=ct=>{const P=Math.exp(-B*U*ct),R=Math.min(nt*ct,300);return c-P*((C+B*U*O)*Math.sinh(R)+nt*O*Math.cosh(R))/nt}}const st={calculatedDuration:w&&_||null,next:nt=>{const ct=H(nt);if(w)d.done=nt>=_;else{let P=0;B<1&&(P=nt===0?Si(C):ew(H,nt,ct));const R=Math.abs(P)<=r,I=Math.abs(c-ct)<=a;d.done=R&&I}return d.value=d.done?c:ct,d},toString:()=>{const nt=Math.min(Jg(st),uf),ct=ib(P=>st.next(nt*P).value,nt,30);return nt+"ms "+ct},toTransition:()=>{}};return st}ff.applyToOptions=e=>{const t=yx(e,100,ff);return e.ease=Du()?t.ease:"easeOut",e.duration=Si(t.duration),e.type="keyframes",e};function fE({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:c,min:d,max:m,restDelta:p=.5,restSpeed:y}){const _=e[0],S={done:!1,value:_},w=R=>d!==void 0&&R<d||m!==void 0&&R>m,C=R=>d===void 0?m:m===void 0||Math.abs(d-R)<Math.abs(m-R)?d:m;let B=n*t;const O=_+B,U=c===void 0?O:c(O);U!==O&&(B=U-_);const X=R=>-B*Math.exp(-R/r),H=R=>U+X(R),st=R=>{const I=X(R),M=H(R);S.done=Math.abs(I)<=p,S.value=S.done?U:M};let nt,ct;const P=R=>{w(S.value)&&(nt=R,ct=ff({keyframes:[S.value,C(S.value)],velocity:ew(H,R,S.value),damping:a,stiffness:l,restDelta:p,restSpeed:y}))};return P(0),{calculatedDuration:null,next:R=>{let I=!1;return!ct&&nt===void 0&&(I=!0,st(R),P(R)),nt!==void 0&&R>=nt?ct.next(R-nt):(!I&&st(R),S)}}}const TP=Wu(.42,0,1,1),EP=Wu(0,0,.58,1),nw=Wu(.42,0,.58,1),SP=e=>Array.isArray(e)&&typeof e[0]!="number",AP={linear:Hn,easeIn:TP,easeInOut:nw,easeOut:EP,circIn:gy,circInOut:Lb,circOut:Nb,backIn:py,backInOut:Ob,backOut:Mb,anticipate:Vb},dE=e=>{if(Xg(e)){eb(e.length===4);const[t,n,r,a]=e;return Wu(t,n,r,a)}else if(typeof e=="string")return AP[e];return e};function bP(e,t,n){const r=[],a=n||tw,l=e.length-1;for(let c=0;c<l;c++){let d=a(e[c],e[c+1]);if(t){const m=Array.isArray(t)?t[c]||Hn:t;d=Zu(m,d)}r.push(d)}return r}function wP(e,t,{clamp:n=!0,ease:r,mixer:a}={}){const l=e.length;if(eb(l===t.length),l===1)return()=>t[0];if(l===2&&t[0]===t[1])return()=>t[1];const c=e[0]===e[1];e[0]>e[l-1]&&(e=[...e].reverse(),t=[...t].reverse());const d=bP(t,r,a),m=d.length,p=y=>{if(c&&y<e[0])return t[0];let _=0;if(m>1)for(;_<e.length-2&&!(y<e[_+1]);_++);const S=Iu(e[_],e[_+1],y);return d[_](S)};return n?y=>p(mr(e[0],e[l-1],y)):p}function RP(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const a=Iu(0,t,r);e.push(oe(n,1,a))}}function CP(e){const t=[0];return RP(t,e.length-1),t}function IP(e,t){return e.map(n=>n*t)}function DP(e,t){return e.map(()=>t||nw).splice(0,e.length-1)}function df({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const a=SP(r)?r.map(dE):dE(r),l={done:!1,value:t[0]},c=IP(n&&n.length===t.length?n:CP(t),e),d=wP(c,t,{ease:Array.isArray(a)?a:DP(t,a)});return{calculatedDuration:e,next:m=>(l.value=d(m),l.done=m>=e,l)}}const xP=e=>{const t=({timestamp:n})=>e(n);return{start:()=>ne.update(t,!0),stop:()=>dr(t),now:()=>Ke.isProcessing?Ke.timestamp:bi.now()}},PP={decay:fE,inertia:fE,tween:df,keyframes:df,spring:ff},MP=e=>e/100;class Ey extends Zb{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:m}=this.options;m&&m()};const{name:n,motionValue:r,element:a,keyframes:l}=this.options,c=(a==null?void 0:a.KeyframeResolver)||_y,d=(m,p)=>this.onKeyframesResolved(m,p);this.resolver=new c(l,d,n,r,a),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:n="keyframes",repeat:r=0,repeatDelay:a=0,repeatType:l,velocity:c=0}=this.options,d=Wg(n)?n:PP[n]||df;let m,p;d!==df&&typeof t[0]!="number"&&(m=Zu(MP,tw(t[0],t[1])),t=[0,100]);const y=d({...this.options,keyframes:t});l==="mirror"&&(p=d({...this.options,keyframes:[...t].reverse(),velocity:-c})),y.calculatedDuration===null&&(y.calculatedDuration=Jg(y));const{calculatedDuration:_}=y,S=_+a,w=S*(r+1)-a;return{generator:y,mirroredGenerator:p,mapPercentToKeyframes:m,calculatedDuration:_,resolvedDuration:S,totalDuration:w}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,n=!1){const{resolved:r}=this;if(!r){const{keyframes:R}=this.options;return{done:!0,value:R[R.length-1]}}const{finalKeyframe:a,generator:l,mirroredGenerator:c,mapPercentToKeyframes:d,keyframes:m,calculatedDuration:p,totalDuration:y,resolvedDuration:_}=r;if(this.startTime===null)return l.next(0);const{delay:S,repeat:w,repeatType:C,repeatDelay:B,onUpdate:O}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-y/this.speed,this.startTime)),n?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const U=this.currentTime-S*(this.speed>=0?1:-1),X=this.speed>=0?U<0:U>y;this.currentTime=Math.max(U,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=y);let H=this.currentTime,st=l;if(w){const R=Math.min(this.currentTime,y)/_;let I=Math.floor(R),M=R%1;!M&&R>=1&&(M=1),M===1&&I--,I=Math.min(I,w+1),!!(I%2)&&(C==="reverse"?(M=1-M,B&&(M-=B/_)):C==="mirror"&&(st=c)),H=mr(0,1,M)*_}const nt=X?{done:!1,value:m[0]}:st.next(H);d&&(nt.value=d(nt.value));let{done:ct}=nt;!X&&p!==null&&(ct=this.speed>=0?this.currentTime>=y:this.currentTime<=0);const P=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ct);return P&&a!==void 0&&(nt.value=qf(m,this.options,a)),O&&O(nt.value),P&&this.finish(),nt}get duration(){const{resolved:t}=this;return t?Ai(t.calculatedDuration):0}get time(){return Ai(this.currentTime)}set time(t){t=Si(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Ai(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=xP,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=t(l=>this.tick(l))),n&&n();const a=this.driver.now();this.holdTime!==null?this.startTime=a-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=a):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=this.currentTime??0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}get finished(){return this.currentFinishedPromise}}const OP=new Set(["opacity","clipPath","filter","transform"]),VP=$g(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),mf=10,NP=2e4;function LP(e){return Wg(e.type)||e.type==="spring"||!sb(e.ease)}function kP(e,t){const n=new Ey({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:e[0]};const a=[];let l=0;for(;!r.done&&l<NP;)r=n.sample(l),a.push(r.value),l+=mf;return{times:void 0,keyframes:a,duration:l-mf,ease:"linear"}}const iw={anticipate:Vb,backInOut:Ob,circInOut:Lb};function UP(e){return e in iw}class mE extends Zb{constructor(t){super(t);const{name:n,motionValue:r,element:a,keyframes:l}=this.options;this.resolver=new Wb(l,(c,d)=>this.onKeyframesResolved(c,d),n,r,a),this.resolver.scheduleResolve()}initPlayback(t,n){let{duration:r=300,times:a,ease:l,type:c,motionValue:d,name:m,startTime:p}=this.options;if(!d.owner||!d.owner.current)return!1;if(typeof l=="string"&&Du()&&UP(l)&&(l=iw[l]),LP(this.options)){const{onComplete:_,onUpdate:S,motionValue:w,element:C,...B}=this.options,O=kP(t,B);t=O.keyframes,t.length===1&&(t[1]=t[0]),r=O.duration,a=O.times,l=O.ease,c="keyframes"}const y=gx(d.owner.current,m,t,{...this.options,duration:r,times:a,ease:l});return y.startTime=p??this.calcStartTime(),this.pendingTimeline?(FT(y,this.pendingTimeline),this.pendingTimeline=void 0):y.onfinish=()=>{const{onComplete:_}=this.options;d.set(qf(t,this.options,n)),_&&_(),this.cancel(),this.resolveFinishedPromise()},{animation:y,duration:r,times:a,type:c,ease:l,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:n}=t;return Ai(n)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:n}=t;return Ai(n.currentTime||0)}set time(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Si(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:n}=t;return n.playbackRate}get finished(){return this.resolved.animation.finished}set speed(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:n}=t;return n.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:n}=t;return n.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:n}=this;if(!n)return Hn;const{animation:r}=n;FT(r,t)}return Hn}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:n,keyframes:r,duration:a,type:l,ease:c,times:d}=t;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:p,onUpdate:y,onComplete:_,element:S,...w}=this.options,C=new Ey({...w,keyframes:r,duration:a,type:l,ease:c,times:d,isGenerator:!0}),B=Si(this.time);p.setWithVelocity(C.sample(B-mf).value,C.sample(B).value,mf)}const{onStop:m}=this.options;m&&m(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:n,name:r,repeatDelay:a,repeatType:l,damping:c,type:d}=t;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:p}=n.owner.getProps();return VP()&&r&&OP.has(r)&&(r!=="transform"||!p)&&!m&&!a&&l!=="mirror"&&c!==0&&d!=="inertia"}}const jP={type:"spring",stiffness:500,damping:25,restSpeed:10},BP=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),zP={type:"keyframes",duration:.8},FP={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},HP=(e,{keyframes:t})=>t.length>2?zP:ga.has(e)?e.startsWith("scale")?BP(t[1]):jP:FP;function qP({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:a,repeat:l,repeatType:c,repeatDelay:d,from:m,elapsed:p,...y}){return!!Object.keys(y).length}const Sy=(e,t,n,r={},a,l)=>c=>{const d=Zg(r,e)||{},m=d.delay||r.delay||0;let{elapsed:p=0}=r;p=p-Si(m);let y={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...d,delay:-p,onUpdate:S=>{t.set(S),d.onUpdate&&d.onUpdate(S)},onComplete:()=>{c(),d.onComplete&&d.onComplete()},name:e,motionValue:t,element:l?void 0:a};qP(d)||(y={...y,...HP(e,y)}),y.duration&&(y.duration=Si(y.duration)),y.repeatDelay&&(y.repeatDelay=Si(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let _=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(y.duration=0,y.delay===0&&(_=!0)),y.allowFlatten=!d.type&&!d.ease,_&&!l&&t.get()!==void 0){const S=qf(y.keyframes,d);if(S!==void 0)return ne.update(()=>{y.onUpdate(S),y.onComplete()}),new dx([])}return!l&&mE.supports(y)?new mE(y):new Ey(y)};function GP({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function rw(e,t,{delay:n=0,transitionOverride:r,type:a}={}){let{transition:l=e.getDefaultTransition(),transitionEnd:c,...d}=t;r&&(l=r);const m=[],p=a&&e.animationState&&e.animationState.getState()[a];for(const y in d){const _=e.getValue(y,e.latestValues[y]??null),S=d[y];if(S===void 0||p&&GP(p,y))continue;const w={delay:n,...Zg(l||{},y)};let C=!1;if(window.MotionHandoffAnimation){const O=Ib(e);if(O){const U=window.MotionHandoffAnimation(O,y,ne);U!==null&&(w.startTime=U,C=!0)}}Xp(e,y),_.start(Sy(y,_,S,e.shouldReduceMotion&&Cb.has(y)?{type:!1}:w,e,C));const B=_.animation;B&&m.push(B)}return c&&Promise.all(m).then(()=>{ne.update(()=>{c&&T2(e,c)})}),m}function ag(e,t,n={}){var m;const r=Vu(e,t,n.type==="exit"?(m=e.presenceContext)==null?void 0:m.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(a=n.transitionOverride);const l=r?()=>Promise.all(rw(e,r,n)):()=>Promise.resolve(),c=e.variantChildren&&e.variantChildren.size?(p=0)=>{const{delayChildren:y=0,staggerChildren:_,staggerDirection:S}=a;return KP(e,t,y+p,_,S,n)}:()=>Promise.resolve(),{when:d}=a;if(d){const[p,y]=d==="beforeChildren"?[l,c]:[c,l];return p().then(()=>y())}else return Promise.all([l(),c(n.delay)])}function KP(e,t,n=0,r=0,a=1,l){const c=[],d=(e.variantChildren.size-1)*r,m=a===1?(p=0)=>p*r:(p=0)=>d-p*r;return Array.from(e.variantChildren).sort(YP).forEach((p,y)=>{p.notify("AnimationStart",t),c.push(ag(p,t,{...l,delay:n+m(y)}).then(()=>p.notify("AnimationComplete",t)))}),Promise.all(c)}function YP(e,t){return e.sortNodePosition(t)}function $P(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const a=t.map(l=>ag(e,l,n));r=Promise.all(a)}else if(typeof t=="string")r=ag(e,t,n);else{const a=typeof t=="function"?Vu(e,t,n.custom):t;r=Promise.all(rw(e,a,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}function sw(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const QP=iy.length;function aw(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?aw(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<QP;n++){const r=iy[n],a=e.props[r];(Pu(a)||a===!1)&&(t[r]=a)}return t}const XP=[...ny].reverse(),WP=ny.length;function ZP(e){return t=>Promise.all(t.map(({animation:n,options:r})=>$P(e,n,r)))}function JP(e){let t=ZP(e),n=pE(),r=!0;const a=m=>(p,y)=>{var S;const _=Vu(e,y,m==="exit"?(S=e.presenceContext)==null?void 0:S.custom:void 0);if(_){const{transition:w,transitionEnd:C,...B}=_;p={...p,...B,...C}}return p};function l(m){t=m(e)}function c(m){const{props:p}=e,y=aw(e.parent)||{},_=[],S=new Set;let w={},C=1/0;for(let O=0;O<WP;O++){const U=XP[O],X=n[U],H=p[U]!==void 0?p[U]:y[U],st=Pu(H),nt=U===m?X.isActive:null;nt===!1&&(C=O);let ct=H===y[U]&&H!==p[U]&&st;if(ct&&r&&e.manuallyAnimateOnMount&&(ct=!1),X.protectedKeys={...w},!X.isActive&&nt===null||!H&&!X.prevProp||Ff(H)||typeof H=="boolean")continue;const P=tM(X.prevProp,H);let R=P||U===m&&X.isActive&&!ct&&st||O>C&&st,I=!1;const M=Array.isArray(H)?H:[H];let j=M.reduce(a(U),{});nt===!1&&(j={});const{prevResolvedValues:F={}}=X,x={...F,...j},Te=at=>{R=!0,S.has(at)&&(I=!0,S.delete(at)),X.needsAnimating[at]=!0;const ft=e.getValue(at);ft&&(ft.liveStyle=!1)};for(const at in x){const ft=j[at],Lt=F[at];if(w.hasOwnProperty(at))continue;let V=!1;Qp(ft)&&Qp(Lt)?V=!sw(ft,Lt):V=ft!==Lt,V?ft!=null?Te(at):S.add(at):ft!==void 0&&S.has(at)?Te(at):X.protectedKeys[at]=!0}X.prevProp=H,X.prevResolvedValues=j,X.isActive&&(w={...w,...j}),r&&e.blockInitialAnimation&&(R=!1),R&&(!(ct&&P)||I)&&_.push(...M.map(at=>({animation:at,options:{type:U}})))}if(S.size){const O={};if(typeof p.initial!="boolean"){const U=Vu(e,Array.isArray(p.initial)?p.initial[0]:p.initial);U&&U.transition&&(O.transition=U.transition)}S.forEach(U=>{const X=e.getBaseTarget(U),H=e.getValue(U);H&&(H.liveStyle=!0),O[U]=X??null}),_.push({animation:O})}let B=!!_.length;return r&&(p.initial===!1||p.initial===p.animate)&&!e.manuallyAnimateOnMount&&(B=!1),r=!1,B?t(_):Promise.resolve()}function d(m,p){var _;if(n[m].isActive===p)return Promise.resolve();(_=e.variantChildren)==null||_.forEach(S=>{var w;return(w=S.animationState)==null?void 0:w.setActive(m,p)}),n[m].isActive=p;const y=c(m);for(const S in n)n[S].protectedKeys={};return y}return{animateChanges:c,setActive:d,setAnimateFunction:l,getState:()=>n,reset:()=>{n=pE(),r=!0}}}function tM(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!sw(t,e):!1}function na(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function pE(){return{animate:na(!0),whileInView:na(),whileHover:na(),whileTap:na(),whileDrag:na(),whileFocus:na(),exit:na()}}class gs{constructor(t){this.isMounted=!1,this.node=t}update(){}}class eM extends gs{constructor(t){super(t),t.animationState||(t.animationState=JP(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Ff(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let nM=0;class iM extends gs{constructor(){super(...arguments),this.id=nM++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const a=this.node.animationState.setActive("exit",!t);n&&!t&&a.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const rM={animation:{Feature:eM},exit:{Feature:iM}};function Lu(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function Ju(e){return{point:{x:e.pageX,y:e.pageY}}}const sM=e=>t=>ey(t)&&e(t,Ju(t));function vu(e,t,n,r){return Lu(e,t,sM(n),r)}function ow({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function aM({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function oM(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}const lw=1e-4,lM=1-lw,uM=1+lw,uw=.01,cM=0-uw,hM=0+uw;function hn(e){return e.max-e.min}function fM(e,t,n){return Math.abs(e-t)<=n}function gE(e,t,n,r=.5){e.origin=r,e.originPoint=oe(t.min,t.max,e.origin),e.scale=hn(n)/hn(t),e.translate=oe(n.min,n.max,e.origin)-e.originPoint,(e.scale>=lM&&e.scale<=uM||isNaN(e.scale))&&(e.scale=1),(e.translate>=cM&&e.translate<=hM||isNaN(e.translate))&&(e.translate=0)}function _u(e,t,n,r){gE(e.x,t.x,n.x,r?r.originX:void 0),gE(e.y,t.y,n.y,r?r.originY:void 0)}function yE(e,t,n){e.min=n.min+t.min,e.max=e.min+hn(t)}function dM(e,t,n){yE(e.x,t.x,n.x),yE(e.y,t.y,n.y)}function vE(e,t,n){e.min=t.min-n.min,e.max=e.min+hn(t)}function Tu(e,t,n){vE(e.x,t.x,n.x),vE(e.y,t.y,n.y)}const _E=()=>({translate:0,scale:1,origin:0,originPoint:0}),Eo=()=>({x:_E(),y:_E()}),TE=()=>({min:0,max:0}),ve=()=>({x:TE(),y:TE()});function Bn(e){return[e("x"),e("y")]}function Sp(e){return e===void 0||e===1}function og({scale:e,scaleX:t,scaleY:n}){return!Sp(e)||!Sp(t)||!Sp(n)}function ia(e){return og(e)||cw(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function cw(e){return EE(e.x)||EE(e.y)}function EE(e){return e&&e!=="0%"}function pf(e,t,n){const r=e-n,a=t*r;return n+a}function SE(e,t,n,r,a){return a!==void 0&&(e=pf(e,a,r)),pf(e,n,r)+t}function lg(e,t=0,n=1,r,a){e.min=SE(e.min,t,n,r,a),e.max=SE(e.max,t,n,r,a)}function hw(e,{x:t,y:n}){lg(e.x,t.translate,t.scale,t.originPoint),lg(e.y,n.translate,n.scale,n.originPoint)}const AE=.999999999999,bE=1.0000000000001;function mM(e,t,n,r=!1){const a=n.length;if(!a)return;t.x=t.y=1;let l,c;for(let d=0;d<a;d++){l=n[d],c=l.projectionDelta;const{visualElement:m}=l.options;m&&m.props.style&&m.props.style.display==="contents"||(r&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Ao(e,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,hw(e,c)),r&&ia(l.latestValues)&&Ao(e,l.latestValues))}t.x<bE&&t.x>AE&&(t.x=1),t.y<bE&&t.y>AE&&(t.y=1)}function So(e,t){e.min=e.min+t,e.max=e.max+t}function wE(e,t,n,r,a=.5){const l=oe(e.min,e.max,a);lg(e,t,n,l,r)}function Ao(e,t){wE(e.x,t.x,t.scaleX,t.scale,t.originX),wE(e.y,t.y,t.scaleY,t.scale,t.originY)}function fw(e,t){return ow(oM(e.getBoundingClientRect(),t))}function pM(e,t,n){const r=fw(e,n),{scroll:a}=t;return a&&(So(r.x,a.offset.x),So(r.y,a.offset.y)),r}const dw=({current:e})=>e?e.ownerDocument.defaultView:null,RE=(e,t)=>Math.abs(e-t);function gM(e,t){const n=RE(e.x,t.x),r=RE(e.y,t.y);return Math.sqrt(n**2+r**2)}class mw{constructor(t,n,{transformPagePoint:r,contextWindow:a,dragSnapToOrigin:l=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=bp(this.lastMoveEventInfo,this.history),S=this.startEvent!==null,w=gM(_.offset,{x:0,y:0})>=3;if(!S&&!w)return;const{point:C}=_,{timestamp:B}=Ke;this.history.push({...C,timestamp:B});const{onStart:O,onMove:U}=this.handlers;S||(O&&O(this.lastMoveEvent,_),this.startEvent=this.lastMoveEvent),U&&U(this.lastMoveEvent,_)},this.handlePointerMove=(_,S)=>{this.lastMoveEvent=_,this.lastMoveEventInfo=Ap(S,this.transformPagePoint),ne.update(this.updatePoint,!0)},this.handlePointerUp=(_,S)=>{this.end();const{onEnd:w,onSessionEnd:C,resumeAnimation:B}=this.handlers;if(this.dragSnapToOrigin&&B&&B(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const O=bp(_.type==="pointercancel"?this.lastMoveEventInfo:Ap(S,this.transformPagePoint),this.history);this.startEvent&&w&&w(_,O),C&&C(_,O)},!ey(t))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=r,this.contextWindow=a||window;const c=Ju(t),d=Ap(c,this.transformPagePoint),{point:m}=d,{timestamp:p}=Ke;this.history=[{...m,timestamp:p}];const{onSessionStart:y}=n;y&&y(t,bp(d,this.history)),this.removeListeners=Zu(vu(this.contextWindow,"pointermove",this.handlePointerMove),vu(this.contextWindow,"pointerup",this.handlePointerUp),vu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),dr(this.updatePoint)}}function Ap(e,t){return t?{point:t(e.point)}:e}function CE(e,t){return{x:e.x-t.x,y:e.y-t.y}}function bp({point:e},t){return{point:e,delta:CE(e,pw(t)),offset:CE(e,yM(t)),velocity:vM(t,.1)}}function yM(e){return e[0]}function pw(e){return e[e.length-1]}function vM(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const a=pw(e);for(;n>=0&&(r=e[n],!(a.timestamp-r.timestamp>Si(t)));)n--;if(!r)return{x:0,y:0};const l=Ai(a.timestamp-r.timestamp);if(l===0)return{x:0,y:0};const c={x:(a.x-r.x)/l,y:(a.y-r.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function _M(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?oe(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?oe(n,e,r.max):Math.min(e,n)),e}function IE(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function TM(e,{top:t,left:n,bottom:r,right:a}){return{x:IE(e.x,n,a),y:IE(e.y,t,r)}}function DE(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function EM(e,t){return{x:DE(e.x,t.x),y:DE(e.y,t.y)}}function SM(e,t){let n=.5;const r=hn(e),a=hn(t);return a>r?n=Iu(t.min,t.max-r,e.min):r>a&&(n=Iu(e.min,e.max-a,t.min)),mr(0,1,n)}function AM(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const ug=.35;function bM(e=ug){return e===!1?e=0:e===!0&&(e=ug),{x:xE(e,"left","right"),y:xE(e,"top","bottom")}}function xE(e,t,n){return{min:PE(e,t),max:PE(e,n)}}function PE(e,t){return typeof e=="number"?e:e[t]||0}const wM=new WeakMap;class RM{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ve(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const a=y=>{const{dragSnapToOrigin:_}=this.getProps();_?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Ju(y).point)},l=(y,_)=>{const{drag:S,dragPropagation:w,onDragStart:C}=this.getProps();if(S&&!w&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Ex(S),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Bn(O=>{let U=this.getAxisMotionValue(O).get()||0;if(wi.test(U)){const{projection:X}=this.visualElement;if(X&&X.layout){const H=X.layout.layoutBox[O];H&&(U=hn(H)*(parseFloat(U)/100))}}this.originPoint[O]=U}),C&&ne.postRender(()=>C(y,_)),Xp(this.visualElement,"transform");const{animationState:B}=this.visualElement;B&&B.setActive("whileDrag",!0)},c=(y,_)=>{const{dragPropagation:S,dragDirectionLock:w,onDirectionLock:C,onDrag:B}=this.getProps();if(!S&&!this.openDragLock)return;const{offset:O}=_;if(w&&this.currentDirection===null){this.currentDirection=CM(O),this.currentDirection!==null&&C&&C(this.currentDirection);return}this.updateAxis("x",_.point,O),this.updateAxis("y",_.point,O),this.visualElement.render(),B&&B(y,_)},d=(y,_)=>this.stop(y,_),m=()=>Bn(y=>{var _;return this.getAnimationState(y)==="paused"&&((_=this.getAxisMotionValue(y).animation)==null?void 0:_.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new mw(t,{onSessionStart:a,onStart:l,onMove:c,onSessionEnd:d,resumeAnimation:m},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,contextWindow:dw(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:a}=n;this.startAnimation(a);const{onDragEnd:l}=this.getProps();l&&ne.postRender(()=>l(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:a}=this.getProps();if(!r||!Uh(t,a,this.currentDirection))return;const l=this.getAxisMotionValue(t);let c=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(c=_M(c,this.constraints[t],this.elastic[t])),l.set(c)}resolveConstraints(){var l;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(l=this.visualElement.projection)==null?void 0:l.layout,a=this.constraints;t&&_o(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=TM(r.layoutBox,t):this.constraints=!1,this.elastic=bM(n),a!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Bn(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=AM(r.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!_o(t))return!1;const r=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=pM(r,a.root,this.visualElement.getTransformPagePoint());let c=EM(a.layout.layoutBox,l);if(n){const d=n(aM(c));this.hasMutatedConstraints=!!d,d&&(c=ow(d))}return c}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:a,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:d}=this.getProps(),m=this.constraints||{},p=Bn(y=>{if(!Uh(y,n,this.currentDirection))return;let _=m&&m[y]||{};c&&(_={min:0,max:0});const S=a?200:1e6,w=a?40:1e7,C={type:"inertia",velocity:r?t[y]:0,bounceStiffness:S,bounceDamping:w,timeConstant:750,restDelta:1,restSpeed:10,...l,..._};return this.startAxisValueAnimation(y,C)});return Promise.all(p).then(d)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return Xp(this.visualElement,t),r.start(Sy(t,r,0,n,this.visualElement,!1))}stopAnimation(){Bn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Bn(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),a=r[n];return a||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Bn(n=>{const{drag:r}=this.getProps();if(!Uh(n,r,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:c,max:d}=a.layout.layoutBox[n];l.set(t[n]-oe(c,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!_o(n)||!r||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Bn(c=>{const d=this.getAxisMotionValue(c);if(d&&this.constraints!==!1){const m=d.get();a[c]=SM({min:m,max:m},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Bn(c=>{if(!Uh(c,t,null))return;const d=this.getAxisMotionValue(c),{min:m,max:p}=this.constraints[c];d.set(oe(m,p,a[c]))})}addListeners(){if(!this.visualElement.current)return;wM.set(this.visualElement,this);const t=this.visualElement.current,n=vu(t,"pointerdown",m=>{const{drag:p,dragListener:y=!0}=this.getProps();p&&y&&this.start(m)}),r=()=>{const{dragConstraints:m}=this.getProps();_o(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",r);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),ne.read(r);const c=Lu(window,"resize",()=>this.scalePositionWithinConstraints()),d=a.addEventListener("didUpdate",({delta:m,hasLayoutChanged:p})=>{this.isDragging&&p&&(Bn(y=>{const _=this.getAxisMotionValue(y);_&&(this.originPoint[y]+=m[y].translate,_.set(_.get()+m[y].translate))}),this.visualElement.render())});return()=>{c(),n(),l(),d&&d()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:c=ug,dragMomentum:d=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:a,dragConstraints:l,dragElastic:c,dragMomentum:d}}}function Uh(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function CM(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class IM extends gs{constructor(t){super(t),this.removeGroupControls=Hn,this.removeListeners=Hn,this.controls=new RM(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Hn}unmount(){this.removeGroupControls(),this.removeListeners()}}const ME=e=>(t,n)=>{e&&ne.postRender(()=>e(t,n))};class DM extends gs{constructor(){super(...arguments),this.removePointerDownListener=Hn}onPointerDown(t){this.session=new mw(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:dw(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:a}=this.node.getProps();return{onSessionStart:ME(t),onStart:ME(n),onMove:r,onEnd:(l,c)=>{delete this.session,a&&ne.postRender(()=>a(l,c))}}}mount(){this.removePointerDownListener=vu(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Xh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function OE(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const lu={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Tt.test(e))e=parseFloat(e);else return e;const n=OE(e,t.target.x),r=OE(e,t.target.y);return`${n}% ${r}%`}},xM={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,a=ls.parse(e);if(a.length>5)return r;const l=ls.createTransformer(e),c=typeof a[0]!="number"?1:0,d=n.x.scale*t.x,m=n.y.scale*t.y;a[0+c]/=d,a[1+c]/=m;const p=oe(d,m,.5);return typeof a[2+c]=="number"&&(a[2+c]/=p),typeof a[3+c]=="number"&&(a[3+c]/=p),l(a)}};class PM extends L.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:a}=this.props,{projection:l}=t;$x(MM),l&&(n.group&&n.group.add(l),r&&r.register&&a&&r.register(l),l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),Xh.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:a,isPresent:l}=this.props,c=r.projection;return c&&(c.isPresent=l,a||t.layoutDependency!==n||n===void 0||t.isPresent!==l?c.willUpdate():this.safeToRemove(),t.isPresent!==l&&(l?c.promote():c.relegate()||ne.postRender(()=>{const d=c.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),ty.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:a}=t;a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),r&&r.deregister&&r.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function gw(e){const[t,n]=cx(),r=L.useContext(JA);return k.jsx(PM,{...e,layoutGroup:r,switchLayoutGroup:L.useContext(mb),isPresent:t,safeToRemove:n})}const MM={borderRadius:{...lu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:lu,borderTopRightRadius:lu,borderBottomLeftRadius:lu,borderBottomRightRadius:lu,boxShadow:xM};function OM(e,t,n){const r=rn(e)?e:xu(e);return r.start(Sy("",r,t,n)),r.animation}function VM(e){return e instanceof SVGElement&&e.tagName!=="svg"}const NM=(e,t)=>e.depth-t.depth;class LM{constructor(){this.children=[],this.isDirty=!1}add(t){Kg(this.children,t),this.isDirty=!0}remove(t){Yg(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(NM),this.isDirty=!1,this.children.forEach(t)}}function kM(e,t){const n=bi.now(),r=({timestamp:a})=>{const l=a-n;l>=t&&(dr(r),e(l-t))};return ne.read(r,!0),()=>dr(r)}const yw=["TopLeft","TopRight","BottomLeft","BottomRight"],UM=yw.length,VE=e=>typeof e=="string"?parseFloat(e):e,NE=e=>typeof e=="number"||Tt.test(e);function jM(e,t,n,r,a,l){a?(e.opacity=oe(0,n.opacity!==void 0?n.opacity:1,BM(r)),e.opacityExit=oe(t.opacity!==void 0?t.opacity:1,0,zM(r))):l&&(e.opacity=oe(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let c=0;c<UM;c++){const d=`border${yw[c]}Radius`;let m=LE(t,d),p=LE(n,d);if(m===void 0&&p===void 0)continue;m||(m=0),p||(p=0),m===0||p===0||NE(m)===NE(p)?(e[d]=Math.max(oe(VE(m),VE(p),r),0),(wi.test(p)||wi.test(m))&&(e[d]+="%")):e[d]=p}(t.rotate||n.rotate)&&(e.rotate=oe(t.rotate||0,n.rotate||0,r))}function LE(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const BM=vw(0,.5,Nb),zM=vw(.5,.95,Hn);function vw(e,t,n){return r=>r<e?0:r>t?1:n(Iu(e,t,r))}function kE(e,t){e.min=t.min,e.max=t.max}function jn(e,t){kE(e.x,t.x),kE(e.y,t.y)}function UE(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function jE(e,t,n,r,a){return e-=t,e=pf(e,1/n,r),a!==void 0&&(e=pf(e,1/a,r)),e}function FM(e,t=0,n=1,r=.5,a,l=e,c=e){if(wi.test(t)&&(t=parseFloat(t),t=oe(c.min,c.max,t/100)-c.min),typeof t!="number")return;let d=oe(l.min,l.max,r);e===l&&(d-=t),e.min=jE(e.min,t,n,d,a),e.max=jE(e.max,t,n,d,a)}function BE(e,t,[n,r,a],l,c){FM(e,t[n],t[r],t[a],t.scale,l,c)}const HM=["x","scaleX","originX"],qM=["y","scaleY","originY"];function zE(e,t,n,r){BE(e.x,t,HM,n?n.x:void 0,r?r.x:void 0),BE(e.y,t,qM,n?n.y:void 0,r?r.y:void 0)}function FE(e){return e.translate===0&&e.scale===1}function _w(e){return FE(e.x)&&FE(e.y)}function HE(e,t){return e.min===t.min&&e.max===t.max}function GM(e,t){return HE(e.x,t.x)&&HE(e.y,t.y)}function qE(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function Tw(e,t){return qE(e.x,t.x)&&qE(e.y,t.y)}function GE(e){return hn(e.x)/hn(e.y)}function KE(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class KM{constructor(){this.members=[]}add(t){Kg(this.members,t),t.scheduleRender()}remove(t){if(Yg(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(a=>t===a);if(n===0)return!1;let r;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){r=l;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function YM(e,t,n){let r="";const a=e.x.translate/t.x,l=e.y.translate/t.y,c=(n==null?void 0:n.z)||0;if((a||l||c)&&(r=`translate3d(${a}px, ${l}px, ${c}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:p,rotate:y,rotateX:_,rotateY:S,skewX:w,skewY:C}=n;p&&(r=`perspective(${p}px) ${r}`),y&&(r+=`rotate(${y}deg) `),_&&(r+=`rotateX(${_}deg) `),S&&(r+=`rotateY(${S}deg) `),w&&(r+=`skewX(${w}deg) `),C&&(r+=`skewY(${C}deg) `)}const d=e.x.scale*t.x,m=e.y.scale*t.y;return(d!==1||m!==1)&&(r+=`scale(${d}, ${m})`),r||"none"}const wp=["","X","Y","Z"],$M={visibility:"hidden"},YE=1e3;let QM=0;function Rp(e,t,n,r){const{latestValues:a}=t;a[e]&&(n[e]=a[e],t.setStaticValue(e,0),r&&(r[e]=0))}function Ew(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=Ib(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",ne,!(a||l))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&Ew(r)}function Sw({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:a}){return class{constructor(c={},d=t==null?void 0:t()){this.id=QM++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(ZM),this.nodes.forEach(iO),this.nodes.forEach(rO),this.nodes.forEach(JM)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new LM)}addEventListener(c,d){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new Qg),this.eventHandlers.get(c).add(d)}notifyListeners(c,...d){const m=this.eventHandlers.get(c);m&&m.notify(...d)}hasListeners(c){return this.eventHandlers.has(c)}mount(c,d=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=VM(c),this.instance=c;const{layoutId:m,layout:p,visualElement:y}=this.options;if(y&&!y.current&&y.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),d&&(p||m)&&(this.isLayoutDirty=!0),e){let _;const S=()=>this.root.updateBlockedByResize=!1;e(c,()=>{this.root.updateBlockedByResize=!0,_&&_(),_=kM(S,250),Xh.hasAnimatedSinceResize&&(Xh.hasAnimatedSinceResize=!1,this.nodes.forEach(QE))})}m&&this.root.registerSharedNode(m,this),this.options.animate!==!1&&y&&(m||p)&&this.addEventListener("didUpdate",({delta:_,hasLayoutChanged:S,hasRelativeLayoutChanged:w,layout:C})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const B=this.options.transition||y.getDefaultTransition()||uO,{onLayoutAnimationStart:O,onLayoutAnimationComplete:U}=y.getProps(),X=!this.targetLayout||!Tw(this.targetLayout,C),H=!S&&w;if(this.options.layoutRoot||this.resumeFrom||H||S&&(X||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(_,H);const st={...Zg(B,"layout"),onPlay:O,onComplete:U};(y.shouldReduceMotion||this.options.layoutRoot)&&(st.delay=0,st.type=!1),this.startAnimation(st)}else S||QE(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=C})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,dr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(sO),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Ew(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const _=this.path[y];_.shouldResetTransform=!0,_.updateScroll("snapshot"),_.options.layoutRoot&&_.willUpdate(!1)}const{layoutId:d,layout:m}=this.options;if(d===void 0&&!m)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach($E);return}this.isUpdating||this.nodes.forEach(eO),this.isUpdating=!1,this.nodes.forEach(nO),this.nodes.forEach(XM),this.nodes.forEach(WM),this.clearAllSnapshots();const d=bi.now();Ke.delta=mr(0,1e3/60,d-Ke.timestamp),Ke.timestamp=d,Ke.isProcessing=!0,yp.update.process(Ke),yp.preRender.process(Ke),yp.render.process(Ke),Ke.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,ty.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(tO),this.sharedNodes.forEach(aO)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ne.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ne.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!hn(this.snapshot.measuredBox.x)&&!hn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ve(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(d=!1),d){const m=r(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:m,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!_w(this.projectionDelta),m=this.getTransformTemplate(),p=m?m(this.latestValues,""):void 0,y=p!==this.prevTransformTemplateValue;c&&(d||ia(this.latestValues)||y)&&(a(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const d=this.measurePageBox();let m=this.removeElementScroll(d);return c&&(m=this.removeTransform(m)),cO(m),{animationId:this.root.animationId,measuredBox:d,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){var p;const{visualElement:c}=this.options;if(!c)return ve();const d=c.measureViewportBox();if(!(((p=this.scroll)==null?void 0:p.wasRoot)||this.path.some(hO))){const{scroll:y}=this.root;y&&(So(d.x,y.offset.x),So(d.y,y.offset.y))}return d}removeElementScroll(c){var m;const d=ve();if(jn(d,c),(m=this.scroll)!=null&&m.wasRoot)return d;for(let p=0;p<this.path.length;p++){const y=this.path[p],{scroll:_,options:S}=y;y!==this.root&&_&&S.layoutScroll&&(_.wasRoot&&jn(d,c),So(d.x,_.offset.x),So(d.y,_.offset.y))}return d}applyTransform(c,d=!1){const m=ve();jn(m,c);for(let p=0;p<this.path.length;p++){const y=this.path[p];!d&&y.options.layoutScroll&&y.scroll&&y!==y.root&&Ao(m,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),ia(y.latestValues)&&Ao(m,y.latestValues)}return ia(this.latestValues)&&Ao(m,this.latestValues),m}removeTransform(c){const d=ve();jn(d,c);for(let m=0;m<this.path.length;m++){const p=this.path[m];if(!p.instance||!ia(p.latestValues))continue;og(p.latestValues)&&p.updateSnapshot();const y=ve(),_=p.measurePageBox();jn(y,_),zE(d,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,y)}return ia(this.latestValues)&&zE(d,this.latestValues),d}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ke.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var S;const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==d;if(!(c||m&&this.isSharedProjectionDirty||this.isProjectionDirty||(S=this.parent)!=null&&S.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:_}=this.options;if(!(!this.layout||!(y||_))){if(this.resolvedRelativeTargetAt=Ke.timestamp,!this.targetDelta&&!this.relativeTarget){const w=this.getClosestProjectingParent();w&&w.layout&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ve(),this.relativeTargetOrigin=ve(),Tu(this.relativeTargetOrigin,this.layout.layoutBox,w.layout.layoutBox),jn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ve(),this.targetWithTransforms=ve()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),dM(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):jn(this.target,this.layout.layoutBox),hw(this.target,this.targetDelta)):jn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const w=this.getClosestProjectingParent();w&&!!w.resumingFrom==!!this.resumingFrom&&!w.options.layoutScroll&&w.target&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ve(),this.relativeTargetOrigin=ve(),Tu(this.relativeTargetOrigin,this.target,w.target),jn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||og(this.parent.latestValues)||cw(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var C;const c=this.getLead(),d=!!this.resumingFrom||this!==c;let m=!0;if((this.isProjectionDirty||(C=this.parent)!=null&&C.isProjectionDirty)&&(m=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===Ke.timestamp&&(m=!1),m)return;const{layout:p,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||y))return;jn(this.layoutCorrected,this.layout.layoutBox);const _=this.treeScale.x,S=this.treeScale.y;mM(this.layoutCorrected,this.treeScale,this.path,d),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=ve());const{target:w}=c;if(!w){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(UE(this.prevProjectionDelta.x,this.projectionDelta.x),UE(this.prevProjectionDelta.y,this.projectionDelta.y)),_u(this.projectionDelta,this.layoutCorrected,w,this.latestValues),(this.treeScale.x!==_||this.treeScale.y!==S||!KE(this.projectionDelta.x,this.prevProjectionDelta.x)||!KE(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",w))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var d;if((d=this.options.visualElement)==null||d.scheduleRender(),c){const m=this.getStack();m&&m.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Eo(),this.projectionDelta=Eo(),this.projectionDeltaWithTransform=Eo()}setAnimationOrigin(c,d=!1){const m=this.snapshot,p=m?m.latestValues:{},y={...this.latestValues},_=Eo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const S=ve(),w=m?m.source:void 0,C=this.layout?this.layout.source:void 0,B=w!==C,O=this.getStack(),U=!O||O.members.length<=1,X=!!(B&&!U&&this.options.crossfade===!0&&!this.path.some(lO));this.animationProgress=0;let H;this.mixTargetDelta=st=>{const nt=st/1e3;XE(_.x,c.x,nt),XE(_.y,c.y,nt),this.setTargetDelta(_),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Tu(S,this.layout.layoutBox,this.relativeParent.layout.layoutBox),oO(this.relativeTarget,this.relativeTargetOrigin,S,nt),H&&GM(this.relativeTarget,H)&&(this.isProjectionDirty=!1),H||(H=ve()),jn(H,this.relativeTarget)),B&&(this.animationValues=y,jM(y,p,this.latestValues,nt,X,U)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=nt},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(dr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ne.update(()=>{Xh.hasAnimatedSinceResize=!0,this.currentAnimation=OM(0,YE,{...c,onUpdate:d=>{this.mixTargetDelta(d),c.onUpdate&&c.onUpdate(d)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(YE),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:d,target:m,layout:p,latestValues:y}=c;if(!(!d||!m||!p)){if(this!==c&&this.layout&&p&&Aw(this.options.animationType,this.layout.layoutBox,p.layoutBox)){m=this.target||ve();const _=hn(this.layout.layoutBox.x);m.x.min=c.target.x.min,m.x.max=m.x.min+_;const S=hn(this.layout.layoutBox.y);m.y.min=c.target.y.min,m.y.max=m.y.min+S}jn(d,m),Ao(d,y),_u(this.projectionDeltaWithTransform,this.layoutCorrected,d,y)}}registerSharedNode(c,d){this.sharedNodes.has(c)||this.sharedNodes.set(c,new KM),this.sharedNodes.get(c).add(d);const p=d.options.initialPromotionConfig;d.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(d):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var d;const{layoutId:c}=this.options;return c?((d=this.getStack())==null?void 0:d.lead)||this:this}getPrevLead(){var d;const{layoutId:c}=this.options;return c?(d=this.getStack())==null?void 0:d.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:d,preserveFollowOpacity:m}={}){const p=this.getStack();p&&p.promote(this,m),c&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let d=!1;const{latestValues:m}=c;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(d=!0),!d)return;const p={};m.z&&Rp("z",c,p,this.animationValues);for(let y=0;y<wp.length;y++)Rp(`rotate${wp[y]}`,c,p,this.animationValues),Rp(`skew${wp[y]}`,c,p,this.animationValues);c.render();for(const y in p)c.setStaticValue(y,p[y]),this.animationValues&&(this.animationValues[y]=p[y]);c.scheduleRender()}getProjectionStyles(c){if(!this.instance||this.isSVG)return;if(!this.isVisible)return $M;const d={visibility:""},m=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,d.opacity="",d.pointerEvents=Qh(c==null?void 0:c.pointerEvents)||"",d.transform=m?m(this.latestValues,""):"none",d;const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){const w={};return this.options.layoutId&&(w.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,w.pointerEvents=Qh(c==null?void 0:c.pointerEvents)||""),this.hasProjected&&!ia(this.latestValues)&&(w.transform=m?m({},""):"none",this.hasProjected=!1),w}const y=p.animationValues||p.latestValues;this.applyTransformsToTarget(),d.transform=YM(this.projectionDeltaWithTransform,this.treeScale,y),m&&(d.transform=m(y,d.transform));const{x:_,y:S}=this.projectionDelta;d.transformOrigin=`${_.origin*100}% ${S.origin*100}% 0`,p.animationValues?d.opacity=p===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:d.opacity=p===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const w in Mu){if(y[w]===void 0)continue;const{correct:C,applyTo:B,isCSSVariable:O}=Mu[w],U=d.transform==="none"?y[w]:C(y[w],p);if(B){const X=B.length;for(let H=0;H<X;H++)d[B[H]]=U}else O?this.options.visualElement.renderState.vars[w]=U:d[w]=U}return this.options.layoutId&&(d.pointerEvents=p===this?Qh(c==null?void 0:c.pointerEvents)||"":"none"),d}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var d;return(d=c.currentAnimation)==null?void 0:d.stop()}),this.root.nodes.forEach($E),this.root.sharedNodes.clear()}}}function XM(e){e.updateLayout()}function WM(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:a}=e.layout,{animationType:l}=e.options,c=t.source!==e.layout.source;l==="size"?Bn(_=>{const S=c?t.measuredBox[_]:t.layoutBox[_],w=hn(S);S.min=r[_].min,S.max=S.min+w}):Aw(l,t.layoutBox,r)&&Bn(_=>{const S=c?t.measuredBox[_]:t.layoutBox[_],w=hn(r[_]);S.max=S.min+w,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[_].max=e.relativeTarget[_].min+w)});const d=Eo();_u(d,r,t.layoutBox);const m=Eo();c?_u(m,e.applyTransform(a,!0),t.measuredBox):_u(m,r,t.layoutBox);const p=!_w(d);let y=!1;if(!e.resumeFrom){const _=e.getClosestProjectingParent();if(_&&!_.resumeFrom){const{snapshot:S,layout:w}=_;if(S&&w){const C=ve();Tu(C,t.layoutBox,S.layoutBox);const B=ve();Tu(B,r,w.layoutBox),Tw(C,B)||(y=!0),_.options.layoutRoot&&(e.relativeTarget=B,e.relativeTargetOrigin=C,e.relativeParent=_)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:m,layoutDelta:d,hasLayoutChanged:p,hasRelativeLayoutChanged:y})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function ZM(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function JM(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function tO(e){e.clearSnapshot()}function $E(e){e.clearMeasurements()}function eO(e){e.isLayoutDirty=!1}function nO(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function QE(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function iO(e){e.resolveTargetDelta()}function rO(e){e.calcProjection()}function sO(e){e.resetSkewAndRotation()}function aO(e){e.removeLeadSnapshot()}function XE(e,t,n){e.translate=oe(t.translate,0,n),e.scale=oe(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function WE(e,t,n,r){e.min=oe(t.min,n.min,r),e.max=oe(t.max,n.max,r)}function oO(e,t,n,r){WE(e.x,t.x,n.x,r),WE(e.y,t.y,n.y,r)}function lO(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const uO={duration:.45,ease:[.4,0,.1,1]},ZE=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),JE=ZE("applewebkit/")&&!ZE("chrome/")?Math.round:Hn;function tS(e){e.min=JE(e.min),e.max=JE(e.max)}function cO(e){tS(e.x),tS(e.y)}function Aw(e,t,n){return e==="position"||e==="preserve-aspect"&&!fM(GE(t),GE(n),.2)}function hO(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const fO=Sw({attachResizeListener:(e,t)=>Lu(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Cp={current:void 0},bw=Sw({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Cp.current){const e=new fO({});e.mount(window),e.setOptions({layoutScroll:!0}),Cp.current=e}return Cp.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),dO={pan:{Feature:DM},drag:{Feature:IM,ProjectionNode:bw,MeasureLayout:gw}};function eS(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=r[a];l&&ne.postRender(()=>l(t,Ju(t)))}class mO extends gs{mount(){const{current:t}=this.node;t&&(this.unmount=Ax(t,(n,r)=>(eS(this.node,r,"Start"),a=>eS(this.node,a,"End"))))}unmount(){}}class pO extends gs{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Zu(Lu(this.node.current,"focus",()=>this.onFocus()),Lu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function nS(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=r[a];l&&ne.postRender(()=>l(t,Ju(t)))}class gO extends gs{mount(){const{current:t}=this.node;t&&(this.unmount=Cx(t,(n,r)=>(nS(this.node,r,"Start"),(a,{success:l})=>nS(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const cg=new WeakMap,Ip=new WeakMap,yO=e=>{const t=cg.get(e.target);t&&t(e)},vO=e=>{e.forEach(yO)};function _O({root:e,...t}){const n=e||document;Ip.has(n)||Ip.set(n,{});const r=Ip.get(n),a=JSON.stringify(t);return r[a]||(r[a]=new IntersectionObserver(vO,{root:e,...t})),r[a]}function TO(e,t,n){const r=_O(t);return cg.set(e,n),r.observe(e),()=>{cg.delete(e),r.unobserve(e)}}const EO={some:0,all:1};class SO extends gs{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:a="some",once:l}=t,c={root:n?n.current:void 0,rootMargin:r,threshold:typeof a=="number"?a:EO[a]},d=m=>{const{isIntersecting:p}=m;if(this.isInView===p||(this.isInView=p,l&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:y,onViewportLeave:_}=this.node.getProps(),S=p?y:_;S&&S(m)};return TO(this.node.current,c,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(AO(t,n))&&this.startObserver()}unmount(){}}function AO({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const bO={inView:{Feature:SO},tap:{Feature:gO},focus:{Feature:pO},hover:{Feature:mO}},wO={layout:{ProjectionNode:bw,MeasureLayout:gw}},hg={current:null},ww={current:!1};function RO(){if(ww.current=!0,!!qg)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>hg.current=e.matches;e.addListener(t),t()}else hg.current=!1}const CO=[...Xb,tn,ls],IO=e=>CO.find(Qb(e)),DO=new WeakMap;function xO(e,t,n){for(const r in t){const a=t[r],l=n[r];if(rn(a))e.addValue(r,a);else if(rn(l))e.addValue(r,xu(a,{owner:e}));else if(l!==a)if(e.hasValue(r)){const c=e.getValue(r);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=e.getStaticValue(r);e.addValue(r,xu(c!==void 0?c:a,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const iS=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class PO{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:a,blockInitialAnimation:l,visualState:c},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=_y,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const w=bi.now();this.renderScheduledAt<w&&(this.renderScheduledAt=w,ne.render(this.render,!1,!0))};const{latestValues:m,renderState:p,onUpdate:y}=c;this.onUpdate=y,this.latestValues=m,this.baseTarget={...m},this.initialValues=n.initial?{...m}:{},this.renderState=p,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=d,this.blockInitialAnimation=!!l,this.isControllingVariants=Hf(n),this.isVariantNode=fb(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:_,...S}=this.scrapeMotionValuesFromProps(n,{},this);for(const w in S){const C=S[w];m[w]!==void 0&&rn(C)&&C.set(m[w],!1)}}mount(t){this.current=t,DO.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),ww.current||RO(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:hg.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),dr(this.notifyUpdate),dr(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=ga.has(t);r&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",d=>{this.latestValues[t]=d,this.props.onUpdate&&ne.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),l=n.on("renderRequest",this.scheduleRender);let c;window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{a(),l(),c&&c(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Do){const n=Do[t];if(!n)continue;const{isEnabled:r,Feature:a}=n;if(!this.features[t]&&a&&r(this.props)&&(this.features[t]=new a(this)),this.features[t]){const l=this.features[t];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ve()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<iS.length;r++){const a=iS[r];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,c=t[l];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=xO(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=xu(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(Yb(r)||kb(r))?r=parseFloat(r):!IO(r)&&ls.test(n)&&(r=qb(t,n)),this.setBaseTarget(t,rn(r)?r.get():r)),rn(r)?r.get():r}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var l;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const c=dy(this.props,n,(l=this.presenceContext)==null?void 0:l.custom);c&&(r=c[t])}if(n&&r!==void 0)return r;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!rn(a)?a:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Qg),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class Rw extends PO{constructor(){super(...arguments),this.KeyframeResolver=Wb}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;rn(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function MO(e){return window.getComputedStyle(e)}class OO extends Rw{constructor(){super(...arguments),this.type="html",this.renderInstance=Ab}readValueFromInstance(t,n){if(ga.has(n))return G2(t,n);{const r=MO(t),a=(sy(n)?r.getPropertyValue(n):r[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:n}){return fw(t,n)}build(t,n,r){ly(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return my(t,n,r)}}class VO extends Rw{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ve,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&Sb(this.current,this.renderState)}}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(ga.has(n)){const r=Hb(n);return r&&r.default||0}return n=bb.has(n)?n:ry(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return Rb(t,n,r)}onBindTransform(){this.current&&!this.renderState.dimensions&&ne.postRender(this.updateDimensions)}build(t,n,r){hy(t,n,this.isSVGTag,r.transformTemplate)}renderInstance(t,n,r,a){wb(t,n,r,a)}mount(t){this.isSVGTag=fy(t.tagName),super.mount(t)}}const NO=(e,t)=>cy(e)?new VO(t):new OO(t,{allowProjection:e!==L.Fragment}),LO=v2({...rM,...bO,...dO,...wO},NO),Wh=Vx(LO);function Cw({rating:e}){return k.jsxs("div",{className:"rating",children:[k.jsx("div",{className:"stars",children:Array(5).fill().map((t,n)=>k.jsx("span",{className:n<Math.round(e/10*5)?"star-filled":"star",children:""},n))}),k.jsx("span",{className:"score",children:Math.round(e/10*5).toFixed(1)})]})}var Iw={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},rS=la.createContext&&la.createContext(Iw),kO=["attr","size","title"];function UO(e,t){if(e==null)return{};var n=jO(e,t),r,a;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function jO(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function gf(){return gf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gf.apply(this,arguments)}function sS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function yf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sS(Object(n),!0).forEach(function(r){BO(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function BO(e,t,n){return t=zO(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zO(e){var t=FO(e,"string");return typeof t=="symbol"?t:t+""}function FO(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Dw(e){return e&&e.map((t,n)=>la.createElement(t.tag,yf({key:n},t.attr),Dw(t.child)))}function tc(e){return t=>la.createElement(HO,gf({attr:yf({},e.attr)},t),Dw(e.child))}function HO(e){var t=n=>{var{attr:r,size:a,title:l}=e,c=UO(e,kO),d=a||n.size||"1em",m;return n.className&&(m=n.className),e.className&&(m=(m?m+" ":"")+e.className),la.createElement("svg",gf({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,c,{className:m,style:yf(yf({color:e.color||n.color},n.style),e.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),l&&la.createElement("title",null,l),e.children)};return rS!==void 0?la.createElement(rS.Consumer,null,n=>t(n)):t(Iw)}function qO(e){return tc({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"},child:[]}]})(e)}function GO(e){return tc({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(e)}function KO(e){return tc({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"},child:[]}]})(e)}function YO(e){return tc({attr:{viewBox:"0 0 256 512"},child:[{tag:"path",attr:{d:"M31.7 239l136-136c9.4-9.4 24.6-9.4 33.9 0l22.6 22.6c9.4 9.4 9.4 24.6 0 33.9L127.9 256l96.4 96.4c9.4 9.4 9.4 24.6 0 33.9L201.7 409c-9.4 9.4-24.6 9.4-33.9 0l-136-136c-9.5-9.4-9.5-24.6-.1-34z"},child:[]}]})(e)}function $O(e){return tc({attr:{viewBox:"0 0 256 512"},child:[{tag:"path",attr:{d:"M224.3 273l-136 136c-9.4 9.4-24.6 9.4-33.9 0l-22.6-22.6c-9.4-9.4-9.4-24.6 0-33.9l96.4-96.4-96.4-96.4c-9.4-9.4-9.4-24.6 0-33.9L54.3 103c9.4-9.4 24.6-9.4 33.9 0l136 136c9.5 9.4 9.5 24.6.1 34z"},child:[]}]})(e)}var jh={},aS;function QO(){if(aS)return jh;aS=1,jh.match=l,jh.parse=c;var e=/(?:(only|not)?\s*([^\s\(\)]+)(?:\s*and)?\s*)?(.+)?/i,t=/\(\s*([^\s\:\)]+)\s*(?:\:\s*([^\s\)]+))?\s*\)/,n=/^(?:(min|max)-)?(.+)/,r=/(em|rem|px|cm|mm|in|pt|pc)?$/,a=/(dpi|dpcm|dppx)?$/;function l(y,_){return c(y).some(function(S){var w=S.inverse,C=S.type==="all"||_.type===S.type;if(C&&w||!(C||w))return!1;var B=S.expressions.every(function(O){var U=O.feature,X=O.modifier,H=O.value,st=_[U];if(!st)return!1;switch(U){case"orientation":case"scan":return st.toLowerCase()===H.toLowerCase();case"width":case"height":case"device-width":case"device-height":H=p(H),st=p(st);break;case"resolution":H=m(H),st=m(st);break;case"aspect-ratio":case"device-aspect-ratio":case"device-pixel-ratio":H=d(H),st=d(st);break;case"grid":case"color":case"color-index":case"monochrome":H=parseInt(H,10)||1,st=parseInt(st,10)||0;break}switch(X){case"min":return st>=H;case"max":return st<=H;default:return st===H}});return B&&!w||!B&&w})}function c(y){return y.split(",").map(function(_){_=_.trim();var S=_.match(e),w=S[1],C=S[2],B=S[3]||"",O={};return O.inverse=!!w&&w.toLowerCase()==="not",O.type=C?C.toLowerCase():"all",B=B.match(/\([^\)]+\)/g)||[],O.expressions=B.map(function(U){var X=U.match(t),H=X[1].toLowerCase().match(n);return{modifier:H[1],feature:H[2],value:X[2]}}),O})}function d(y){var _=Number(y),S;return _||(S=y.match(/^(\d+)\s*\/\s*(\d+)$/),_=S[1]/S[2]),_}function m(y){var _=parseFloat(y),S=String(y).match(a)[1];switch(S){case"dpcm":return _/2.54;case"dppx":return _*96;default:return _}}function p(y){var _=parseFloat(y),S=String(y).match(r)[1];switch(S){case"em":return _*16;case"rem":return _*16;case"cm":return _*96/2.54;case"mm":return _*96/2.54/10;case"in":return _*96;case"pt":return _*72;case"pc":return _*72/12;default:return _}}return jh}var Dp,oS;function XO(){if(oS)return Dp;oS=1;var e=QO().match,t=typeof window<"u"?window.matchMedia:null;function n(a,l,c){var d=this,m;t&&!c&&(m=t.call(window,a)),m?(this.matches=m.matches,this.media=m.media,m.addListener(_)):(this.matches=e(a,l),this.media=a),this.addListener=p,this.removeListener=y,this.dispose=S;function p(w){m&&m.addListener(w)}function y(w){m&&m.removeListener(w)}function _(w){d.matches=w.matches,d.media=w.media}function S(){m&&m.removeListener(_)}}function r(a,l,c){return new n(a,l,c)}return Dp=r,Dp}var WO=XO();const ZO=kg(WO);var JO=/[A-Z]/g,tV=/^ms-/,xp={};function eV(e){return"-"+e.toLowerCase()}function xw(e){if(xp.hasOwnProperty(e))return xp[e];var t=e.replace(JO,eV);return xp[e]=tV.test(t)?"-"+t:t}function nV(e,t){if(e===t)return!0;if(!e||!t)return!1;const n=Object.keys(e),r=Object.keys(t),a=n.length;if(r.length!==a)return!1;for(let l=0;l<a;l++){const c=n[l];if(e[c]!==t[c]||!Object.prototype.hasOwnProperty.call(t,c))return!1}return!0}var Pp={exports:{}},Mp,lS;function iV(){if(lS)return Mp;lS=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Mp=e,Mp}var Op,uS;function rV(){if(uS)return Op;uS=1;var e=iV();function t(){}function n(){}return n.resetWarningCache=t,Op=function(){function r(c,d,m,p,y,_){if(_!==e){var S=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw S.name="Invariant Violation",S}}r.isRequired=r;function a(){return r}var l={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:a,element:r,elementType:r,instanceOf:a,node:r,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:n,resetWarningCache:t};return l.PropTypes=l,l},Op}var cS;function sV(){return cS||(cS=1,Pp.exports=rV()()),Pp.exports}var aV=sV();const Ht=kg(aV),cn=Ht.oneOfType([Ht.string,Ht.number]),Pw={all:Ht.bool,grid:Ht.bool,aural:Ht.bool,braille:Ht.bool,handheld:Ht.bool,print:Ht.bool,projection:Ht.bool,screen:Ht.bool,tty:Ht.bool,tv:Ht.bool,embossed:Ht.bool},oV={orientation:Ht.oneOf(["portrait","landscape"]),scan:Ht.oneOf(["progressive","interlace"]),aspectRatio:Ht.string,deviceAspectRatio:Ht.string,height:cn,deviceHeight:cn,width:cn,deviceWidth:cn,color:Ht.bool,colorIndex:Ht.bool,monochrome:Ht.bool,resolution:cn,type:Object.keys(Pw)},{type:u6,...lV}=oV,uV={minAspectRatio:Ht.string,maxAspectRatio:Ht.string,minDeviceAspectRatio:Ht.string,maxDeviceAspectRatio:Ht.string,minHeight:cn,maxHeight:cn,minDeviceHeight:cn,maxDeviceHeight:cn,minWidth:cn,maxWidth:cn,minDeviceWidth:cn,maxDeviceWidth:cn,minColor:Ht.number,maxColor:Ht.number,minColorIndex:Ht.number,maxColorIndex:Ht.number,minMonochrome:Ht.number,maxMonochrome:Ht.number,minResolution:cn,maxResolution:cn,...lV},cV={...Pw,...uV};var hV={all:cV};const fV=e=>`not ${e}`,dV=(e,t)=>{const n=xw(e);return typeof t=="number"&&(t=`${t}px`),t===!0?n:t===!1?fV(n):`(${n}: ${t})`},mV=e=>e.join(" and "),pV=e=>{const t=[];return Object.keys(hV.all).forEach(n=>{const r=e[n];r!=null&&t.push(dV(n,r))}),mV(t)},gV=L.createContext(void 0),yV=e=>e.query||pV(e),hS=e=>e?Object.keys(e).reduce((n,r)=>(n[xw(r)]=e[r],n),{}):void 0,Mw=()=>{const e=L.useRef(!1);return L.useEffect(()=>{e.current=!0},[]),e.current},vV=e=>{const t=L.useContext(gV),n=()=>hS(e)||hS(t),[r,a]=L.useState(n);return L.useEffect(()=>{const l=n();nV(r,l)||a(l)},[e,t]),r},_V=e=>{const t=()=>yV(e),[n,r]=L.useState(t);return L.useEffect(()=>{const a=t();n!==a&&r(a)},[e]),n},TV=(e,t)=>{const n=()=>ZO(e,t||{},!!t),[r,a]=L.useState(n),l=Mw();return L.useEffect(()=>{if(l){const c=n();return a(c),()=>{c&&c.dispose()}}},[e,t]),r},EV=e=>{const[t,n]=L.useState(e.matches);return L.useEffect(()=>{const r=a=>{n(a.matches)};return e.addListener(r),n(e.matches),()=>{e.removeListener(r)}},[e]),t},SV=(e,t,n)=>{const r=vV(t),a=_V(e);if(!a)throw new Error("Invalid or missing MediaQuery!");const l=TV(a,r),c=EV(l);return Mw(),L.useEffect(()=>{},[c]),L.useEffect(()=>()=>{l&&l.dispose()},[]),c},AV=({items:e})=>{const t=SV({minWidth:1024}),[n,r]=L.useState(0),a=t?4:3,l=n>0,c=n+a<e.length,d=()=>{l&&r(n-1)},m=()=>{c&&r(n+1)},p=e.slice(n,n+a);return k.jsxs("div",{className:"CastCarousel",children:[k.jsx("div",{className:"arrowContainer",onClick:d,disabled:!l,children:k.jsx(YO,{})}),k.jsx("div",{className:"CastMembers",children:p.map((y,_)=>k.jsxs("div",{className:"CastMember",children:[k.jsx("div",{className:"castMemberImg",style:{backgroundImage:`url(https://image.tmdb.org/t/p/w500${y.profile_path})`}}),k.jsx("p",{children:y.original_name})]},_))}),k.jsx("div",{className:"arrowContainer",onClick:m,disabled:!c,children:k.jsx($O,{})})]})},bV=()=>{};var fS={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ow=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let a=e.charCodeAt(r);a<128?t[n++]=a:a<2048?(t[n++]=a>>6|192,t[n++]=a&63|128):(a&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=a>>18|240,t[n++]=a>>12&63|128,t[n++]=a>>6&63|128,t[n++]=a&63|128):(t[n++]=a>>12|224,t[n++]=a>>6&63|128,t[n++]=a&63|128)}return t},wV=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const a=e[n++];if(a<128)t[r++]=String.fromCharCode(a);else if(a>191&&a<224){const l=e[n++];t[r++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=e[n++],c=e[n++],d=e[n++],m=((a&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;t[r++]=String.fromCharCode(55296+(m>>10)),t[r++]=String.fromCharCode(56320+(m&1023))}else{const l=e[n++],c=e[n++];t[r++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return t.join("")},Vw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<e.length;a+=3){const l=e[a],c=a+1<e.length,d=c?e[a+1]:0,m=a+2<e.length,p=m?e[a+2]:0,y=l>>2,_=(l&3)<<4|d>>4;let S=(d&15)<<2|p>>6,w=p&63;m||(w=64,c||(S=64)),r.push(n[y],n[_],n[S],n[w])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Ow(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):wV(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<e.length;){const l=n[e.charAt(a++)],d=a<e.length?n[e.charAt(a)]:0;++a;const p=a<e.length?n[e.charAt(a)]:64;++a;const _=a<e.length?n[e.charAt(a)]:64;if(++a,l==null||d==null||p==null||_==null)throw new RV;const S=l<<2|d>>4;if(r.push(S),p!==64){const w=d<<4&240|p>>2;if(r.push(w),_!==64){const C=p<<6&192|_;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class RV extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const CV=function(e){const t=Ow(e);return Vw.encodeByteArray(t,!0)},vf=function(e){return CV(e).replace(/\./g,"")},Nw=function(e){try{return Vw.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IV(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DV=()=>IV().__FIREBASE_DEFAULTS__,xV=()=>{if(typeof process>"u"||typeof fS>"u")return;const e=fS.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},PV=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&Nw(e[1]);return t&&JSON.parse(t)},Gf=()=>{try{return bV()||DV()||xV()||PV()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},Lw=e=>{var t,n;return(n=(t=Gf())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},MV=e=>{const t=Lw(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},kw=()=>{var e;return(e=Gf())===null||e===void 0?void 0:e.config},Uw=e=>{var t;return(t=Gf())===null||t===void 0?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OV{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VV(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",a=e.iat||0,l=e.sub||e.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},e);return[vf(JSON.stringify(n)),vf(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function NV(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(sn())}function LV(){var e;const t=(e=Gf())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function kV(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function UV(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function jV(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function BV(){const e=sn();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function zV(){return!LV()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function FV(){try{return typeof indexedDB=="object"}catch{return!1}}function HV(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var l;t(((l=a.error)===null||l===void 0?void 0:l.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qV="FirebaseError";class _r extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=qV,Object.setPrototypeOf(this,_r.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ec.prototype.create)}}class ec{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},a=`${this.service}/${t}`,l=this.errors[t],c=l?GV(l,r):"Error",d=`${this.serviceName}: ${c} (${a}).`;return new _r(a,d,r)}}function GV(e,t){return e.replace(KV,(n,r)=>{const a=t[r];return a!=null?String(a):`<${r}?>`})}const KV=/\{\$([^}]+)}/g;function YV(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function us(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const a of n){if(!r.includes(a))return!1;const l=e[a],c=t[a];if(dS(l)&&dS(c)){if(!us(l,c))return!1}else if(l!==c)return!1}for(const a of r)if(!n.includes(a))return!1;return!0}function dS(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nc(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(a=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function fu(e){const t={};return e.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[a,l]=r.split("=");t[decodeURIComponent(a)]=decodeURIComponent(l)}}),t}function du(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function $V(e,t){const n=new QV(e,t);return n.subscribe.bind(n)}class QV{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let a;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");XV(t,["next","error","complete"])?a=t:a={next:t,error:n,complete:r},a.next===void 0&&(a.next=Vp),a.error===void 0&&(a.error=Vp),a.complete===void 0&&(a.complete=Vp);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function XV(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function Vp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wn(e){return e&&e._delegate?e._delegate:e}class ca{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ra="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WV{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new OV;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),a=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(JV(t))try{this.getOrInitializeService({instanceIdentifier:ra})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});r.resolve(l)}catch{}}}}clearInstance(t=ra){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ra){return this.instances.has(t)}getOptions(t=ra){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);r===d&&c.resolve(a)}return a}onInit(t,n){var r;const a=this.normalizeInstanceIdentifier(n),l=(r=this.onInitCallbacks.get(a))!==null&&r!==void 0?r:new Set;l.add(t),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&t(c,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const a of r)try{a(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:ZV(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=ra){return this.component?this.component.multipleInstances?t:ra:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ZV(e){return e===ra?void 0:e}function JV(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new WV(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vt;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Vt||(Vt={}));const eN={debug:Vt.DEBUG,verbose:Vt.VERBOSE,info:Vt.INFO,warn:Vt.WARN,error:Vt.ERROR,silent:Vt.SILENT},nN=Vt.INFO,iN={[Vt.DEBUG]:"log",[Vt.VERBOSE]:"log",[Vt.INFO]:"info",[Vt.WARN]:"warn",[Vt.ERROR]:"error"},rN=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),a=iN[t];if(a)console[a](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Ay{constructor(t){this.name=t,this._logLevel=nN,this._logHandler=rN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Vt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?eN[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Vt.DEBUG,...t),this._logHandler(this,Vt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Vt.VERBOSE,...t),this._logHandler(this,Vt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Vt.INFO,...t),this._logHandler(this,Vt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Vt.WARN,...t),this._logHandler(this,Vt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Vt.ERROR,...t),this._logHandler(this,Vt.ERROR,...t)}}const sN=(e,t)=>t.some(n=>e instanceof n);let mS,pS;function aN(){return mS||(mS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function oN(){return pS||(pS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const jw=new WeakMap,fg=new WeakMap,Bw=new WeakMap,Np=new WeakMap,by=new WeakMap;function lN(e){const t=new Promise((n,r)=>{const a=()=>{e.removeEventListener("success",l),e.removeEventListener("error",c)},l=()=>{n(is(e.result)),a()},c=()=>{r(e.error),a()};e.addEventListener("success",l),e.addEventListener("error",c)});return t.then(n=>{n instanceof IDBCursor&&jw.set(n,e)}).catch(()=>{}),by.set(t,e),t}function uN(e){if(fg.has(e))return;const t=new Promise((n,r)=>{const a=()=>{e.removeEventListener("complete",l),e.removeEventListener("error",c),e.removeEventListener("abort",c)},l=()=>{n(),a()},c=()=>{r(e.error||new DOMException("AbortError","AbortError")),a()};e.addEventListener("complete",l),e.addEventListener("error",c),e.addEventListener("abort",c)});fg.set(e,t)}let dg={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return fg.get(e);if(t==="objectStoreNames")return e.objectStoreNames||Bw.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return is(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function cN(e){dg=e(dg)}function hN(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(Lp(this),t,...n);return Bw.set(r,t.sort?t.sort():[t]),is(r)}:oN().includes(e)?function(...t){return e.apply(Lp(this),t),is(jw.get(this))}:function(...t){return is(e.apply(Lp(this),t))}}function fN(e){return typeof e=="function"?hN(e):(e instanceof IDBTransaction&&uN(e),sN(e,aN())?new Proxy(e,dg):e)}function is(e){if(e instanceof IDBRequest)return lN(e);if(Np.has(e))return Np.get(e);const t=fN(e);return t!==e&&(Np.set(e,t),by.set(t,e)),t}const Lp=e=>by.get(e);function dN(e,t,{blocked:n,upgrade:r,blocking:a,terminated:l}={}){const c=indexedDB.open(e,t),d=is(c);return r&&c.addEventListener("upgradeneeded",m=>{r(is(c.result),m.oldVersion,m.newVersion,is(c.transaction),m)}),n&&c.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),d.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),d}const mN=["get","getKey","getAll","getAllKeys","count"],pN=["put","add","delete","clear"],kp=new Map;function gS(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(kp.get(t))return kp.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,a=pN.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(a||mN.includes(n)))return;const l=async function(c,...d){const m=this.transaction(c,a?"readwrite":"readonly");let p=m.store;return r&&(p=p.index(d.shift())),(await Promise.all([p[n](...d),a&&m.done]))[0]};return kp.set(t,l),l}cN(e=>({...e,get:(t,n,r)=>gS(t,n)||e.get(t,n,r),has:(t,n)=>!!gS(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gN{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(yN(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function yN(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const mg="@firebase/app",yS="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pr=new Ay("@firebase/app"),vN="@firebase/app-compat",_N="@firebase/analytics-compat",TN="@firebase/analytics",EN="@firebase/app-check-compat",SN="@firebase/app-check",AN="@firebase/auth",bN="@firebase/auth-compat",wN="@firebase/database",RN="@firebase/data-connect",CN="@firebase/database-compat",IN="@firebase/functions",DN="@firebase/functions-compat",xN="@firebase/installations",PN="@firebase/installations-compat",MN="@firebase/messaging",ON="@firebase/messaging-compat",VN="@firebase/performance",NN="@firebase/performance-compat",LN="@firebase/remote-config",kN="@firebase/remote-config-compat",UN="@firebase/storage",jN="@firebase/storage-compat",BN="@firebase/firestore",zN="@firebase/vertexai",FN="@firebase/firestore-compat",HN="firebase",qN="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pg="[DEFAULT]",GN={[mg]:"fire-core",[vN]:"fire-core-compat",[TN]:"fire-analytics",[_N]:"fire-analytics-compat",[SN]:"fire-app-check",[EN]:"fire-app-check-compat",[AN]:"fire-auth",[bN]:"fire-auth-compat",[wN]:"fire-rtdb",[RN]:"fire-data-connect",[CN]:"fire-rtdb-compat",[IN]:"fire-fn",[DN]:"fire-fn-compat",[xN]:"fire-iid",[PN]:"fire-iid-compat",[MN]:"fire-fcm",[ON]:"fire-fcm-compat",[VN]:"fire-perf",[NN]:"fire-perf-compat",[LN]:"fire-rc",[kN]:"fire-rc-compat",[UN]:"fire-gcs",[jN]:"fire-gcs-compat",[BN]:"fire-fst",[FN]:"fire-fst-compat",[zN]:"fire-vertex","fire-js":"fire-js",[HN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _f=new Map,KN=new Map,gg=new Map;function vS(e,t){try{e.container.addComponent(t)}catch(n){pr.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Po(e){const t=e.name;if(gg.has(t))return pr.debug(`There were multiple attempts to register component ${t}.`),!1;gg.set(t,e);for(const n of _f.values())vS(n,e);for(const n of KN.values())vS(n,e);return!0}function wy(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function zn(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},rs=new ec("app","Firebase",YN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $N{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ca("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw rs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qo=qN;function zw(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:pg,automaticDataCollectionEnabled:!1},t),a=r.name;if(typeof a!="string"||!a)throw rs.create("bad-app-name",{appName:String(a)});if(n||(n=kw()),!n)throw rs.create("no-options");const l=_f.get(a);if(l){if(us(n,l.options)&&us(r,l.config))return l;throw rs.create("duplicate-app",{appName:a})}const c=new tN(a);for(const m of gg.values())c.addComponent(m);const d=new $N(n,r,c);return _f.set(a,d),d}function Fw(e=pg){const t=_f.get(e);if(!t&&e===pg&&kw())return zw();if(!t)throw rs.create("no-app",{appName:e});return t}function ss(e,t,n){var r;let a=(r=GN[e])!==null&&r!==void 0?r:e;n&&(a+=`-${n}`);const l=a.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${t}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),pr.warn(d.join(" "));return}Po(new ca(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QN="firebase-heartbeat-database",XN=1,ku="firebase-heartbeat-store";let Up=null;function Hw(){return Up||(Up=dN(QN,XN,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(ku)}catch(n){console.warn(n)}}}}).catch(e=>{throw rs.create("idb-open",{originalErrorMessage:e.message})})),Up}async function WN(e){try{const n=(await Hw()).transaction(ku),r=await n.objectStore(ku).get(qw(e));return await n.done,r}catch(t){if(t instanceof _r)pr.warn(t.message);else{const n=rs.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});pr.warn(n.message)}}}async function _S(e,t){try{const r=(await Hw()).transaction(ku,"readwrite");await r.objectStore(ku).put(t,qw(e)),await r.done}catch(n){if(n instanceof _r)pr.warn(n.message);else{const r=rs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});pr.warn(r.message)}}}function qw(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZN=1024,JN=30;class tL{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new nL(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=TS();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>JN){const c=iL(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){pr.warn(r)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=TS(),{heartbeatsToSend:r,unsentEntries:a}=eL(this._heartbeatsCache.heartbeats),l=vf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(n){return pr.warn(n),""}}}function TS(){return new Date().toISOString().substring(0,10)}function eL(e,t=ZN){const n=[];let r=e.slice();for(const a of e){const l=n.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),ES(n)>t){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),ES(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class nL{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return FV()?HV().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await WN(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return _S(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return _S(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function ES(e){return vf(JSON.stringify({version:2,heartbeats:e})).length}function iL(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rL(e){Po(new ca("platform-logger",t=>new gN(t),"PRIVATE")),Po(new ca("heartbeat",t=>new tL(t),"PRIVATE")),ss(mg,yS,e),ss(mg,yS,"esm2017"),ss("fire-js","")}rL("");var SS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var as,Gw;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(P,R){function I(){}I.prototype=R.prototype,P.D=R.prototype,P.prototype=new I,P.prototype.constructor=P,P.C=function(M,j,F){for(var x=Array(arguments.length-2),Te=2;Te<arguments.length;Te++)x[Te-2]=arguments[Te];return R.prototype[j].apply(M,x)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(P,R,I){I||(I=0);var M=Array(16);if(typeof R=="string")for(var j=0;16>j;++j)M[j]=R.charCodeAt(I++)|R.charCodeAt(I++)<<8|R.charCodeAt(I++)<<16|R.charCodeAt(I++)<<24;else for(j=0;16>j;++j)M[j]=R[I++]|R[I++]<<8|R[I++]<<16|R[I++]<<24;R=P.g[0],I=P.g[1],j=P.g[2];var F=P.g[3],x=R+(F^I&(j^F))+M[0]+3614090360&4294967295;R=I+(x<<7&4294967295|x>>>25),x=F+(j^R&(I^j))+M[1]+3905402710&4294967295,F=R+(x<<12&4294967295|x>>>20),x=j+(I^F&(R^I))+M[2]+606105819&4294967295,j=F+(x<<17&4294967295|x>>>15),x=I+(R^j&(F^R))+M[3]+3250441966&4294967295,I=j+(x<<22&4294967295|x>>>10),x=R+(F^I&(j^F))+M[4]+4118548399&4294967295,R=I+(x<<7&4294967295|x>>>25),x=F+(j^R&(I^j))+M[5]+1200080426&4294967295,F=R+(x<<12&4294967295|x>>>20),x=j+(I^F&(R^I))+M[6]+2821735955&4294967295,j=F+(x<<17&4294967295|x>>>15),x=I+(R^j&(F^R))+M[7]+4249261313&4294967295,I=j+(x<<22&4294967295|x>>>10),x=R+(F^I&(j^F))+M[8]+1770035416&4294967295,R=I+(x<<7&4294967295|x>>>25),x=F+(j^R&(I^j))+M[9]+2336552879&4294967295,F=R+(x<<12&4294967295|x>>>20),x=j+(I^F&(R^I))+M[10]+4294925233&4294967295,j=F+(x<<17&4294967295|x>>>15),x=I+(R^j&(F^R))+M[11]+2304563134&4294967295,I=j+(x<<22&4294967295|x>>>10),x=R+(F^I&(j^F))+M[12]+1804603682&4294967295,R=I+(x<<7&4294967295|x>>>25),x=F+(j^R&(I^j))+M[13]+4254626195&4294967295,F=R+(x<<12&4294967295|x>>>20),x=j+(I^F&(R^I))+M[14]+2792965006&4294967295,j=F+(x<<17&4294967295|x>>>15),x=I+(R^j&(F^R))+M[15]+1236535329&4294967295,I=j+(x<<22&4294967295|x>>>10),x=R+(j^F&(I^j))+M[1]+4129170786&4294967295,R=I+(x<<5&4294967295|x>>>27),x=F+(I^j&(R^I))+M[6]+3225465664&4294967295,F=R+(x<<9&4294967295|x>>>23),x=j+(R^I&(F^R))+M[11]+643717713&4294967295,j=F+(x<<14&4294967295|x>>>18),x=I+(F^R&(j^F))+M[0]+3921069994&4294967295,I=j+(x<<20&4294967295|x>>>12),x=R+(j^F&(I^j))+M[5]+3593408605&4294967295,R=I+(x<<5&4294967295|x>>>27),x=F+(I^j&(R^I))+M[10]+38016083&4294967295,F=R+(x<<9&4294967295|x>>>23),x=j+(R^I&(F^R))+M[15]+3634488961&4294967295,j=F+(x<<14&4294967295|x>>>18),x=I+(F^R&(j^F))+M[4]+3889429448&4294967295,I=j+(x<<20&4294967295|x>>>12),x=R+(j^F&(I^j))+M[9]+568446438&4294967295,R=I+(x<<5&4294967295|x>>>27),x=F+(I^j&(R^I))+M[14]+3275163606&4294967295,F=R+(x<<9&4294967295|x>>>23),x=j+(R^I&(F^R))+M[3]+4107603335&4294967295,j=F+(x<<14&4294967295|x>>>18),x=I+(F^R&(j^F))+M[8]+1163531501&4294967295,I=j+(x<<20&4294967295|x>>>12),x=R+(j^F&(I^j))+M[13]+2850285829&4294967295,R=I+(x<<5&4294967295|x>>>27),x=F+(I^j&(R^I))+M[2]+4243563512&4294967295,F=R+(x<<9&4294967295|x>>>23),x=j+(R^I&(F^R))+M[7]+1735328473&4294967295,j=F+(x<<14&4294967295|x>>>18),x=I+(F^R&(j^F))+M[12]+2368359562&4294967295,I=j+(x<<20&4294967295|x>>>12),x=R+(I^j^F)+M[5]+4294588738&4294967295,R=I+(x<<4&4294967295|x>>>28),x=F+(R^I^j)+M[8]+2272392833&4294967295,F=R+(x<<11&4294967295|x>>>21),x=j+(F^R^I)+M[11]+1839030562&4294967295,j=F+(x<<16&4294967295|x>>>16),x=I+(j^F^R)+M[14]+4259657740&4294967295,I=j+(x<<23&4294967295|x>>>9),x=R+(I^j^F)+M[1]+2763975236&4294967295,R=I+(x<<4&4294967295|x>>>28),x=F+(R^I^j)+M[4]+1272893353&4294967295,F=R+(x<<11&4294967295|x>>>21),x=j+(F^R^I)+M[7]+4139469664&4294967295,j=F+(x<<16&4294967295|x>>>16),x=I+(j^F^R)+M[10]+3200236656&4294967295,I=j+(x<<23&4294967295|x>>>9),x=R+(I^j^F)+M[13]+681279174&4294967295,R=I+(x<<4&4294967295|x>>>28),x=F+(R^I^j)+M[0]+3936430074&4294967295,F=R+(x<<11&4294967295|x>>>21),x=j+(F^R^I)+M[3]+3572445317&4294967295,j=F+(x<<16&4294967295|x>>>16),x=I+(j^F^R)+M[6]+76029189&4294967295,I=j+(x<<23&4294967295|x>>>9),x=R+(I^j^F)+M[9]+3654602809&4294967295,R=I+(x<<4&4294967295|x>>>28),x=F+(R^I^j)+M[12]+3873151461&4294967295,F=R+(x<<11&4294967295|x>>>21),x=j+(F^R^I)+M[15]+530742520&4294967295,j=F+(x<<16&4294967295|x>>>16),x=I+(j^F^R)+M[2]+3299628645&4294967295,I=j+(x<<23&4294967295|x>>>9),x=R+(j^(I|~F))+M[0]+4096336452&4294967295,R=I+(x<<6&4294967295|x>>>26),x=F+(I^(R|~j))+M[7]+1126891415&4294967295,F=R+(x<<10&4294967295|x>>>22),x=j+(R^(F|~I))+M[14]+2878612391&4294967295,j=F+(x<<15&4294967295|x>>>17),x=I+(F^(j|~R))+M[5]+4237533241&4294967295,I=j+(x<<21&4294967295|x>>>11),x=R+(j^(I|~F))+M[12]+1700485571&4294967295,R=I+(x<<6&4294967295|x>>>26),x=F+(I^(R|~j))+M[3]+2399980690&4294967295,F=R+(x<<10&4294967295|x>>>22),x=j+(R^(F|~I))+M[10]+4293915773&4294967295,j=F+(x<<15&4294967295|x>>>17),x=I+(F^(j|~R))+M[1]+2240044497&4294967295,I=j+(x<<21&4294967295|x>>>11),x=R+(j^(I|~F))+M[8]+1873313359&4294967295,R=I+(x<<6&4294967295|x>>>26),x=F+(I^(R|~j))+M[15]+4264355552&4294967295,F=R+(x<<10&4294967295|x>>>22),x=j+(R^(F|~I))+M[6]+2734768916&4294967295,j=F+(x<<15&4294967295|x>>>17),x=I+(F^(j|~R))+M[13]+1309151649&4294967295,I=j+(x<<21&4294967295|x>>>11),x=R+(j^(I|~F))+M[4]+4149444226&4294967295,R=I+(x<<6&4294967295|x>>>26),x=F+(I^(R|~j))+M[11]+3174756917&4294967295,F=R+(x<<10&4294967295|x>>>22),x=j+(R^(F|~I))+M[2]+718787259&4294967295,j=F+(x<<15&4294967295|x>>>17),x=I+(F^(j|~R))+M[9]+3951481745&4294967295,P.g[0]=P.g[0]+R&4294967295,P.g[1]=P.g[1]+(j+(x<<21&4294967295|x>>>11))&4294967295,P.g[2]=P.g[2]+j&4294967295,P.g[3]=P.g[3]+F&4294967295}r.prototype.u=function(P,R){R===void 0&&(R=P.length);for(var I=R-this.blockSize,M=this.B,j=this.h,F=0;F<R;){if(j==0)for(;F<=I;)a(this,P,F),F+=this.blockSize;if(typeof P=="string"){for(;F<R;)if(M[j++]=P.charCodeAt(F++),j==this.blockSize){a(this,M),j=0;break}}else for(;F<R;)if(M[j++]=P[F++],j==this.blockSize){a(this,M),j=0;break}}this.h=j,this.o+=R},r.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var R=1;R<P.length-8;++R)P[R]=0;var I=8*this.o;for(R=P.length-8;R<P.length;++R)P[R]=I&255,I/=256;for(this.u(P),P=Array(16),R=I=0;4>R;++R)for(var M=0;32>M;M+=8)P[I++]=this.g[R]>>>M&255;return P};function l(P,R){var I=d;return Object.prototype.hasOwnProperty.call(I,P)?I[P]:I[P]=R(P)}function c(P,R){this.h=R;for(var I=[],M=!0,j=P.length-1;0<=j;j--){var F=P[j]|0;M&&F==R||(I[j]=F,M=!1)}this.g=I}var d={};function m(P){return-128<=P&&128>P?l(P,function(R){return new c([R|0],0>R?-1:0)}):new c([P|0],0>P?-1:0)}function p(P){if(isNaN(P)||!isFinite(P))return _;if(0>P)return O(p(-P));for(var R=[],I=1,M=0;P>=I;M++)R[M]=P/I|0,I*=4294967296;return new c(R,0)}function y(P,R){if(P.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(P.charAt(0)=="-")return O(y(P.substring(1),R));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=p(Math.pow(R,8)),M=_,j=0;j<P.length;j+=8){var F=Math.min(8,P.length-j),x=parseInt(P.substring(j,j+F),R);8>F?(F=p(Math.pow(R,F)),M=M.j(F).add(p(x))):(M=M.j(I),M=M.add(p(x)))}return M}var _=m(0),S=m(1),w=m(16777216);e=c.prototype,e.m=function(){if(B(this))return-O(this).m();for(var P=0,R=1,I=0;I<this.g.length;I++){var M=this.i(I);P+=(0<=M?M:4294967296+M)*R,R*=4294967296}return P},e.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(C(this))return"0";if(B(this))return"-"+O(this).toString(P);for(var R=p(Math.pow(P,6)),I=this,M="";;){var j=st(I,R).g;I=U(I,j.j(R));var F=((0<I.g.length?I.g[0]:I.h)>>>0).toString(P);if(I=j,C(I))return F+M;for(;6>F.length;)F="0"+F;M=F+M}},e.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function C(P){if(P.h!=0)return!1;for(var R=0;R<P.g.length;R++)if(P.g[R]!=0)return!1;return!0}function B(P){return P.h==-1}e.l=function(P){return P=U(this,P),B(P)?-1:C(P)?0:1};function O(P){for(var R=P.g.length,I=[],M=0;M<R;M++)I[M]=~P.g[M];return new c(I,~P.h).add(S)}e.abs=function(){return B(this)?O(this):this},e.add=function(P){for(var R=Math.max(this.g.length,P.g.length),I=[],M=0,j=0;j<=R;j++){var F=M+(this.i(j)&65535)+(P.i(j)&65535),x=(F>>>16)+(this.i(j)>>>16)+(P.i(j)>>>16);M=x>>>16,F&=65535,x&=65535,I[j]=x<<16|F}return new c(I,I[I.length-1]&-2147483648?-1:0)};function U(P,R){return P.add(O(R))}e.j=function(P){if(C(this)||C(P))return _;if(B(this))return B(P)?O(this).j(O(P)):O(O(this).j(P));if(B(P))return O(this.j(O(P)));if(0>this.l(w)&&0>P.l(w))return p(this.m()*P.m());for(var R=this.g.length+P.g.length,I=[],M=0;M<2*R;M++)I[M]=0;for(M=0;M<this.g.length;M++)for(var j=0;j<P.g.length;j++){var F=this.i(M)>>>16,x=this.i(M)&65535,Te=P.i(j)>>>16,se=P.i(j)&65535;I[2*M+2*j]+=x*se,X(I,2*M+2*j),I[2*M+2*j+1]+=F*se,X(I,2*M+2*j+1),I[2*M+2*j+1]+=x*Te,X(I,2*M+2*j+1),I[2*M+2*j+2]+=F*Te,X(I,2*M+2*j+2)}for(M=0;M<R;M++)I[M]=I[2*M+1]<<16|I[2*M];for(M=R;M<2*R;M++)I[M]=0;return new c(I,0)};function X(P,R){for(;(P[R]&65535)!=P[R];)P[R+1]+=P[R]>>>16,P[R]&=65535,R++}function H(P,R){this.g=P,this.h=R}function st(P,R){if(C(R))throw Error("division by zero");if(C(P))return new H(_,_);if(B(P))return R=st(O(P),R),new H(O(R.g),O(R.h));if(B(R))return R=st(P,O(R)),new H(O(R.g),R.h);if(30<P.g.length){if(B(P)||B(R))throw Error("slowDivide_ only works with positive integers.");for(var I=S,M=R;0>=M.l(P);)I=nt(I),M=nt(M);var j=ct(I,1),F=ct(M,1);for(M=ct(M,2),I=ct(I,2);!C(M);){var x=F.add(M);0>=x.l(P)&&(j=j.add(I),F=x),M=ct(M,1),I=ct(I,1)}return R=U(P,j.j(R)),new H(j,R)}for(j=_;0<=P.l(R);){for(I=Math.max(1,Math.floor(P.m()/R.m())),M=Math.ceil(Math.log(I)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),F=p(I),x=F.j(R);B(x)||0<x.l(P);)I-=M,F=p(I),x=F.j(R);C(F)&&(F=S),j=j.add(F),P=U(P,x)}return new H(j,P)}e.A=function(P){return st(this,P).h},e.and=function(P){for(var R=Math.max(this.g.length,P.g.length),I=[],M=0;M<R;M++)I[M]=this.i(M)&P.i(M);return new c(I,this.h&P.h)},e.or=function(P){for(var R=Math.max(this.g.length,P.g.length),I=[],M=0;M<R;M++)I[M]=this.i(M)|P.i(M);return new c(I,this.h|P.h)},e.xor=function(P){for(var R=Math.max(this.g.length,P.g.length),I=[],M=0;M<R;M++)I[M]=this.i(M)^P.i(M);return new c(I,this.h^P.h)};function nt(P){for(var R=P.g.length+1,I=[],M=0;M<R;M++)I[M]=P.i(M)<<1|P.i(M-1)>>>31;return new c(I,P.h)}function ct(P,R){var I=R>>5;R%=32;for(var M=P.g.length-I,j=[],F=0;F<M;F++)j[F]=0<R?P.i(F+I)>>>R|P.i(F+I+1)<<32-R:P.i(F+I);return new c(j,P.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Gw=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=y,as=c}).apply(typeof SS<"u"?SS:typeof self<"u"?self:typeof window<"u"?window:{});var Bh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Kw,mu,Yw,Zh,yg,$w,Qw,Xw;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,v,T){return h==Array.prototype||h==Object.prototype||(h[v]=T.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Bh=="object"&&Bh];for(var v=0;v<h.length;++v){var T=h[v];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=n(this);function a(h,v){if(v)t:{var T=r;h=h.split(".");for(var b=0;b<h.length-1;b++){var q=h[b];if(!(q in T))break t;T=T[q]}h=h[h.length-1],b=T[h],v=v(b),v!=b&&v!=null&&t(T,h,{configurable:!0,writable:!0,value:v})}}function l(h,v){h instanceof String&&(h+="");var T=0,b=!1,q={next:function(){if(!b&&T<h.length){var Q=T++;return{value:v(Q,h[Q]),done:!1}}return b=!0,{done:!0,value:void 0}}};return q[Symbol.iterator]=function(){return q},q}a("Array.prototype.values",function(h){return h||function(){return l(this,function(v,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function m(h){var v=typeof h;return v=v!="object"?v:h?Array.isArray(h)?"array":v:"null",v=="array"||v=="object"&&typeof h.length=="number"}function p(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function y(h,v,T){return h.call.apply(h.bind,arguments)}function _(h,v,T){if(!h)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(q,b),h.apply(v,q)}}return function(){return h.apply(v,arguments)}}function S(h,v,T){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:_,S.apply(null,arguments)}function w(h,v){var T=Array.prototype.slice.call(arguments,1);return function(){var b=T.slice();return b.push.apply(b,arguments),h.apply(this,b)}}function C(h,v){function T(){}T.prototype=v.prototype,h.aa=v.prototype,h.prototype=new T,h.prototype.constructor=h,h.Qb=function(b,q,Q){for(var lt=Array(arguments.length-2),kt=2;kt<arguments.length;kt++)lt[kt-2]=arguments[kt];return v.prototype[q].apply(b,lt)}}function B(h){const v=h.length;if(0<v){const T=Array(v);for(let b=0;b<v;b++)T[b]=h[b];return T}return[]}function O(h,v){for(let T=1;T<arguments.length;T++){const b=arguments[T];if(m(b)){const q=h.length||0,Q=b.length||0;h.length=q+Q;for(let lt=0;lt<Q;lt++)h[q+lt]=b[lt]}else h.push(b)}}class U{constructor(v,T){this.i=v,this.j=T,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function X(h){return/^[\s\xa0]*$/.test(h)}function H(){var h=d.navigator;return h&&(h=h.userAgent)?h:""}function st(h){return st[" "](h),h}st[" "]=function(){};var nt=H().indexOf("Gecko")!=-1&&!(H().toLowerCase().indexOf("webkit")!=-1&&H().indexOf("Edge")==-1)&&!(H().indexOf("Trident")!=-1||H().indexOf("MSIE")!=-1)&&H().indexOf("Edge")==-1;function ct(h,v,T){for(const b in h)v.call(T,h[b],b,h)}function P(h,v){for(const T in h)v.call(void 0,h[T],T,h)}function R(h){const v={};for(const T in h)v[T]=h[T];return v}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(h,v){let T,b;for(let q=1;q<arguments.length;q++){b=arguments[q];for(T in b)h[T]=b[T];for(let Q=0;Q<I.length;Q++)T=I[Q],Object.prototype.hasOwnProperty.call(b,T)&&(h[T]=b[T])}}function j(h){var v=1;h=h.split(":");const T=[];for(;0<v&&h.length;)T.push(h.shift()),v--;return h.length&&T.push(h.join(":")),T}function F(h){d.setTimeout(()=>{throw h},0)}function x(){var h=Lt;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class Te{constructor(){this.h=this.g=null}add(v,T){const b=se.get();b.set(v,T),this.h?this.h.next=b:this.g=b,this.h=b}}var se=new U(()=>new W,h=>h.reset());class W{constructor(){this.next=this.g=this.h=null}set(v,T){this.h=v,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let at,ft=!1,Lt=new Te,V=()=>{const h=d.Promise.resolve(void 0);at=()=>{h.then(it)}};var it=()=>{for(var h;h=x();){try{h.h.call(h.g)}catch(T){F(T)}var v=se;v.j(h),100>v.h&&(v.h++,h.next=v.g,v.g=h)}ft=!1};function ut(){this.s=this.s,this.C=this.C}ut.prototype.s=!1,ut.prototype.ma=function(){this.s||(this.s=!0,this.N())},ut.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ot(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}ot.prototype.h=function(){this.defaultPrevented=!0};var pt=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const T=()=>{};d.addEventListener("test",T,v),d.removeEventListener("test",T,v)}catch{}return h}();function xt(h,v){if(ot.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var T=this.type=h.type,b=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget){if(nt){t:{try{st(v.nodeName);var q=!0;break t}catch{}q=!1}q||(v=null)}}else T=="mouseover"?v=h.fromElement:T=="mouseout"&&(v=h.toElement);this.relatedTarget=v,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:bt[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&xt.aa.h.call(this)}}C(xt,ot);var bt={2:"touch",3:"pen",4:"mouse"};xt.prototype.h=function(){xt.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Ve="closure_listenable_"+(1e6*Math.random()|0),te=0;function ii(h,v,T,b,q){this.listener=h,this.proxy=null,this.src=v,this.type=T,this.capture=!!b,this.ha=q,this.key=++te,this.da=this.fa=!1}function Tr(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Ni(h){this.src=h,this.g={},this.h=0}Ni.prototype.add=function(h,v,T,b,q){var Q=h.toString();h=this.g[Q],h||(h=this.g[Q]=[],this.h++);var lt=Ts(h,v,b,q);return-1<lt?(v=h[lt],T||(v.fa=!1)):(v=new ii(v,this.src,Q,!!b,q),v.fa=T,h.push(v)),v};function _s(h,v){var T=v.type;if(T in h.g){var b=h.g[T],q=Array.prototype.indexOf.call(b,v,void 0),Q;(Q=0<=q)&&Array.prototype.splice.call(b,q,1),Q&&(Tr(v),h.g[T].length==0&&(delete h.g[T],h.h--))}}function Ts(h,v,T,b){for(var q=0;q<h.length;++q){var Q=h[q];if(!Q.da&&Q.listener==v&&Q.capture==!!T&&Q.ha==b)return q}return-1}var Es="closure_lm_"+(1e6*Math.random()|0),Xo={};function fc(h,v,T,b,q){if(Array.isArray(v)){for(var Q=0;Q<v.length;Q++)fc(h,v[Q],T,b,q);return null}return T=dc(T),h&&h[Ve]?h.K(v,T,p(b)?!!b.capture:!1,q):Rn(h,v,T,!1,b,q)}function Rn(h,v,T,b,q,Q){if(!v)throw Error("Invalid event type");var lt=p(q)?!!q.capture:!!q,kt=Aa(h);if(kt||(h[Es]=kt=new Ni(h)),T=kt.add(v,T,b,lt,Q),T.proxy)return T;if(b=ud(),T.proxy=b,b.src=h,b.listener=T,h.addEventListener)pt||(q=lt),q===void 0&&(q=!1),h.addEventListener(v.toString(),b,q);else if(h.attachEvent)h.attachEvent(Ss(v.toString()),b);else if(h.addListener&&h.removeListener)h.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return T}function ud(){function h(T){return v.call(h.src,h.listener,T)}const v=cd;return h}function Wo(h,v,T,b,q){if(Array.isArray(v))for(var Q=0;Q<v.length;Q++)Wo(h,v[Q],T,b,q);else b=p(b)?!!b.capture:!!b,T=dc(T),h&&h[Ve]?(h=h.i,v=String(v).toString(),v in h.g&&(Q=h.g[v],T=Ts(Q,T,b,q),-1<T&&(Tr(Q[T]),Array.prototype.splice.call(Q,T,1),Q.length==0&&(delete h.g[v],h.h--)))):h&&(h=Aa(h))&&(v=h.g[v.toString()],h=-1,v&&(h=Ts(v,T,b,q)),(T=-1<h?v[h]:null)&&Sa(T))}function Sa(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[Ve])_s(v.i,h);else{var T=h.type,b=h.proxy;v.removeEventListener?v.removeEventListener(T,b,h.capture):v.detachEvent?v.detachEvent(Ss(T),b):v.addListener&&v.removeListener&&v.removeListener(b),(T=Aa(v))?(_s(T,h),T.h==0&&(T.src=null,v[Es]=null)):Tr(h)}}}function Ss(h){return h in Xo?Xo[h]:Xo[h]="on"+h}function cd(h,v){if(h.da)h=!0;else{v=new xt(v,this);var T=h.listener,b=h.ha||h.src;h.fa&&Sa(h),h=T.call(b,v)}return h}function Aa(h){return h=h[Es],h instanceof Ni?h:null}var Zo="__closure_events_fn_"+(1e9*Math.random()>>>0);function dc(h){return typeof h=="function"?h:(h[Zo]||(h[Zo]=function(v){return h.handleEvent(v)}),h[Zo])}function ce(){ut.call(this),this.i=new Ni(this),this.M=this,this.F=null}C(ce,ut),ce.prototype[Ve]=!0,ce.prototype.removeEventListener=function(h,v,T,b){Wo(this,h,v,T,b)};function Kt(h,v){var T,b=h.F;if(b)for(T=[];b;b=b.F)T.push(b);if(h=h.M,b=v.type||v,typeof v=="string")v=new ot(v,h);else if(v instanceof ot)v.target=v.target||h;else{var q=v;v=new ot(b,h),M(v,q)}if(q=!0,T)for(var Q=T.length-1;0<=Q;Q--){var lt=v.g=T[Q];q=gn(lt,b,!0,v)&&q}if(lt=v.g=h,q=gn(lt,b,!0,v)&&q,q=gn(lt,b,!1,v)&&q,T)for(Q=0;Q<T.length;Q++)lt=v.g=T[Q],q=gn(lt,b,!1,v)&&q}ce.prototype.N=function(){if(ce.aa.N.call(this),this.i){var h=this.i,v;for(v in h.g){for(var T=h.g[v],b=0;b<T.length;b++)Tr(T[b]);delete h.g[v],h.h--}}this.F=null},ce.prototype.K=function(h,v,T,b){return this.i.add(String(h),v,!1,T,b)},ce.prototype.L=function(h,v,T,b){return this.i.add(String(h),v,!0,T,b)};function gn(h,v,T,b){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();for(var q=!0,Q=0;Q<v.length;++Q){var lt=v[Q];if(lt&&!lt.da&&lt.capture==T){var kt=lt.listener,Ce=lt.ha||lt.src;lt.fa&&_s(h.i,lt),q=kt.call(Ce,b)!==!1&&q}}return q&&!b.defaultPrevented}function Xe(h,v,T){if(typeof h=="function")T&&(h=S(h,T));else if(h&&typeof h.handleEvent=="function")h=S(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:d.setTimeout(h,v||0)}function mc(h){h.g=Xe(()=>{h.g=null,h.i&&(h.i=!1,mc(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class hd extends ut{constructor(v,T){super(),this.m=v,this.l=T,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:mc(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function As(h){ut.call(this),this.h=h,this.g={}}C(As,ut);var bs=[];function ws(h){ct(h.g,function(v,T){this.g.hasOwnProperty(T)&&Sa(v)},h),h.g={}}As.prototype.N=function(){As.aa.N.call(this),ws(this)},As.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Kn=d.JSON.stringify,ba=d.JSON.parse,Rs=class{stringify(h){return d.JSON.stringify(h,void 0)}parse(h){return d.JSON.parse(h,void 0)}};function Jo(){}Jo.prototype.h=null;function tl(h){return h.h||(h.h=h.i())}function el(){}var Li={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ki(){ot.call(this,"d")}C(ki,ot);function nl(){ot.call(this,"c")}C(nl,ot);var ri={},il=null;function Er(){return il=il||new ce}ri.La="serverreachability";function wa(h){ot.call(this,ri.La,h)}C(wa,ot);function Sr(h){const v=Er();Kt(v,new wa(v))}ri.STAT_EVENT="statevent";function pc(h,v){ot.call(this,ri.STAT_EVENT,h),this.stat=v}C(pc,ot);function ie(h){const v=Er();Kt(v,new pc(v,h))}ri.Ma="timingevent";function Re(h,v){ot.call(this,ri.Ma,h),this.size=v}C(Re,ot);function Ee(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){h()},v)}function Cn(){this.g=!0}Cn.prototype.xa=function(){this.g=!1};function rl(h,v,T,b,q,Q){h.info(function(){if(h.g)if(Q)for(var lt="",kt=Q.split("&"),Ce=0;Ce<kt.length;Ce++){var Ut=kt[Ce].split("=");if(1<Ut.length){var Le=Ut[0];Ut=Ut[1];var Ie=Le.split("_");lt=2<=Ie.length&&Ie[1]=="type"?lt+(Le+"="+Ut+"&"):lt+(Le+"=redacted&")}}else lt=null;else lt=Q;return"XMLHTTP REQ ("+b+") [attempt "+q+"]: "+v+`
`+T+`
`+lt})}function fd(h,v,T,b,q,Q,lt){h.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+q+"]: "+v+`
`+T+`
`+Q+" "+lt})}function Ar(h,v,T,b){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+Cs(h,T)+(b?" "+b:"")})}function gc(h,v){h.info(function(){return"TIMEOUT: "+v})}Cn.prototype.info=function(){};function Cs(h,v){if(!h.g)return v;if(!v)return null;try{var T=JSON.parse(v);if(T){for(h=0;h<T.length;h++)if(Array.isArray(T[h])){var b=T[h];if(!(2>b.length)){var q=b[1];if(Array.isArray(q)&&!(1>q.length)){var Q=q[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(var lt=1;lt<q.length;lt++)q[lt]=""}}}}return Kn(T)}catch{return v}}var br={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ui={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},si;function ai(){}C(ai,Jo),ai.prototype.g=function(){return new XMLHttpRequest},ai.prototype.i=function(){return{}},si=new ai;function an(h,v,T,b){this.j=h,this.i=v,this.l=T,this.R=b||1,this.U=new As(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new pe}function pe(){this.i=null,this.g="",this.h=!1}var sl={},Ra={};function Yn(h,v,T){h.L=1,h.v=Ms(yn(v)),h.m=T,h.P=!0,ji(h,null)}function ji(h,v){h.F=Date.now(),Is(h),h.A=yn(h.v);var T=h.A,b=h.R;Array.isArray(b)||(b=[String(b)]),hl(T.i,"t",b),h.C=0,T=h.j.J,h.h=new pe,h.g=Mc(h.j,T?v:null,!h.m),0<h.O&&(h.M=new hd(S(h.Y,h,h.g),h.O)),v=h.U,T=h.g,b=h.ca;var q="readystatechange";Array.isArray(q)||(q&&(bs[0]=q.toString()),q=bs);for(var Q=0;Q<q.length;Q++){var lt=fc(T,q[Q],b||v.handleEvent,!1,v.h||v);if(!lt)break;v.g[lt.key]=lt}v=h.H?R(h.H):{},h.m?(h.u||(h.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,v)):(h.u="GET",h.g.ea(h.A,h.u,null,v)),Sr(),rl(h.i,h.u,h.A,h.l,h.R,h.m)}an.prototype.ca=function(h){h=h.target;const v=this.M;v&&Pn(h)==3?v.j():this.Y(h)},an.prototype.Y=function(h){try{if(h==this.g)t:{const Ie=Pn(this.g);var v=this.g.Ba();const Yi=this.g.Z();if(!(3>Ie)&&(Ie!=3||this.g&&(this.h.h||this.g.oa()||bc(this.g)))){this.J||Ie!=4||v==7||(v==8||0>=Yi?Sr(3):Sr(2)),wr(this);var T=this.g.Z();this.X=T;e:if(yc(this)){var b=bc(this.g);h="";var q=b.length,Q=Pn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ze(this),oi(this);var lt="";break e}this.h.i=new d.TextDecoder}for(v=0;v<q;v++)this.h.h=!0,h+=this.h.i.decode(b[v],{stream:!(Q&&v==q-1)});b.length=0,this.h.g+=h,this.C=0,lt=this.h.g}else lt=this.g.oa();if(this.o=T==200,fd(this.i,this.u,this.A,this.l,this.R,Ie,T),this.o){if(this.T&&!this.K){e:{if(this.g){var kt,Ce=this.g;if((kt=Ce.g?Ce.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!X(kt)){var Ut=kt;break e}}Ut=null}if(T=Ut)Ar(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ds(this,T);else{this.o=!1,this.s=3,ie(12),ze(this),oi(this);break t}}if(this.P){T=!0;let Fe;for(;!this.J&&this.C<lt.length;)if(Fe=vc(this,lt),Fe==Ra){Ie==4&&(this.s=4,ie(14),T=!1),Ar(this.i,this.l,null,"[Incomplete Response]");break}else if(Fe==sl){this.s=4,ie(15),Ar(this.i,this.l,lt,"[Invalid Chunk]"),T=!1;break}else Ar(this.i,this.l,Fe,null),Ds(this,Fe);if(yc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ie!=4||lt.length!=0||this.h.h||(this.s=1,ie(16),T=!1),this.o=this.o&&T,!T)Ar(this.i,this.l,lt,"[Invalid Chunked Response]"),ze(this),oi(this);else if(0<lt.length&&!this.W){this.W=!0;var Le=this.j;Le.g==this&&Le.ba&&!Le.M&&(Le.j.info("Great, no buffering proxy detected. Bytes received: "+lt.length),Bs(Le),Le.M=!0,ie(11))}}else Ar(this.i,this.l,lt,null),Ds(this,lt);Ie==4&&ze(this),this.o&&!this.J&&(Ie==4?Dc(this.j,this):(this.o=!1,Is(this)))}else yd(this.g),T==400&&0<lt.indexOf("Unknown SID")?(this.s=3,ie(12)):(this.s=0,ie(13)),ze(this),oi(this)}}}catch{}finally{}};function yc(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function vc(h,v){var T=h.C,b=v.indexOf(`
`,T);return b==-1?Ra:(T=Number(v.substring(T,b)),isNaN(T)?sl:(b+=1,b+T>v.length?Ra:(v=v.slice(b,b+T),h.C=b+T,v)))}an.prototype.cancel=function(){this.J=!0,ze(this)};function Is(h){h.S=Date.now()+h.I,_c(h,h.I)}function _c(h,v){if(h.B!=null)throw Error("WatchDog timer not null");h.B=Ee(S(h.ba,h),v)}function wr(h){h.B&&(d.clearTimeout(h.B),h.B=null)}an.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(gc(this.i,this.A),this.L!=2&&(Sr(),ie(17)),ze(this),this.s=2,oi(this)):_c(this,this.S-h)};function oi(h){h.j.G==0||h.J||Dc(h.j,h)}function ze(h){wr(h);var v=h.M;v&&typeof v.ma=="function"&&v.ma(),h.M=null,ws(h.U),h.g&&(v=h.g,h.g=null,v.abort(),v.ma())}function Ds(h,v){try{var T=h.j;if(T.G!=0&&(T.g==h||al(T.h,h))){if(!h.K&&al(T.h,h)&&T.G==3){try{var b=T.Da.g.parse(v)}catch{b=null}if(Array.isArray(b)&&b.length==3){var q=b;if(q[0]==0){t:if(!T.u){if(T.g)if(T.g.F+3e3<h.F)Ua(T),La(T);else break t;gl(T),ie(18)}}else T.za=q[1],0<T.za-T.T&&37500>q[2]&&T.F&&T.v==0&&!T.C&&(T.C=Ee(S(T.Za,T),6e3));if(1>=Ia(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else Ki(T,11)}else if((h.K||T.g==h)&&Ua(T),!X(v))for(q=T.Da.g.parse(v),v=0;v<q.length;v++){let Ut=q[v];if(T.T=Ut[0],Ut=Ut[1],T.G==2)if(Ut[0]=="c"){T.K=Ut[1],T.ia=Ut[2];const Le=Ut[3];Le!=null&&(T.la=Le,T.j.info("VER="+T.la));const Ie=Ut[4];Ie!=null&&(T.Aa=Ie,T.j.info("SVER="+T.Aa));const Yi=Ut[5];Yi!=null&&typeof Yi=="number"&&0<Yi&&(b=1.5*Yi,T.L=b,T.j.info("backChannelRequestTimeoutMs_="+b)),b=T;const Fe=h.g;if(Fe){const mi=Fe.g?Fe.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(mi){var Q=b.h;Q.g||mi.indexOf("spdy")==-1&&mi.indexOf("quic")==-1&&mi.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(Da(Q,Q.h),Q.h=null))}if(b.D){const vl=Fe.g?Fe.g.getResponseHeader("X-HTTP-Session-Id"):null;vl&&(b.ya=vl,Qt(b.I,b.D,vl))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-h.F,T.j.info("Handshake RTT: "+T.R+"ms")),b=T;var lt=h;if(b.qa=Pc(b,b.J?b.ia:null,b.W),lt.K){on(b.h,lt);var kt=lt,Ce=b.L;Ce&&(kt.I=Ce),kt.B&&(wr(kt),Is(kt)),b.g=lt}else Cc(b);0<T.i.length&&ka(T)}else Ut[0]!="stop"&&Ut[0]!="close"||Ki(T,7);else T.G==3&&(Ut[0]=="stop"||Ut[0]=="close"?Ut[0]=="stop"?Ki(T,7):ml(T):Ut[0]!="noop"&&T.l&&T.l.ta(Ut),T.v=0)}}Sr(4)}catch{}}var Tc=class{constructor(h,v){this.g=h,this.map=v}};function Bi(h){this.l=h||10,d.PerformanceNavigationTiming?(h=d.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ca(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Ia(h){return h.h?1:h.g?h.g.size:0}function al(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function Da(h,v){h.g?h.g.add(v):h.h=v}function on(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}Bi.prototype.cancel=function(){if(this.i=ol(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function ol(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const T of h.g.values())v=v.concat(T.D);return v}return B(h.i)}function dd(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(m(h)){for(var v=[],T=h.length,b=0;b<T;b++)v.push(h[b]);return v}v=[],T=0;for(b in h)v[T++]=h[b];return v}function xa(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(m(h)||typeof h=="string"){var v=[];h=h.length;for(var T=0;T<h;T++)v.push(T);return v}v=[],T=0;for(const b in h)v[T++]=b;return v}}}function ll(h,v){if(h.forEach&&typeof h.forEach=="function")h.forEach(v,void 0);else if(m(h)||typeof h=="string")Array.prototype.forEach.call(h,v,void 0);else for(var T=xa(h),b=dd(h),q=b.length,Q=0;Q<q;Q++)v.call(void 0,b[Q],T&&T[Q],h)}var xs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function md(h,v){if(h){h=h.split("&");for(var T=0;T<h.length;T++){var b=h[T].indexOf("="),q=null;if(0<=b){var Q=h[T].substring(0,b);q=h[T].substring(b+1)}else Q=h[T];v(Q,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function Se(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof Se){this.h=h.h,Ps(this,h.j),this.o=h.o,this.g=h.g,Rr(this,h.s),this.l=h.l;var v=h.i,T=new Fi;T.i=v.i,v.g&&(T.g=new Map(v.g),T.h=v.h),zi(this,T),this.m=h.m}else h&&(v=String(h).match(xs))?(this.h=!1,Ps(this,v[1]||"",!0),this.o=In(v[2]||""),this.g=In(v[3]||"",!0),Rr(this,v[4]),this.l=In(v[5]||"",!0),zi(this,v[6]||"",!0),this.m=In(v[7]||"")):(this.h=!1,this.i=new Fi(null,this.h))}Se.prototype.toString=function(){var h=[],v=this.j;v&&h.push(Os(v,ul,!0),":");var T=this.g;return(T||v=="file")&&(h.push("//"),(v=this.o)&&h.push(Os(v,ul,!0),"@"),h.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&h.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&h.push("/"),h.push(Os(T,T.charAt(0)=="/"?pd:cl,!0))),(T=this.i.toString())&&h.push("?",T),(T=this.m)&&h.push("#",Os(T,Pa)),h.join("")};function yn(h){return new Se(h)}function Ps(h,v,T){h.j=T?In(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function Rr(h,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);h.s=v}else h.s=null}function zi(h,v,T){v instanceof Fi?(h.i=v,Sc(h.i,h.h)):(T||(v=Os(v,gd)),h.i=new Fi(v,h.h))}function Qt(h,v,T){h.i.set(v,T)}function Ms(h){return Qt(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function In(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Os(h,v,T){return typeof h=="string"?(h=encodeURI(h).replace(v,Ec),T&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Ec(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var ul=/[#\/\?@]/g,cl=/[#\?:]/g,pd=/[#\?]/g,gd=/[#\?@]/g,Pa=/#/g;function Fi(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function Dn(h){h.g||(h.g=new Map,h.h=0,h.i&&md(h.i,function(v,T){h.add(decodeURIComponent(v.replace(/\+/g," ")),T)}))}e=Fi.prototype,e.add=function(h,v){Dn(this),this.i=null,h=li(this,h);var T=this.g.get(h);return T||this.g.set(h,T=[]),T.push(v),this.h+=1,this};function Hi(h,v){Dn(h),v=li(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function qi(h,v){return Dn(h),v=li(h,v),h.g.has(v)}e.forEach=function(h,v){Dn(this),this.g.forEach(function(T,b){T.forEach(function(q){h.call(v,q,b,this)},this)},this)},e.na=function(){Dn(this);const h=Array.from(this.g.values()),v=Array.from(this.g.keys()),T=[];for(let b=0;b<v.length;b++){const q=h[b];for(let Q=0;Q<q.length;Q++)T.push(v[b])}return T},e.V=function(h){Dn(this);let v=[];if(typeof h=="string")qi(this,h)&&(v=v.concat(this.g.get(li(this,h))));else{h=Array.from(this.g.values());for(let T=0;T<h.length;T++)v=v.concat(h[T])}return v},e.set=function(h,v){return Dn(this),this.i=null,h=li(this,h),qi(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},e.get=function(h,v){return h?(h=this.V(h),0<h.length?String(h[0]):v):v};function hl(h,v,T){Hi(h,v),0<T.length&&(h.i=null,h.g.set(li(h,v),B(T)),h.h+=T.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(var T=0;T<v.length;T++){var b=v[T];const Q=encodeURIComponent(String(b)),lt=this.V(b);for(b=0;b<lt.length;b++){var q=Q;lt[b]!==""&&(q+="="+encodeURIComponent(String(lt[b]))),h.push(q)}}return this.i=h.join("&")};function li(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function Sc(h,v){v&&!h.j&&(Dn(h),h.i=null,h.g.forEach(function(T,b){var q=b.toLowerCase();b!=q&&(Hi(this,b),hl(this,q,T))},h)),h.j=v}function Vs(h,v){const T=new Cn;if(d.Image){const b=new Image;b.onload=w(xn,T,"TestLoadImage: loaded",!0,v,b),b.onerror=w(xn,T,"TestLoadImage: error",!1,v,b),b.onabort=w(xn,T,"TestLoadImage: abort",!1,v,b),b.ontimeout=w(xn,T,"TestLoadImage: timeout",!1,v,b),d.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=h}else v(!1)}function $n(h,v){const T=new Cn,b=new AbortController,q=setTimeout(()=>{b.abort(),xn(T,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:b.signal}).then(Q=>{clearTimeout(q),Q.ok?xn(T,"TestPingServer: ok",!0,v):xn(T,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(q),xn(T,"TestPingServer: error",!1,v)})}function xn(h,v,T,b,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),b(T)}catch{}}function Ns(){this.g=new Rs}function ui(h,v,T){const b=T||"";try{ll(h,function(q,Q){let lt=q;p(q)&&(lt=Kn(q)),v.push(b+Q+"="+encodeURIComponent(lt))})}catch(q){throw v.push(b+"type="+encodeURIComponent("_badmap")),q}}function Cr(h){this.l=h.Ub||null,this.j=h.eb||!1}C(Cr,Jo),Cr.prototype.g=function(){return new Gi(this.l,this.j)},Cr.prototype.i=function(h){return function(){return h}}({});function Gi(h,v){ce.call(this),this.D=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(Gi,ce),e=Gi.prototype,e.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=v,this.readyState=1,hi(this)},e.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(v.body=h),(this.D||d).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ci(this)),this.readyState=0},e.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,hi(this)),this.g&&(this.readyState=3,hi(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;fl(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function fl(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}e.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?ci(this):hi(this),this.readyState==3&&fl(this)}},e.Ra=function(h){this.g&&(this.response=this.responseText=h,ci(this))},e.Qa=function(h){this.g&&(this.response=h,ci(this))},e.ga=function(){this.g&&ci(this)};function ci(h){h.readyState=4,h.l=null,h.j=null,h.v=null,hi(h)}e.setRequestHeader=function(h,v){this.u.append(h,v)},e.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var T=v.next();!T.done;)T=T.value,h.push(T[0]+": "+T[1]),T=v.next();return h.join(`\r
`)};function hi(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Gi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function dl(h){let v="";return ct(h,function(T,b){v+=b,v+=":",v+=T,v+=`\r
`}),v}function Ne(h,v,T){t:{for(b in T){var b=!1;break t}b=!0}b||(T=dl(T),typeof h=="string"?T!=null&&encodeURIComponent(String(T)):Qt(h,v,T))}function qt(h){ce.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(qt,ce);var Ma=/^https?$/i,Ls=["POST","PUT"];e=qt.prototype,e.Ha=function(h){this.J=h},e.ea=function(h,v,T,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():si.g(),this.v=this.o?tl(this.o):tl(si),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch(Q){Ac(this,Q);return}if(h=T||"",T=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var q in b)T.set(q,b[q]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const Q of b.keys())T.set(Q,b.get(Q));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(T.keys()).find(Q=>Q.toLowerCase()=="content-type"),q=d.FormData&&h instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Ls,v,void 0))||b||q||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,lt]of T)this.g.setRequestHeader(Q,lt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ks(this),this.u=!0,this.g.send(h),this.u=!1}catch(Q){Ac(this,Q)}};function Ac(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.m=5,Oa(h),fi(h)}function Oa(h){h.A||(h.A=!0,Kt(h,"complete"),Kt(h,"error"))}e.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,Kt(this,"complete"),Kt(this,"abort"),fi(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),fi(this,!0)),qt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Va(this):this.bb())},e.bb=function(){Va(this)};function Va(h){if(h.h&&typeof c<"u"&&(!h.v[1]||Pn(h)!=4||h.Z()!=2)){if(h.u&&Pn(h)==4)Xe(h.Ea,0,h);else if(Kt(h,"readystatechange"),Pn(h)==4){h.h=!1;try{const lt=h.Z();t:switch(lt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break t;default:v=!1}var T;if(!(T=v)){var b;if(b=lt===0){var q=String(h.D).match(xs)[1]||null;!q&&d.self&&d.self.location&&(q=d.self.location.protocol.slice(0,-1)),b=!Ma.test(q?q.toLowerCase():"")}T=b}if(T)Kt(h,"complete"),Kt(h,"success");else{h.m=6;try{var Q=2<Pn(h)?h.g.statusText:""}catch{Q=""}h.l=Q+" ["+h.Z()+"]",Oa(h)}}finally{fi(h)}}}}function fi(h,v){if(h.g){ks(h);const T=h.g,b=h.v[0]?()=>{}:null;h.g=null,h.v=null,v||Kt(h,"ready");try{T.onreadystatechange=b}catch{}}}function ks(h){h.I&&(d.clearTimeout(h.I),h.I=null)}e.isActive=function(){return!!this.g};function Pn(h){return h.g?h.g.readyState:0}e.Z=function(){try{return 2<Pn(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),ba(v)}};function bc(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function yd(h){const v={};h=(h.g&&2<=Pn(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<h.length;b++){if(X(h[b]))continue;var T=j(h[b]);const q=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const Q=v[q]||[];v[q]=Q,Q.push(T)}P(v,function(b){return b.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Us(h,v,T){return T&&T.internalChannelParams&&T.internalChannelParams[h]||v}function Na(h){this.Aa=0,this.i=[],this.j=new Cn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Us("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Us("baseRetryDelayMs",5e3,h),this.cb=Us("retryDelaySeedMs",1e4,h),this.Wa=Us("forwardChannelMaxRetries",2,h),this.wa=Us("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new Bi(h&&h.concurrentRequestLimit),this.Da=new Ns,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=Na.prototype,e.la=8,e.G=1,e.connect=function(h,v,T,b){ie(0),this.W=h,this.H=v||{},T&&b!==void 0&&(this.H.OSID=T,this.H.OAID=b),this.F=this.X,this.I=Pc(this,null,this.W),ka(this)};function ml(h){if(wc(h),h.G==3){var v=h.U++,T=yn(h.I);if(Qt(T,"SID",h.K),Qt(T,"RID",v),Qt(T,"TYPE","terminate"),js(h,T),v=new an(h,h.j,v),v.L=2,v.v=Ms(yn(T)),T=!1,d.navigator&&d.navigator.sendBeacon)try{T=d.navigator.sendBeacon(v.v.toString(),"")}catch{}!T&&d.Image&&(new Image().src=v.v,T=!0),T||(v.g=Mc(v.j,null),v.g.ea(v.v)),v.F=Date.now(),Is(v)}xc(h)}function La(h){h.g&&(Bs(h),h.g.cancel(),h.g=null)}function wc(h){La(h),h.u&&(d.clearTimeout(h.u),h.u=null),Ua(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&d.clearTimeout(h.s),h.s=null)}function ka(h){if(!Ca(h.h)&&!h.s){h.s=!0;var v=h.Ga;at||V(),ft||(at(),ft=!0),Lt.add(v,h),h.B=0}}function vd(h,v){return Ia(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=v.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=Ee(S(h.Ga,h,v),yl(h,h.B)),h.B++,!0)}e.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const q=new an(this,this.j,h);let Q=this.o;if(this.S&&(Q?(Q=R(Q),M(Q,this.S)):Q=this.S),this.m!==null||this.O||(q.H=Q,Q=null),this.P)t:{for(var v=0,T=0;T<this.i.length;T++){e:{var b=this.i[T];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break e}b=void 0}if(b===void 0)break;if(v+=b,4096<v){v=T;break t}if(v===4096||T===this.i.length-1){v=T+1;break t}}v=1e3}else v=1e3;v=Rc(this,q,v),T=yn(this.I),Qt(T,"RID",h),Qt(T,"CVER",22),this.D&&Qt(T,"X-HTTP-Session-Id",this.D),js(this,T),Q&&(this.O?v="headers="+encodeURIComponent(String(dl(Q)))+"&"+v:this.m&&Ne(T,this.m,Q)),Da(this.h,q),this.Ua&&Qt(T,"TYPE","init"),this.P?(Qt(T,"$req",v),Qt(T,"SID","null"),q.T=!0,Yn(q,T,null)):Yn(q,T,v),this.G=2}}else this.G==3&&(h?pl(this,h):this.i.length==0||Ca(this.h)||pl(this))};function pl(h,v){var T;v?T=v.l:T=h.U++;const b=yn(h.I);Qt(b,"SID",h.K),Qt(b,"RID",T),Qt(b,"AID",h.T),js(h,b),h.m&&h.o&&Ne(b,h.m,h.o),T=new an(h,h.j,T,h.B+1),h.m===null&&(T.H=h.o),v&&(h.i=v.D.concat(h.i)),v=Rc(h,T,1e3),T.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Da(h.h,T),Yn(T,b,v)}function js(h,v){h.H&&ct(h.H,function(T,b){Qt(v,b,T)}),h.l&&ll({},function(T,b){Qt(v,b,T)})}function Rc(h,v,T){T=Math.min(h.i.length,T);var b=h.l?S(h.l.Na,h.l,h):null;t:{var q=h.i;let Q=-1;for(;;){const lt=["count="+T];Q==-1?0<T?(Q=q[0].g,lt.push("ofs="+Q)):Q=0:lt.push("ofs="+Q);let kt=!0;for(let Ce=0;Ce<T;Ce++){let Ut=q[Ce].g;const Le=q[Ce].map;if(Ut-=Q,0>Ut)Q=Math.max(0,q[Ce].g-100),kt=!1;else try{ui(Le,lt,"req"+Ut+"_")}catch{b&&b(Le)}}if(kt){b=lt.join("&");break t}}}return h=h.i.splice(0,T),v.D=h,b}function Cc(h){if(!h.g&&!h.u){h.Y=1;var v=h.Fa;at||V(),ft||(at(),ft=!0),Lt.add(v,h),h.v=0}}function gl(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=Ee(S(h.Fa,h),yl(h,h.v)),h.v++,!0)}e.Fa=function(){if(this.u=null,Ic(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=Ee(S(this.ab,this),h)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ie(10),La(this),Ic(this))};function Bs(h){h.A!=null&&(d.clearTimeout(h.A),h.A=null)}function Ic(h){h.g=new an(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var v=yn(h.qa);Qt(v,"RID","rpc"),Qt(v,"SID",h.K),Qt(v,"AID",h.T),Qt(v,"CI",h.F?"0":"1"),!h.F&&h.ja&&Qt(v,"TO",h.ja),Qt(v,"TYPE","xmlhttp"),js(h,v),h.m&&h.o&&Ne(v,h.m,h.o),h.L&&(h.g.I=h.L);var T=h.g;h=h.ia,T.L=1,T.v=Ms(yn(v)),T.m=null,T.P=!0,ji(T,h)}e.Za=function(){this.C!=null&&(this.C=null,La(this),gl(this),ie(19))};function Ua(h){h.C!=null&&(d.clearTimeout(h.C),h.C=null)}function Dc(h,v){var T=null;if(h.g==v){Ua(h),Bs(h),h.g=null;var b=2}else if(al(h.h,v))T=v.D,on(h.h,v),b=1;else return;if(h.G!=0){if(v.o)if(b==1){T=v.m?v.m.length:0,v=Date.now()-v.F;var q=h.B;b=Er(),Kt(b,new Re(b,T)),ka(h)}else Cc(h);else if(q=v.s,q==3||q==0&&0<v.X||!(b==1&&vd(h,v)||b==2&&gl(h)))switch(T&&0<T.length&&(v=h.h,v.i=v.i.concat(T)),q){case 1:Ki(h,5);break;case 4:Ki(h,10);break;case 3:Ki(h,6);break;default:Ki(h,2)}}}function yl(h,v){let T=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(T*=2),T*v}function Ki(h,v){if(h.j.info("Error code "+v),v==2){var T=S(h.fb,h),b=h.Xa;const q=!b;b=new Se(b||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ps(b,"https"),Ms(b),q?Vs(b.toString(),T):$n(b.toString(),T)}else ie(2);h.G=0,h.l&&h.l.sa(v),xc(h),wc(h)}e.fb=function(h){h?(this.j.info("Successfully pinged google.com"),ie(2)):(this.j.info("Failed to ping google.com"),ie(1))};function xc(h){if(h.G=0,h.ka=[],h.l){const v=ol(h.h);(v.length!=0||h.i.length!=0)&&(O(h.ka,v),O(h.ka,h.i),h.h.i.length=0,B(h.i),h.i.length=0),h.l.ra()}}function Pc(h,v,T){var b=T instanceof Se?yn(T):new Se(T);if(b.g!="")v&&(b.g=v+"."+b.g),Rr(b,b.s);else{var q=d.location;b=q.protocol,v=v?v+"."+q.hostname:q.hostname,q=+q.port;var Q=new Se(null);b&&Ps(Q,b),v&&(Q.g=v),q&&Rr(Q,q),T&&(Q.l=T),b=Q}return T=h.D,v=h.ya,T&&v&&Qt(b,T,v),Qt(b,"VER",h.la),js(h,b),b}function Mc(h,v,T){if(v&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Ca&&!h.pa?new qt(new Cr({eb:T})):new qt(h.pa),v.Ha(h.J),v}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function Oc(){}e=Oc.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function ja(){}ja.prototype.g=function(h,v){return new ln(h,v)};function ln(h,v){ce.call(this),this.g=new Na(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(h?h["X-WebChannel-Client-Profile"]=v.va:h={"X-WebChannel-Client-Profile":v.va}),this.g.S=h,(h=v&&v.Sb)&&!X(h)&&(this.g.m=h),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!X(v)&&(this.g.D=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new di(this)}C(ln,ce),ln.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ln.prototype.close=function(){ml(this.g)},ln.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var T={};T.__data__=h,h=T}else this.u&&(T={},T.__data__=Kn(h),h=T);v.i.push(new Tc(v.Ya++,h)),v.G==3&&ka(v)},ln.prototype.N=function(){this.g.l=null,delete this.j,ml(this.g),delete this.g,ln.aa.N.call(this)};function Vc(h){ki.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){t:{for(const T in v){h=T;break t}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}C(Vc,ki);function Nc(){nl.call(this),this.status=1}C(Nc,nl);function di(h){this.g=h}C(di,Oc),di.prototype.ua=function(){Kt(this.g,"a")},di.prototype.ta=function(h){Kt(this.g,new Vc(h))},di.prototype.sa=function(h){Kt(this.g,new Nc)},di.prototype.ra=function(){Kt(this.g,"b")},ja.prototype.createWebChannel=ja.prototype.g,ln.prototype.send=ln.prototype.o,ln.prototype.open=ln.prototype.m,ln.prototype.close=ln.prototype.close,Xw=function(){return new ja},Qw=function(){return Er()},$w=ri,yg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},br.NO_ERROR=0,br.TIMEOUT=8,br.HTTP_ERROR=6,Zh=br,Ui.COMPLETE="complete",Yw=Ui,el.EventType=Li,Li.OPEN="a",Li.CLOSE="b",Li.ERROR="c",Li.MESSAGE="d",ce.prototype.listen=ce.prototype.K,mu=el,qt.prototype.listenOnce=qt.prototype.L,qt.prototype.getLastError=qt.prototype.Ka,qt.prototype.getLastErrorCode=qt.prototype.Ba,qt.prototype.getStatus=qt.prototype.Z,qt.prototype.getResponseJson=qt.prototype.Oa,qt.prototype.getResponseText=qt.prototype.oa,qt.prototype.send=qt.prototype.ea,qt.prototype.setWithCredentials=qt.prototype.Ha,Kw=qt}).apply(typeof Bh<"u"?Bh:typeof self<"u"?self:typeof window<"u"?window:{});const AS="@firebase/firestore",bS="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}en.UNAUTHENTICATED=new en(null),en.GOOGLE_CREDENTIALS=new en("google-credentials-uid"),en.FIRST_PARTY=new en("first-party-uid"),en.MOCK_USER=new en("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Go="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ha=new Ay("@firebase/firestore");function po(){return ha.logLevel}function ht(e,...t){if(ha.logLevel<=Vt.DEBUG){const n=t.map(Ry);ha.debug(`Firestore (${Go}): ${e}`,...n)}}function gr(e,...t){if(ha.logLevel<=Vt.ERROR){const n=t.map(Ry);ha.error(`Firestore (${Go}): ${e}`,...n)}}function Mo(e,...t){if(ha.logLevel<=Vt.WARN){const n=t.map(Ry);ha.warn(`Firestore (${Go}): ${e}`,...n)}}function Ry(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function At(e="Unexpected state"){const t=`FIRESTORE (${Go}) INTERNAL ASSERTION FAILED: `+e;throw gr(t),new Error(t)}function Gt(e,t){e||At()}function Rt(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class yt extends _r{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ww{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class sL{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(en.UNAUTHENTICATED))}shutdown(){}}class aL{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class oL{constructor(t){this.t=t,this.currentUser=en.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Gt(this.o===void 0);let r=this.i;const a=m=>this.i!==r?(r=this.i,n(m)):Promise.resolve();let l=new os;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new os,t.enqueueRetryable(()=>a(this.currentUser))};const c=()=>{const m=l;t.enqueueRetryable(async()=>{await m.promise,await a(this.currentUser)})},d=m=>{ht("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(m=>d(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?d(m):(ht("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new os)}},0),c()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==t?(ht("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Gt(typeof r.accessToken=="string"),new Ww(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Gt(t===null||typeof t=="string"),new en(t)}}class lL{constructor(t,n,r){this.l=t,this.h=n,this.P=r,this.type="FirstParty",this.user=en.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.T.set("Authorization",t),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class uL{constructor(t,n,r){this.l=t,this.h=n,this.P=r}getToken(){return Promise.resolve(new lL(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(en.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class wS{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class cL{constructor(t,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,zn(t)&&t.settings.appCheckToken&&(this.V=t.settings.appCheckToken)}start(t,n){Gt(this.o===void 0);const r=l=>{l.error!=null&&ht("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.R;return this.R=l.token,ht("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{t.enqueueRetryable(()=>r(l))};const a=l=>{ht("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>a(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?a(l):ht("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new wS(this.V));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Gt(typeof n.token=="string"),this.R=n.token,new wS(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hL(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zw(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jw{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=hL(40);for(let l=0;l<a.length;++l)r.length<20&&a[l]<n&&(r+=t.charAt(a[l]%62))}return r}}function Dt(e,t){return e<t?-1:e>t?1:0}function vg(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=e.codePointAt(n),a=t.codePointAt(n);if(r!==a){if(r<128&&a<128)return Dt(r,a);{const l=Zw(),c=fL(l.encode(RS(e,n)),l.encode(RS(t,n)));return c!==0?c:Dt(r,a)}}n+=r>65535?2:1}return Dt(e.length,t.length)}function RS(e,t){return e.codePointAt(t)>65535?e.substring(t,t+2):e.substring(t,t+1)}function fL(e,t){for(let n=0;n<e.length&&n<t.length;++n)if(e[n]!==t[n])return Dt(e[n],t[n]);return Dt(e.length,t.length)}function Oo(e,t,n){return e.length===t.length&&e.every((r,a)=>n(r,t[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CS=-62135596800,IS=1e6;class Me{static now(){return Me.fromMillis(Date.now())}static fromDate(t){return Me.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor((t-1e3*n)*IS);return new Me(n,r)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new yt(rt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new yt(rt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<CS)throw new yt(rt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new yt(rt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/IS}_compareTo(t){return this.seconds===t.seconds?Dt(this.nanoseconds,t.nanoseconds):Dt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-CS;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{static fromTimestamp(t){return new wt(t)}static min(){return new wt(new Me(0,0))}static max(){return new wt(new Me(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DS="__name__";class Ei{constructor(t,n,r){n===void 0?n=0:n>t.length&&At(),r===void 0?r=t.length-n:r>t.length-n&&At(),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return Ei.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Ei?t.forEach(r=>{n.push(r)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let a=0;a<r;a++){const l=Ei.compareSegments(t.get(a),n.get(a));if(l!==0)return l}return Dt(t.length,n.length)}static compareSegments(t,n){const r=Ei.isNumericId(t),a=Ei.isNumericId(n);return r&&!a?-1:!r&&a?1:r&&a?Ei.extractNumericId(t).compare(Ei.extractNumericId(n)):vg(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return as.fromString(t.substring(4,t.length-2))}}class me extends Ei{construct(t,n,r){return new me(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new yt(rt.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(a=>a.length>0))}return new me(n)}static emptyPath(){return new me([])}}const dL=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $e extends Ei{construct(t,n,r){return new $e(t,n,r)}static isValidIdentifier(t){return dL.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$e.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===DS}static keyField(){return new $e([DS])}static fromServerFormat(t){const n=[];let r="",a=0;const l=()=>{if(r.length===0)throw new yt(rt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let c=!1;for(;a<t.length;){const d=t[a];if(d==="\\"){if(a+1===t.length)throw new yt(rt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const m=t[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new yt(rt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=m,a+=2}else d==="`"?(c=!c,a++):d!=="."||c?(r+=d,a++):(l(),a++)}if(l(),c)throw new yt(rt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new $e(n)}static emptyPath(){return new $e([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(t){this.path=t}static fromPath(t){return new vt(me.fromString(t))}static fromName(t){return new vt(me.fromString(t).popFirst(5))}static empty(){return new vt(me.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&me.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return me.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new vt(new me(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uu=-1;function mL(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,a=wt.fromTimestamp(r===1e9?new Me(n+1,0):new Me(n,r));return new cs(a,vt.empty(),t)}function pL(e){return new cs(e.readTime,e.key,Uu)}class cs{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new cs(wt.min(),vt.empty(),Uu)}static max(){return new cs(wt.max(),vt.empty(),Uu)}}function gL(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=vt.comparator(e.documentKey,t.documentKey),n!==0?n:Dt(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class vL{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ko(e){if(e.code!==rt.FAILED_PRECONDITION||e.message!==yL)throw e;ht("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&At(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new et((r,a)=>{this.nextCallback=l=>{this.wrapSuccess(t,l).next(r,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(r,a)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof et?n:et.resolve(n)}catch(n){return et.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):et.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):et.reject(n)}static resolve(t){return new et((n,r)=>{n(t)})}static reject(t){return new et((n,r)=>{r(t)})}static waitFor(t){return new et((n,r)=>{let a=0,l=0,c=!1;t.forEach(d=>{++a,d.next(()=>{++l,c&&l===a&&n()},m=>r(m))}),c=!0,l===a&&n()})}static or(t){let n=et.resolve(!1);for(const r of t)n=n.next(a=>a?et.resolve(a):r());return n}static forEach(t,n){const r=[];return t.forEach((a,l)=>{r.push(n.call(this,a,l))}),this.waitFor(r)}static mapArray(t,n){return new et((r,a)=>{const l=t.length,c=new Array(l);let d=0;for(let m=0;m<l;m++){const p=m;n(t[p]).next(y=>{c[p]=y,++d,d===l&&r(c)},y=>a(y))}})}static doWhile(t,n){return new et((r,a)=>{const l=()=>{t()===!0?n().next(()=>{l()},a):r()};l()})}}function _L(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Yo(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kf{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this._e&&this._e(t),t}}Kf.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cy=-1;function Yf(e){return e==null}function Tf(e){return e===0&&1/e==-1/0}function TL(e){return typeof e=="number"&&Number.isInteger(e)&&!Tf(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tR="";function EL(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=xS(t)),t=SL(e.get(n),t);return xS(t)}function SL(e,t){let n=t;const r=e.length;for(let a=0;a<r;a++){const l=e.charAt(a);switch(l){case"\0":n+="";break;case tR:n+="";break;default:n+=l}}return n}function xS(e){return e+tR+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PS(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function ya(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function eR(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(t,n){this.comparator=t,this.root=n||Ye.EMPTY}insert(t,n){return new ue(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Ye.BLACK,null,null))}remove(t){return new ue(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ye.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(t,r.key);if(a===0)return n+r.left.size;a<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,r)=>(t(n,r),!1))}toString(){const t=[];return this.inorderTraversal((n,r)=>(t.push(`${n}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new zh(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new zh(this.root,t,this.comparator,!1)}getReverseIterator(){return new zh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new zh(this.root,t,this.comparator,!0)}}class zh{constructor(t,n,r,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!t.isEmpty();)if(l=n?r(t.key,n):1,n&&a&&(l*=-1),l<0)t=this.isReverse?t.left:t.right;else{if(l===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ye{constructor(t,n,r,a,l){this.key=t,this.value=n,this.color=r??Ye.RED,this.left=a??Ye.EMPTY,this.right=l??Ye.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,a,l){return new Ye(t??this.key,n??this.value,r??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let a=this;const l=r(t,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(t,n,r),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(t,n,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Ye.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,a=this;if(n(t,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(t,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(t,a.key)===0){if(a.right.isEmpty())return Ye.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(t,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ye.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ye.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw At();const t=this.left.check();if(t!==this.right.check())throw At();return t+(this.isRed()?0:1)}}Ye.EMPTY=null,Ye.RED=!0,Ye.BLACK=!1;Ye.EMPTY=new class{constructor(){this.size=0}get key(){throw At()}get value(){throw At()}get color(){throw At()}get left(){throw At()}get right(){throw At()}copy(t,n,r,a,l){return this}insert(t,n,r){return new Ye(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{constructor(t){this.comparator=t,this.data=new ue(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,r)=>(t(n),!1))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,t[1])>=0)return;n(a.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new MS(this.data.getIterator())}getIteratorFrom(t){return new MS(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(r=>{n=n.add(r)}),n}isEqual(t){if(!(t instanceof Oe)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=r.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Oe(this.comparator);return n.data=t,n}}class MS{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(t){this.fields=t,t.sort($e.comparator)}static empty(){return new Jn([])}unionWith(t){let n=new Oe($e.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new Jn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Oo(this.fields,t.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new nR("Invalid base64 string: "+l):l}}(t);return new Qe(n)}static fromUint8Array(t){const n=function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l}(t);return new Qe(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let a=0;a<n.length;a++)r[a]=n.charCodeAt(a);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Dt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Qe.EMPTY_BYTE_STRING=new Qe("");const AL=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function hs(e){if(Gt(!!e),typeof e=="string"){let t=0;const n=AL.exec(e);if(Gt(!!n),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),t=Number(a)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:_e(e.seconds),nanos:_e(e.nanos)}}function _e(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function fs(e){return typeof e=="string"?Qe.fromBase64String(e):Qe.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iR="server_timestamp",rR="__type__",sR="__previous_value__",aR="__local_write_time__";function Iy(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{})[rR])===null||n===void 0?void 0:n.stringValue)===iR}function $f(e){const t=e.mapValue.fields[sR];return Iy(t)?$f(t):t}function ju(e){const t=hs(e.mapValue.fields[aR].timestampValue);return new Me(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bL{constructor(t,n,r,a,l,c,d,m,p){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=m,this.useFetchStreams=p}}const Ef="(default)";class Bu{constructor(t,n){this.projectId=t,this.database=n||Ef}static empty(){return new Bu("","")}get isDefaultDatabase(){return this.database===Ef}isEqual(t){return t instanceof Bu&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oR="__type__",wL="__max__",Fh={mapValue:{}},lR="__vector__",Sf="value";function ds(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Iy(e)?4:CL(e)?9007199254740991:RL(e)?10:11:At()}function Pi(e,t){if(e===t)return!0;const n=ds(e);if(n!==ds(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return ju(e).isEqual(ju(t));case 3:return function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=hs(a.timestampValue),d=hs(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(a,l){return fs(a.bytesValue).isEqual(fs(l.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(a,l){return _e(a.geoPointValue.latitude)===_e(l.geoPointValue.latitude)&&_e(a.geoPointValue.longitude)===_e(l.geoPointValue.longitude)}(e,t);case 2:return function(a,l){if("integerValue"in a&&"integerValue"in l)return _e(a.integerValue)===_e(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=_e(a.doubleValue),d=_e(l.doubleValue);return c===d?Tf(c)===Tf(d):isNaN(c)&&isNaN(d)}return!1}(e,t);case 9:return Oo(e.arrayValue.values||[],t.arrayValue.values||[],Pi);case 10:case 11:return function(a,l){const c=a.mapValue.fields||{},d=l.mapValue.fields||{};if(PS(c)!==PS(d))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(d[m]===void 0||!Pi(c[m],d[m])))return!1;return!0}(e,t);default:return At()}}function zu(e,t){return(e.values||[]).find(n=>Pi(n,t))!==void 0}function Vo(e,t){if(e===t)return 0;const n=ds(e),r=ds(t);if(n!==r)return Dt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Dt(e.booleanValue,t.booleanValue);case 2:return function(l,c){const d=_e(l.integerValue||l.doubleValue),m=_e(c.integerValue||c.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1}(e,t);case 3:return OS(e.timestampValue,t.timestampValue);case 4:return OS(ju(e),ju(t));case 5:return vg(e.stringValue,t.stringValue);case 6:return function(l,c){const d=fs(l),m=fs(c);return d.compareTo(m)}(e.bytesValue,t.bytesValue);case 7:return function(l,c){const d=l.split("/"),m=c.split("/");for(let p=0;p<d.length&&p<m.length;p++){const y=Dt(d[p],m[p]);if(y!==0)return y}return Dt(d.length,m.length)}(e.referenceValue,t.referenceValue);case 8:return function(l,c){const d=Dt(_e(l.latitude),_e(c.latitude));return d!==0?d:Dt(_e(l.longitude),_e(c.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return VS(e.arrayValue,t.arrayValue);case 10:return function(l,c){var d,m,p,y;const _=l.fields||{},S=c.fields||{},w=(d=_[Sf])===null||d===void 0?void 0:d.arrayValue,C=(m=S[Sf])===null||m===void 0?void 0:m.arrayValue,B=Dt(((p=w==null?void 0:w.values)===null||p===void 0?void 0:p.length)||0,((y=C==null?void 0:C.values)===null||y===void 0?void 0:y.length)||0);return B!==0?B:VS(w,C)}(e.mapValue,t.mapValue);case 11:return function(l,c){if(l===Fh.mapValue&&c===Fh.mapValue)return 0;if(l===Fh.mapValue)return 1;if(c===Fh.mapValue)return-1;const d=l.fields||{},m=Object.keys(d),p=c.fields||{},y=Object.keys(p);m.sort(),y.sort();for(let _=0;_<m.length&&_<y.length;++_){const S=vg(m[_],y[_]);if(S!==0)return S;const w=Vo(d[m[_]],p[y[_]]);if(w!==0)return w}return Dt(m.length,y.length)}(e.mapValue,t.mapValue);default:throw At()}}function OS(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Dt(e,t);const n=hs(e),r=hs(t),a=Dt(n.seconds,r.seconds);return a!==0?a:Dt(n.nanos,r.nanos)}function VS(e,t){const n=e.values||[],r=t.values||[];for(let a=0;a<n.length&&a<r.length;++a){const l=Vo(n[a],r[a]);if(l)return l}return Dt(n.length,r.length)}function No(e){return _g(e)}function _g(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const r=hs(n);return`time(${r.seconds},${r.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return fs(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return vt.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let r="[",a=!0;for(const l of n.values||[])a?a=!1:r+=",",r+=_g(l);return r+"]"}(e.arrayValue):"mapValue"in e?function(n){const r=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const c of r)l?l=!1:a+=",",a+=`${c}:${_g(n.fields[c])}`;return a+"}"}(e.mapValue):At()}function Jh(e){switch(ds(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=$f(e);return t?16+Jh(t):16;case 5:return 2*e.stringValue.length;case 6:return fs(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((a,l)=>a+Jh(l),0)}(e.arrayValue);case 10:case 11:return function(r){let a=0;return ya(r.fields,(l,c)=>{a+=l.length+Jh(c)}),a}(e.mapValue);default:throw At()}}function Tg(e){return!!e&&"integerValue"in e}function Dy(e){return!!e&&"arrayValue"in e}function NS(e){return!!e&&"nullValue"in e}function LS(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function tf(e){return!!e&&"mapValue"in e}function RL(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{})[oR])===null||n===void 0?void 0:n.stringValue)===lR}function Eu(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return ya(e.mapValue.fields,(n,r)=>t.mapValue.fields[n]=Eu(r)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Eu(e.arrayValue.values[n]);return t}return Object.assign({},e)}function CL(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===wL}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(t){this.value=t}static empty(){return new Fn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!tf(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Eu(n)}setAll(t){let n=$e.emptyPath(),r={},a=[];t.forEach((c,d)=>{if(!n.isImmediateParentOf(d)){const m=this.getFieldsMap(n);this.applyChanges(m,r,a),r={},a=[],n=d.popLast()}c?r[d.lastSegment()]=Eu(c):a.push(d.lastSegment())});const l=this.getFieldsMap(n);this.applyChanges(l,r,a)}delete(t){const n=this.field(t.popLast());tf(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Pi(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let a=n.mapValue.fields[t.get(r)];tf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=a),n=a}return n.mapValue.fields}applyChanges(t,n,r){ya(n,(a,l)=>t[a]=l);for(const a of r)delete t[a]}clone(){return new Fn(Eu(this.value))}}function uR(e){const t=[];return ya(e.fields,(n,r)=>{const a=new $e([n]);if(tf(r)){const l=uR(r.mapValue).fields;if(l.length===0)t.push(a);else for(const c of l)t.push(a.child(c))}else t.push(a)}),new Jn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(t,n,r,a,l,c,d){this.key=t,this.documentType=n,this.version=r,this.readTime=a,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(t){return new nn(t,0,wt.min(),wt.min(),wt.min(),Fn.empty(),0)}static newFoundDocument(t,n,r,a){return new nn(t,1,n,wt.min(),r,a,0)}static newNoDocument(t,n){return new nn(t,2,n,wt.min(),wt.min(),Fn.empty(),0)}static newUnknownDocument(t,n){return new nn(t,3,n,wt.min(),wt.min(),Fn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(wt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Fn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Fn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=wt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof nn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new nn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af{constructor(t,n){this.position=t,this.inclusive=n}}function kS(e,t,n){let r=0;for(let a=0;a<e.position.length;a++){const l=t[a],c=e.position[a];if(l.field.isKeyField()?r=vt.comparator(vt.fromName(c.referenceValue),n.key):r=Vo(c,n.data.field(l.field)),l.dir==="desc"&&(r*=-1),r!==0)break}return r}function US(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Pi(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(t,n="asc"){this.field=t,this.dir=n}}function IL(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR{}class Pe extends cR{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new xL(t,n,r):n==="array-contains"?new OL(t,r):n==="in"?new VL(t,r):n==="not-in"?new NL(t,r):n==="array-contains-any"?new LL(t,r):new Pe(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new PL(t,r):new ML(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Vo(n,this.value)):n!==null&&ds(this.value)===ds(n)&&this.matchesComparison(Vo(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return At()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Mi extends cR{constructor(t,n){super(),this.filters=t,this.op=n,this.ce=null}static create(t,n){return new Mi(t,n)}matches(t){return hR(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function hR(e){return e.op==="and"}function fR(e){return DL(e)&&hR(e)}function DL(e){for(const t of e.filters)if(t instanceof Mi)return!1;return!0}function Eg(e){if(e instanceof Pe)return e.field.canonicalString()+e.op.toString()+No(e.value);if(fR(e))return e.filters.map(t=>Eg(t)).join(",");{const t=e.filters.map(n=>Eg(n)).join(",");return`${e.op}(${t})`}}function dR(e,t){return e instanceof Pe?function(r,a){return a instanceof Pe&&r.op===a.op&&r.field.isEqual(a.field)&&Pi(r.value,a.value)}(e,t):e instanceof Mi?function(r,a){return a instanceof Mi&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce((l,c,d)=>l&&dR(c,a.filters[d]),!0):!1}(e,t):void At()}function mR(e){return e instanceof Pe?function(n){return`${n.field.canonicalString()} ${n.op} ${No(n.value)}`}(e):e instanceof Mi?function(n){return n.op.toString()+" {"+n.getFilters().map(mR).join(" ,")+"}"}(e):"Filter"}class xL extends Pe{constructor(t,n,r){super(t,n,r),this.key=vt.fromName(r.referenceValue)}matches(t){const n=vt.comparator(t.key,this.key);return this.matchesComparison(n)}}class PL extends Pe{constructor(t,n){super(t,"in",n),this.keys=pR("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class ML extends Pe{constructor(t,n){super(t,"not-in",n),this.keys=pR("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function pR(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>vt.fromName(r.referenceValue))}class OL extends Pe{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Dy(n)&&zu(n.arrayValue,this.value)}}class VL extends Pe{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&zu(this.value.arrayValue,n)}}class NL extends Pe{constructor(t,n){super(t,"not-in",n)}matches(t){if(zu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!zu(this.value.arrayValue,n)}}class LL extends Pe{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Dy(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>zu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kL{constructor(t,n=null,r=[],a=[],l=null,c=null,d=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=a,this.limit=l,this.startAt=c,this.endAt=d,this.le=null}}function jS(e,t=null,n=[],r=[],a=null,l=null,c=null){return new kL(e,t,n,r,a,l,c)}function xy(e){const t=Rt(e);if(t.le===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(r=>Eg(r)).join(","),n+="|ob:",n+=t.orderBy.map(r=>function(l){return l.field.canonicalString()+l.dir}(r)).join(","),Yf(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>No(r)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>No(r)).join(",")),t.le=n}return t.le}function Py(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!IL(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!dR(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!US(e.startAt,t.startAt)&&US(e.endAt,t.endAt)}function Sg(e){return vt.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qf{constructor(t,n=null,r=[],a=[],l=null,c="F",d=null,m=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=a,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=m,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function UL(e,t,n,r,a,l,c,d){return new Qf(e,t,n,r,a,l,c,d)}function My(e){return new Qf(e)}function BS(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function jL(e){return e.collectionGroup!==null}function Su(e){const t=Rt(e);if(t.he===null){t.he=[];const n=new Set;for(const l of t.explicitOrderBy)t.he.push(l),n.add(l.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new Oe($e.comparator);return c.filters.forEach(m=>{m.getFlattenedFilters().forEach(p=>{p.isInequality()&&(d=d.add(p.field))})}),d})(t).forEach(l=>{n.has(l.canonicalString())||l.isKeyField()||t.he.push(new bf(l,r))}),n.has($e.keyField().canonicalString())||t.he.push(new bf($e.keyField(),r))}return t.he}function Ri(e){const t=Rt(e);return t.Pe||(t.Pe=BL(t,Su(e))),t.Pe}function BL(e,t){if(e.limitType==="F")return jS(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(a=>{const l=a.dir==="desc"?"asc":"desc";return new bf(a.field,l)});const n=e.endAt?new Af(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Af(e.startAt.position,e.startAt.inclusive):null;return jS(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Ag(e,t,n){return new Qf(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Xf(e,t){return Py(Ri(e),Ri(t))&&e.limitType===t.limitType}function gR(e){return`${xy(Ri(e))}|lt:${e.limitType}`}function go(e){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(a=>mR(a)).join(", ")}]`),Yf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(a=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(a)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(a=>No(a)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(a=>No(a)).join(",")),`Target(${r})`}(Ri(e))}; limitType=${e.limitType})`}function Wf(e,t){return t.isFoundDocument()&&function(r,a){const l=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(l):vt.isDocumentKey(r.path)?r.path.isEqual(l):r.path.isImmediateParentOf(l)}(e,t)&&function(r,a){for(const l of Su(r))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0}(e,t)&&function(r,a){for(const l of r.filters)if(!l.matches(a))return!1;return!0}(e,t)&&function(r,a){return!(r.startAt&&!function(c,d,m){const p=kS(c,d,m);return c.inclusive?p<=0:p<0}(r.startAt,Su(r),a)||r.endAt&&!function(c,d,m){const p=kS(c,d,m);return c.inclusive?p>=0:p>0}(r.endAt,Su(r),a))}(e,t)}function zL(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function yR(e){return(t,n)=>{let r=!1;for(const a of Su(e)){const l=FL(a,t,n);if(l!==0)return l;r=r||a.field.isKeyField()}return 0}}function FL(e,t,n){const r=e.field.isKeyField()?vt.comparator(t.key,n.key):function(l,c,d){const m=c.data.field(l),p=d.data.field(l);return m!==null&&p!==null?Vo(m,p):At()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return At()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[a,l]of r)if(this.equalsFn(a,t))return l}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),a=this.inner[r];if(a===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return void(a[l]=[t,n]);a.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],t))return r.length===1?delete this.inner[n]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(t){ya(this.inner,(n,r)=>{for(const[a,l]of r)t(a,l)})}isEmpty(){return eR(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HL=new ue(vt.comparator);function yr(){return HL}const vR=new ue(vt.comparator);function pu(...e){let t=vR;for(const n of e)t=t.insert(n.key,n);return t}function _R(e){let t=vR;return e.forEach((n,r)=>t=t.insert(n,r.overlayedDocument)),t}function oa(){return Au()}function TR(){return Au()}function Au(){return new va(e=>e.toString(),(e,t)=>e.isEqual(t))}const qL=new ue(vt.comparator),GL=new Oe(vt.comparator);function Nt(...e){let t=GL;for(const n of e)t=t.add(n);return t}const KL=new Oe(Dt);function YL(){return KL}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oy(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Tf(t)?"-0":t}}function ER(e){return{integerValue:""+e}}function $L(e,t){return TL(t)?ER(t):Oy(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zf{constructor(){this._=void 0}}function QL(e,t,n){return e instanceof wf?function(a,l){const c={fields:{[rR]:{stringValue:iR},[aR]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&Iy(l)&&(l=$f(l)),l&&(c.fields[sR]=l),{mapValue:c}}(n,t):e instanceof Lo?AR(e,t):e instanceof Fu?bR(e,t):function(a,l){const c=SR(a,l),d=zS(c)+zS(a.Ie);return Tg(c)&&Tg(a.Ie)?ER(d):Oy(a.serializer,d)}(e,t)}function XL(e,t,n){return e instanceof Lo?AR(e,t):e instanceof Fu?bR(e,t):n}function SR(e,t){return e instanceof Rf?function(r){return Tg(r)||function(l){return!!l&&"doubleValue"in l}(r)}(t)?t:{integerValue:0}:null}class wf extends Zf{}class Lo extends Zf{constructor(t){super(),this.elements=t}}function AR(e,t){const n=wR(t);for(const r of e.elements)n.some(a=>Pi(a,r))||n.push(r);return{arrayValue:{values:n}}}class Fu extends Zf{constructor(t){super(),this.elements=t}}function bR(e,t){let n=wR(t);for(const r of e.elements)n=n.filter(a=>!Pi(a,r));return{arrayValue:{values:n}}}class Rf extends Zf{constructor(t,n){super(),this.serializer=t,this.Ie=n}}function zS(e){return _e(e.integerValue||e.doubleValue)}function wR(e){return Dy(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WL{constructor(t,n){this.field=t,this.transform=n}}function ZL(e,t){return e.field.isEqual(t.field)&&function(r,a){return r instanceof Lo&&a instanceof Lo||r instanceof Fu&&a instanceof Fu?Oo(r.elements,a.elements,Pi):r instanceof Rf&&a instanceof Rf?Pi(r.Ie,a.Ie):r instanceof wf&&a instanceof wf}(e.transform,t.transform)}class JL{constructor(t,n){this.version=t,this.transformResults=n}}class cr{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new cr}static exists(t){return new cr(void 0,t)}static updateTime(t){return new cr(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function ef(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class Jf{}function RR(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new IR(e.key,cr.none()):new ic(e.key,e.data,cr.none());{const n=e.data,r=Fn.empty();let a=new Oe($e.comparator);for(let l of t.fields)if(!a.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?r.delete(l):r.set(l,c),a=a.add(l)}return new _a(e.key,r,new Jn(a.toArray()),cr.none())}}function tk(e,t,n){e instanceof ic?function(a,l,c){const d=a.value.clone(),m=HS(a.fieldTransforms,l,c.transformResults);d.setAll(m),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(e,t,n):e instanceof _a?function(a,l,c){if(!ef(a.precondition,l))return void l.convertToUnknownDocument(c.version);const d=HS(a.fieldTransforms,l,c.transformResults),m=l.data;m.setAll(CR(a)),m.setAll(d),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()}(e,t,n):function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,t,n)}function bu(e,t,n,r){return e instanceof ic?function(l,c,d,m){if(!ef(l.precondition,c))return d;const p=l.value.clone(),y=qS(l.fieldTransforms,m,c);return p.setAll(y),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null}(e,t,n,r):e instanceof _a?function(l,c,d,m){if(!ef(l.precondition,c))return d;const p=qS(l.fieldTransforms,m,c),y=c.data;return y.setAll(CR(l)),y.setAll(p),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(_=>_.field))}(e,t,n,r):function(l,c,d){return ef(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d}(e,t,n)}function ek(e,t){let n=null;for(const r of e.fieldTransforms){const a=t.data.field(r.field),l=SR(r.transform,a||null);l!=null&&(n===null&&(n=Fn.empty()),n.set(r.field,l))}return n||null}function FS(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&Oo(r,a,(l,c)=>ZL(l,c))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class ic extends Jf{constructor(t,n,r,a=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class _a extends Jf{constructor(t,n,r,a,l=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function CR(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function HS(e,t,n){const r=new Map;Gt(e.length===n.length);for(let a=0;a<n.length;a++){const l=e[a],c=l.transform,d=t.data.field(l.field);r.set(l.field,XL(c,d,n[a]))}return r}function qS(e,t,n){const r=new Map;for(const a of e){const l=a.transform,c=n.data.field(a.field);r.set(a.field,QL(l,c,t))}return r}class IR extends Jf{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class nk extends Jf{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ik{constructor(t,n,r,a){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(t.key)&&tk(l,t,r[a])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=bu(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=bu(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=TR();return this.mutations.forEach(a=>{const l=t.get(a.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=n.has(a.key)?null:d;const m=RR(c,d);m!==null&&r.set(a.key,m),c.isValidDocument()||c.convertToNoDocument(wt.min())}),r}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),Nt())}isEqual(t){return this.batchId===t.batchId&&Oo(this.mutations,t.mutations,(n,r)=>FS(n,r))&&Oo(this.baseMutations,t.baseMutations,(n,r)=>FS(n,r))}}class Vy{constructor(t,n,r,a){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=a}static from(t,n,r){Gt(t.mutations.length===r.length);let a=function(){return qL}();const l=t.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,r[c].version);return new Vy(t,n,r,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rk{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sk{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var we,Bt;function ak(e){switch(e){case rt.OK:return At();case rt.CANCELLED:case rt.UNKNOWN:case rt.DEADLINE_EXCEEDED:case rt.RESOURCE_EXHAUSTED:case rt.INTERNAL:case rt.UNAVAILABLE:case rt.UNAUTHENTICATED:return!1;case rt.INVALID_ARGUMENT:case rt.NOT_FOUND:case rt.ALREADY_EXISTS:case rt.PERMISSION_DENIED:case rt.FAILED_PRECONDITION:case rt.ABORTED:case rt.OUT_OF_RANGE:case rt.UNIMPLEMENTED:case rt.DATA_LOSS:return!0;default:return At()}}function DR(e){if(e===void 0)return gr("GRPC error has no .code"),rt.UNKNOWN;switch(e){case we.OK:return rt.OK;case we.CANCELLED:return rt.CANCELLED;case we.UNKNOWN:return rt.UNKNOWN;case we.DEADLINE_EXCEEDED:return rt.DEADLINE_EXCEEDED;case we.RESOURCE_EXHAUSTED:return rt.RESOURCE_EXHAUSTED;case we.INTERNAL:return rt.INTERNAL;case we.UNAVAILABLE:return rt.UNAVAILABLE;case we.UNAUTHENTICATED:return rt.UNAUTHENTICATED;case we.INVALID_ARGUMENT:return rt.INVALID_ARGUMENT;case we.NOT_FOUND:return rt.NOT_FOUND;case we.ALREADY_EXISTS:return rt.ALREADY_EXISTS;case we.PERMISSION_DENIED:return rt.PERMISSION_DENIED;case we.FAILED_PRECONDITION:return rt.FAILED_PRECONDITION;case we.ABORTED:return rt.ABORTED;case we.OUT_OF_RANGE:return rt.OUT_OF_RANGE;case we.UNIMPLEMENTED:return rt.UNIMPLEMENTED;case we.DATA_LOSS:return rt.DATA_LOSS;default:return At()}}(Bt=we||(we={}))[Bt.OK=0]="OK",Bt[Bt.CANCELLED=1]="CANCELLED",Bt[Bt.UNKNOWN=2]="UNKNOWN",Bt[Bt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Bt[Bt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Bt[Bt.NOT_FOUND=5]="NOT_FOUND",Bt[Bt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Bt[Bt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Bt[Bt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Bt[Bt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Bt[Bt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Bt[Bt.ABORTED=10]="ABORTED",Bt[Bt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Bt[Bt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Bt[Bt.INTERNAL=13]="INTERNAL",Bt[Bt.UNAVAILABLE=14]="UNAVAILABLE",Bt[Bt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ok=new as([4294967295,4294967295],0);function GS(e){const t=Zw().encode(e),n=new Gw;return n.update(t),new Uint8Array(n.digest())}function KS(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),a=t.getUint32(8,!0),l=t.getUint32(12,!0);return[new as([n,r],0),new as([a,l],0)]}class Ny{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new gu(`Invalid padding: ${n}`);if(r<0)throw new gu(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new gu(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new gu(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*t.length-n,this.de=as.fromNumber(this.Ee)}Ae(t,n,r){let a=t.add(n.multiply(as.fromNumber(r)));return a.compare(ok)===1&&(a=new as([a.getBits(0),a.getBits(1)],0)),a.modulo(this.de).toNumber()}Re(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.Ee===0)return!1;const n=GS(t),[r,a]=KS(n);for(let l=0;l<this.hashCount;l++){const c=this.Ae(r,a,l);if(!this.Re(c))return!1}return!0}static create(t,n,r){const a=t%8==0?0:8-t%8,l=new Uint8Array(Math.ceil(t/8)),c=new Ny(l,a,n);return r.forEach(d=>c.insert(d)),c}insert(t){if(this.Ee===0)return;const n=GS(t),[r,a]=KS(n);for(let l=0;l<this.hashCount;l++){const c=this.Ae(r,a,l);this.Ve(c)}}Ve(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class gu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td{constructor(t,n,r,a,l){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const a=new Map;return a.set(t,rc.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new td(wt.min(),a,new ue(Dt),yr(),Nt())}}class rc{constructor(t,n,r,a,l){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new rc(r,n,Nt(),Nt(),Nt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(t,n,r,a){this.me=t,this.removedTargetIds=n,this.key=r,this.fe=a}}class xR{constructor(t,n){this.targetId=t,this.ge=n}}class PR{constructor(t,n,r=Qe.EMPTY_BYTE_STRING,a=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=a}}class YS{constructor(){this.pe=0,this.ye=$S(),this.we=Qe.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(t){t.approximateByteSize()>0&&(this.be=!0,this.we=t)}Fe(){let t=Nt(),n=Nt(),r=Nt();return this.ye.forEach((a,l)=>{switch(l){case 0:t=t.add(a);break;case 2:n=n.add(a);break;case 1:r=r.add(a);break;default:At()}}),new rc(this.we,this.Se,t,n,r)}Me(){this.be=!1,this.ye=$S()}xe(t,n){this.be=!0,this.ye=this.ye.insert(t,n)}Oe(t){this.be=!0,this.ye=this.ye.remove(t)}Ne(){this.pe+=1}Be(){this.pe-=1,Gt(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class lk{constructor(t){this.ke=t,this.qe=new Map,this.Qe=yr(),this.$e=Hh(),this.Ue=Hh(),this.Ke=new ue(Dt)}We(t){for(const n of t.me)t.fe&&t.fe.isFoundDocument()?this.Ge(n,t.fe):this.ze(n,t.key,t.fe);for(const n of t.removedTargetIds)this.ze(n,t.key,t.fe)}je(t){this.forEachTarget(t,n=>{const r=this.He(n);switch(t.state){case 0:this.Je(n)&&r.Ce(t.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(t.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(n);break;case 3:this.Je(n)&&(r.Le(),r.Ce(t.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),r.Ce(t.resumeToken));break;default:At()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.qe.forEach((r,a)=>{this.Je(a)&&n(a)})}Ze(t){const n=t.targetId,r=t.ge.count,a=this.Xe(n);if(a){const l=a.target;if(Sg(l))if(r===0){const c=new vt(l.path);this.ze(n,c,nn.newNoDocument(c,wt.min()))}else Gt(r===1);else{const c=this.et(n);if(c!==r){const d=this.tt(t),m=d?this.nt(d,t,c):1;if(m!==0){this.Ye(n);const p=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,p)}}}}}tt(t){const n=t.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:l=0}=n;let c,d;try{c=fs(r).toUint8Array()}catch(m){if(m instanceof nR)return Mo("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{d=new Ny(c,a,l)}catch(m){return Mo(m instanceof gu?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return d.Ee===0?null:d}nt(t,n,r){return n.ge.count===r-this.st(t,n.targetId)?0:2}st(t,n){const r=this.ke.getRemoteKeysForTarget(n);let a=0;return r.forEach(l=>{const c=this.ke.it(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;t.mightContain(d)||(this.ze(n,l,null),a++)}),a}ot(t){const n=new Map;this.qe.forEach((l,c)=>{const d=this.Xe(c);if(d){if(l.current&&Sg(d.target)){const m=new vt(d.target.path);this._t(m).has(c)||this.ut(c,m)||this.ze(c,m,nn.newNoDocument(m,t))}l.ve&&(n.set(c,l.Fe()),l.Me())}});let r=Nt();this.Ue.forEach((l,c)=>{let d=!0;c.forEachWhile(m=>{const p=this.Xe(m);return!p||p.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(r=r.add(l))}),this.Qe.forEach((l,c)=>c.setReadTime(t));const a=new td(t,n,this.Ke,this.Qe,r);return this.Qe=yr(),this.$e=Hh(),this.Ue=Hh(),this.Ke=new ue(Dt),a}Ge(t,n){if(!this.Je(t))return;const r=this.ut(t,n.key)?2:0;this.He(t).xe(n.key,r),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(t)),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(t))}ze(t,n,r){if(!this.Je(t))return;const a=this.He(t);this.ut(t,n)?a.xe(n,1):a.Oe(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(t)),this.Ue=this.Ue.insert(n,this.ct(n).add(t)),r&&(this.Qe=this.Qe.insert(n,r))}removeTarget(t){this.qe.delete(t)}et(t){const n=this.He(t).Fe();return this.ke.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ne(t){this.He(t).Ne()}He(t){let n=this.qe.get(t);return n||(n=new YS,this.qe.set(t,n)),n}ct(t){let n=this.Ue.get(t);return n||(n=new Oe(Dt),this.Ue=this.Ue.insert(t,n)),n}_t(t){let n=this.$e.get(t);return n||(n=new Oe(Dt),this.$e=this.$e.insert(t,n)),n}Je(t){const n=this.Xe(t)!==null;return n||ht("WatchChangeAggregator","Detected inactive target",t),n}Xe(t){const n=this.qe.get(t);return n&&n.De?null:this.ke.lt(t)}Ye(t){this.qe.set(t,new YS),this.ke.getRemoteKeysForTarget(t).forEach(n=>{this.ze(t,n,null)})}ut(t,n){return this.ke.getRemoteKeysForTarget(t).has(n)}}function Hh(){return new ue(vt.comparator)}function $S(){return new ue(vt.comparator)}const uk={asc:"ASCENDING",desc:"DESCENDING"},ck={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},hk={and:"AND",or:"OR"};class fk{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function bg(e,t){return e.useProto3Json||Yf(t)?t:{value:t}}function Cf(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function MR(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function dk(e,t){return Cf(e,t.toTimestamp())}function Ci(e){return Gt(!!e),wt.fromTimestamp(function(n){const r=hs(n);return new Me(r.seconds,r.nanos)}(e))}function Ly(e,t){return wg(e,t).canonicalString()}function wg(e,t){const n=function(a){return new me(["projects",a.projectId,"databases",a.database])}(e).child("documents");return t===void 0?n:n.child(t)}function OR(e){const t=me.fromString(e);return Gt(UR(t)),t}function Rg(e,t){return Ly(e.databaseId,t.path)}function jp(e,t){const n=OR(t);if(n.get(1)!==e.databaseId.projectId)throw new yt(rt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new yt(rt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new vt(NR(n))}function VR(e,t){return Ly(e.databaseId,t)}function mk(e){const t=OR(e);return t.length===4?me.emptyPath():NR(t)}function Cg(e){return new me(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function NR(e){return Gt(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function QS(e,t,n){return{name:Rg(e,t),fields:n.value.mapValue.fields}}function pk(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:At()}(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],l=function(p,y){return p.useProto3Json?(Gt(y===void 0||typeof y=="string"),Qe.fromBase64String(y||"")):(Gt(y===void 0||y instanceof Buffer||y instanceof Uint8Array),Qe.fromUint8Array(y||new Uint8Array))}(e,t.targetChange.resumeToken),c=t.targetChange.cause,d=c&&function(p){const y=p.code===void 0?rt.UNKNOWN:DR(p.code);return new yt(y,p.message||"")}(c);n=new PR(r,a,l,d||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const a=jp(e,r.document.name),l=Ci(r.document.updateTime),c=r.document.createTime?Ci(r.document.createTime):wt.min(),d=new Fn({mapValue:{fields:r.document.fields}}),m=nn.newFoundDocument(a,l,c,d),p=r.targetIds||[],y=r.removedTargetIds||[];n=new nf(p,y,m.key,m)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const a=jp(e,r.document),l=r.readTime?Ci(r.readTime):wt.min(),c=nn.newNoDocument(a,l),d=r.removedTargetIds||[];n=new nf([],d,c.key,c)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const a=jp(e,r.document),l=r.removedTargetIds||[];n=new nf([],l,a,null)}else{if(!("filter"in t))return At();{t.filter;const r=t.filter;r.targetId;const{count:a=0,unchangedNames:l}=r,c=new sk(a,l),d=r.targetId;n=new xR(d,c)}}return n}function gk(e,t){let n;if(t instanceof ic)n={update:QS(e,t.key,t.value)};else if(t instanceof IR)n={delete:Rg(e,t.key)};else if(t instanceof _a)n={update:QS(e,t.key,t.data),updateMask:wk(t.fieldMask)};else{if(!(t instanceof nk))return At();n={verify:Rg(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(r=>function(l,c){const d=c.transform;if(d instanceof wf)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Lo)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Fu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Rf)return{fieldPath:c.field.canonicalString(),increment:d.Ie};throw At()}(0,r))),t.precondition.isNone||(n.currentDocument=function(a,l){return l.updateTime!==void 0?{updateTime:dk(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:At()}(e,t.precondition)),n}function yk(e,t){return e&&e.length>0?(Gt(t!==void 0),e.map(n=>function(a,l){let c=a.updateTime?Ci(a.updateTime):Ci(l);return c.isEqual(wt.min())&&(c=Ci(l)),new JL(c,a.transformResults||[])}(n,t))):[]}function vk(e,t){return{documents:[VR(e,t.path)]}}function _k(e,t){const n={structuredQuery:{}},r=t.path;let a;t.collectionGroup!==null?(a=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(a=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=VR(e,a);const l=function(p){if(p.length!==0)return kR(Mi.create(p,"and"))}(t.filters);l&&(n.structuredQuery.where=l);const c=function(p){if(p.length!==0)return p.map(y=>function(S){return{field:yo(S.field),direction:Sk(S.dir)}}(y))}(t.orderBy);c&&(n.structuredQuery.orderBy=c);const d=bg(e,t.limit);return d!==null&&(n.structuredQuery.limit=d),t.startAt&&(n.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(t.endAt)),{ht:n,parent:a}}function Tk(e){let t=mk(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let a=null;if(r>0){Gt(r===1);const y=n.from[0];y.allDescendants?a=y.collectionId:t=t.child(y.collectionId)}let l=[];n.where&&(l=function(_){const S=LR(_);return S instanceof Mi&&fR(S)?S.getFilters():[S]}(n.where));let c=[];n.orderBy&&(c=function(_){return _.map(S=>function(C){return new bf(vo(C.field),function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(S))}(n.orderBy));let d=null;n.limit&&(d=function(_){let S;return S=typeof _=="object"?_.value:_,Yf(S)?null:S}(n.limit));let m=null;n.startAt&&(m=function(_){const S=!!_.before,w=_.values||[];return new Af(w,S)}(n.startAt));let p=null;return n.endAt&&(p=function(_){const S=!_.before,w=_.values||[];return new Af(w,S)}(n.endAt)),UL(t,a,c,l,d,"F",m,p)}function Ek(e,t){const n=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return At()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function LR(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=vo(n.unaryFilter.field);return Pe.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=vo(n.unaryFilter.field);return Pe.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=vo(n.unaryFilter.field);return Pe.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=vo(n.unaryFilter.field);return Pe.create(c,"!=",{nullValue:"NULL_VALUE"});default:return At()}}(e):e.fieldFilter!==void 0?function(n){return Pe.create(vo(n.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return At()}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return Mi.create(n.compositeFilter.filters.map(r=>LR(r)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return At()}}(n.compositeFilter.op))}(e):At()}function Sk(e){return uk[e]}function Ak(e){return ck[e]}function bk(e){return hk[e]}function yo(e){return{fieldPath:e.canonicalString()}}function vo(e){return $e.fromServerFormat(e.fieldPath)}function kR(e){return e instanceof Pe?function(n){if(n.op==="=="){if(LS(n.value))return{unaryFilter:{field:yo(n.field),op:"IS_NAN"}};if(NS(n.value))return{unaryFilter:{field:yo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(LS(n.value))return{unaryFilter:{field:yo(n.field),op:"IS_NOT_NAN"}};if(NS(n.value))return{unaryFilter:{field:yo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:yo(n.field),op:Ak(n.op),value:n.value}}}(e):e instanceof Mi?function(n){const r=n.getFilters().map(a=>kR(a));return r.length===1?r[0]:{compositeFilter:{op:bk(n.op),filters:r}}}(e):At()}function wk(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function UR(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns{constructor(t,n,r,a,l=wt.min(),c=wt.min(),d=Qe.EMPTY_BYTE_STRING,m=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=m}withSequenceNumber(t){return new ns(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new ns(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new ns(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new ns(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rk{constructor(t){this.Tt=t}}function Ck(e){const t=Tk({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?Ag(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ik{constructor(){this.Tn=new Dk}addToCollectionParentIndex(t,n){return this.Tn.add(n),et.resolve()}getCollectionParents(t,n){return et.resolve(this.Tn.getEntries(n))}addFieldIndex(t,n){return et.resolve()}deleteFieldIndex(t,n){return et.resolve()}deleteAllFieldIndexes(t){return et.resolve()}createTargetIndexes(t,n){return et.resolve()}getDocumentsMatchingTarget(t,n){return et.resolve(null)}getIndexType(t,n){return et.resolve(0)}getFieldIndexes(t,n){return et.resolve([])}getNextCollectionGroupToUpdate(t){return et.resolve(null)}getMinOffset(t,n){return et.resolve(cs.min())}getMinOffsetFromCollectionGroup(t,n){return et.resolve(cs.min())}updateCollectionGroup(t,n,r){return et.resolve()}updateIndexEntries(t,n){return et.resolve()}}class Dk{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),a=this.index[n]||new Oe(me.comparator),l=!a.has(r);return this.index[n]=a.add(r),l}has(t){const n=t.lastSegment(),r=t.popLast(),a=this.index[n];return a&&a.has(r)}getEntries(t){return(this.index[t]||new Oe(me.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},jR=41943040;class pn{static withCacheSize(t){return new pn(t,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */pn.DEFAULT_COLLECTION_PERCENTILE=10,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,pn.DEFAULT=new pn(jR,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),pn.DISABLED=new pn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(t){this.$n=t}next(){return this.$n+=2,this.$n}static Un(){return new ko(0)}static Kn(){return new ko(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WS="LruGarbageCollector",xk=1048576;function ZS([e,t],[n,r]){const a=Dt(e,n);return a===0?Dt(t,r):a}class Pk{constructor(t){this.Hn=t,this.buffer=new Oe(ZS),this.Jn=0}Yn(){return++this.Jn}Zn(t){const n=[t,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();ZS(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Mk{constructor(t,n,r){this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(t){ht(WS,`Garbage collection scheduled in ${t}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Yo(n)?ht(WS,"Ignoring IndexedDB error during garbage collection: ",n):await Ko(n)}await this.er(3e5)})}}class Ok{constructor(t,n){this.tr=t,this.params=n}calculateTargetCount(t,n){return this.tr.nr(t).next(r=>Math.floor(n/100*r))}nthSequenceNumber(t,n){if(n===0)return et.resolve(Kf.ae);const r=new Pk(n);return this.tr.forEachTarget(t,a=>r.Zn(a.sequenceNumber)).next(()=>this.tr.rr(t,a=>r.Zn(a))).next(()=>r.maxValue)}removeTargets(t,n,r){return this.tr.removeTargets(t,n,r)}removeOrphanedDocuments(t,n){return this.tr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(ht("LruGarbageCollector","Garbage collection skipped; disabled"),et.resolve(XS)):this.getCacheSize(t).next(r=>r<this.params.cacheSizeCollectionThreshold?(ht("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),XS):this.ir(t,n))}getCacheSize(t){return this.tr.getCacheSize(t)}ir(t,n){let r,a,l,c,d,m,p;const y=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(_=>(_>this.params.maximumSequenceNumbersToCollect?(ht("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),a=this.params.maximumSequenceNumbersToCollect):a=_,c=Date.now(),this.nthSequenceNumber(t,a))).next(_=>(r=_,d=Date.now(),this.removeTargets(t,r,n))).next(_=>(l=_,m=Date.now(),this.removeOrphanedDocuments(t,r))).next(_=>(p=Date.now(),po()<=Vt.DEBUG&&ht("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${a} in `+(d-c)+`ms
	Removed ${l} targets in `+(m-d)+`ms
	Removed ${_} documents in `+(p-m)+`ms
Total Duration: ${p-y}ms`),et.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:_})))}}function Vk(e,t){return new Ok(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nk{constructor(){this.changes=new va(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,nn.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?et.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lk{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kk{constructor(t,n,r,a){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=a}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next(a=>(r=a,this.remoteDocumentCache.getEntry(t,n))).next(a=>(r!==null&&bu(r.mutation,a,Jn.empty(),Me.now()),a))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.getLocalViewOfDocuments(t,r,Nt()).next(()=>r))}getLocalViewOfDocuments(t,n,r=Nt()){const a=oa();return this.populateOverlays(t,a,n).next(()=>this.computeViews(t,n,a,r).next(l=>{let c=pu();return l.forEach((d,m)=>{c=c.insert(d,m.overlayedDocument)}),c}))}getOverlayedDocuments(t,n){const r=oa();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,Nt()))}populateOverlays(t,n,r){const a=[];return r.forEach(l=>{n.has(l)||a.push(l)}),this.documentOverlayCache.getOverlays(t,a).next(l=>{l.forEach((c,d)=>{n.set(c,d)})})}computeViews(t,n,r,a){let l=yr();const c=Au(),d=function(){return Au()}();return n.forEach((m,p)=>{const y=r.get(p.key);a.has(p.key)&&(y===void 0||y.mutation instanceof _a)?l=l.insert(p.key,p):y!==void 0?(c.set(p.key,y.mutation.getFieldMask()),bu(y.mutation,p,y.mutation.getFieldMask(),Me.now())):c.set(p.key,Jn.empty())}),this.recalculateAndSaveOverlays(t,l).next(m=>(m.forEach((p,y)=>c.set(p,y)),n.forEach((p,y)=>{var _;return d.set(p,new Lk(y,(_=c.get(p))!==null&&_!==void 0?_:null))}),d))}recalculateAndSaveOverlays(t,n){const r=Au();let a=new ue((c,d)=>c-d),l=Nt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(c=>{for(const d of c)d.keys().forEach(m=>{const p=n.get(m);if(p===null)return;let y=r.get(m)||Jn.empty();y=d.applyToLocalView(p,y),r.set(m,y);const _=(a.get(d.batchId)||Nt()).add(m);a=a.insert(d.batchId,_)})}).next(()=>{const c=[],d=a.getReverseIterator();for(;d.hasNext();){const m=d.getNext(),p=m.key,y=m.value,_=TR();y.forEach(S=>{if(!l.has(S)){const w=RR(n.get(S),r.get(S));w!==null&&_.set(S,w),l=l.add(S)}}),c.push(this.documentOverlayCache.saveOverlays(t,p,_))}return et.waitFor(c)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,n,r,a){return function(c){return vt.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):jL(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,a):this.getDocumentsMatchingCollectionQuery(t,n,r,a)}getNextDocuments(t,n,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,a).next(l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,a-l.size):et.resolve(oa());let d=Uu,m=l;return c.next(p=>et.forEach(p,(y,_)=>(d<_.largestBatchId&&(d=_.largestBatchId),l.get(y)?et.resolve():this.remoteDocumentCache.getEntry(t,y).next(S=>{m=m.insert(y,S)}))).next(()=>this.populateOverlays(t,p,l)).next(()=>this.computeViews(t,m,p,Nt())).next(y=>({batchId:d,changes:_R(y)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new vt(n)).next(r=>{let a=pu();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a})}getDocumentsMatchingCollectionGroupQuery(t,n,r,a){const l=n.collectionGroup;let c=pu();return this.indexManager.getCollectionParents(t,l).next(d=>et.forEach(d,m=>{const p=function(_,S){return new Qf(S,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(n,m.child(l));return this.getDocumentsMatchingCollectionQuery(t,p,r,a).next(y=>{y.forEach((_,S)=>{c=c.insert(_,S)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(t,n,r,a){let l;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,l,a))).next(c=>{l.forEach((m,p)=>{const y=p.getKey();c.get(y)===null&&(c=c.insert(y,nn.newInvalidDocument(y)))});let d=pu();return c.forEach((m,p)=>{const y=l.get(m);y!==void 0&&bu(y.mutation,p,Jn.empty(),Me.now()),Wf(n,p)&&(d=d.insert(m,p))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uk{constructor(t){this.serializer=t,this.dr=new Map,this.Ar=new Map}getBundleMetadata(t,n){return et.resolve(this.dr.get(n))}saveBundleMetadata(t,n){return this.dr.set(n.id,function(a){return{id:a.id,version:a.version,createTime:Ci(a.createTime)}}(n)),et.resolve()}getNamedQuery(t,n){return et.resolve(this.Ar.get(n))}saveNamedQuery(t,n){return this.Ar.set(n.name,function(a){return{name:a.name,query:Ck(a.bundledQuery),readTime:Ci(a.readTime)}}(n)),et.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jk{constructor(){this.overlays=new ue(vt.comparator),this.Rr=new Map}getOverlay(t,n){return et.resolve(this.overlays.get(n))}getOverlays(t,n){const r=oa();return et.forEach(n,a=>this.getOverlay(t,a).next(l=>{l!==null&&r.set(a,l)})).next(()=>r)}saveOverlays(t,n,r){return r.forEach((a,l)=>{this.Et(t,n,l)}),et.resolve()}removeOverlaysForBatchId(t,n,r){const a=this.Rr.get(r);return a!==void 0&&(a.forEach(l=>this.overlays=this.overlays.remove(l)),this.Rr.delete(r)),et.resolve()}getOverlaysForCollection(t,n,r){const a=oa(),l=n.length+1,c=new vt(n.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const m=d.getNext().value,p=m.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===l&&m.largestBatchId>r&&a.set(m.getKey(),m)}return et.resolve(a)}getOverlaysForCollectionGroup(t,n,r,a){let l=new ue((p,y)=>p-y);const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>r){let y=l.get(p.largestBatchId);y===null&&(y=oa(),l=l.insert(p.largestBatchId,y)),y.set(p.getKey(),p)}}const d=oa(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((p,y)=>d.set(p,y)),!(d.size()>=a)););return et.resolve(d)}Et(t,n,r){const a=this.overlays.get(r.key);if(a!==null){const c=this.Rr.get(a.largestBatchId).delete(r.key);this.Rr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new rk(n,r));let l=this.Rr.get(n);l===void 0&&(l=Nt(),this.Rr.set(n,l)),this.Rr.set(n,l.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bk{constructor(){this.sessionToken=Qe.EMPTY_BYTE_STRING}getSessionToken(t){return et.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,et.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ky{constructor(){this.Vr=new Oe(Be.mr),this.gr=new Oe(Be.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(t,n){const r=new Be(t,n);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(t,n){t.forEach(r=>this.addReference(r,n))}removeReference(t,n){this.wr(new Be(t,n))}Sr(t,n){t.forEach(r=>this.removeReference(r,n))}br(t){const n=new vt(new me([])),r=new Be(n,t),a=new Be(n,t+1),l=[];return this.gr.forEachInRange([r,a],c=>{this.wr(c),l.push(c.key)}),l}Dr(){this.Vr.forEach(t=>this.wr(t))}wr(t){this.Vr=this.Vr.delete(t),this.gr=this.gr.delete(t)}vr(t){const n=new vt(new me([])),r=new Be(n,t),a=new Be(n,t+1);let l=Nt();return this.gr.forEachInRange([r,a],c=>{l=l.add(c.key)}),l}containsKey(t){const n=new Be(t,0),r=this.Vr.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class Be{constructor(t,n){this.key=t,this.Cr=n}static mr(t,n){return vt.comparator(t.key,n.key)||Dt(t.Cr,n.Cr)}static pr(t,n){return Dt(t.Cr,n.Cr)||vt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zk{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new Oe(Be.mr)}checkEmpty(t){return et.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,a){const l=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new ik(l,n,r,a);this.mutationQueue.push(c);for(const d of a)this.Mr=this.Mr.add(new Be(d.key,l)),this.indexManager.addToCollectionParentIndex(t,d.key.path.popLast());return et.resolve(c)}lookupMutationBatch(t,n){return et.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,a=this.Nr(r),l=a<0?0:a;return et.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return et.resolve(this.mutationQueue.length===0?Cy:this.Fr-1)}getAllMutationBatches(t){return et.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new Be(n,0),a=new Be(n,Number.POSITIVE_INFINITY),l=[];return this.Mr.forEachInRange([r,a],c=>{const d=this.Or(c.Cr);l.push(d)}),et.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new Oe(Dt);return n.forEach(a=>{const l=new Be(a,0),c=new Be(a,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([l,c],d=>{r=r.add(d.Cr)})}),et.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,a=r.length+1;let l=r;vt.isDocumentKey(l)||(l=l.child(""));const c=new Be(new vt(l),0);let d=new Oe(Dt);return this.Mr.forEachWhile(m=>{const p=m.key.path;return!!r.isPrefixOf(p)&&(p.length===a&&(d=d.add(m.Cr)),!0)},c),et.resolve(this.Br(d))}Br(t){const n=[];return t.forEach(r=>{const a=this.Or(r);a!==null&&n.push(a)}),n}removeMutationBatch(t,n){Gt(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return et.forEach(n.mutations,a=>{const l=new Be(a.key,n.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(t,a.key)}).next(()=>{this.Mr=r})}qn(t){}containsKey(t,n){const r=new Be(n,0),a=this.Mr.firstAfterOrEqual(r);return et.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(t){return this.mutationQueue.length,et.resolve()}Lr(t,n){return this.Nr(t)}Nr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Or(t){const n=this.Nr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fk{constructor(t){this.kr=t,this.docs=function(){return new ue(vt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,a=this.docs.get(r),l=a?a.size:0,c=this.kr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return et.resolve(r?r.document.mutableCopy():nn.newInvalidDocument(n))}getEntries(t,n){let r=yr();return n.forEach(a=>{const l=this.docs.get(a);r=r.insert(a,l?l.document.mutableCopy():nn.newInvalidDocument(a))}),et.resolve(r)}getDocumentsMatchingQuery(t,n,r,a){let l=yr();const c=n.path,d=new vt(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:p,value:{document:y}}=m.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||gL(pL(y),r)<=0||(a.has(y.key)||Wf(n,y))&&(l=l.insert(y.key,y.mutableCopy()))}return et.resolve(l)}getAllFromCollectionGroup(t,n,r,a){At()}qr(t,n){return et.forEach(this.docs,r=>n(r))}newChangeBuffer(t){return new Hk(this)}getSize(t){return et.resolve(this.size)}}class Hk extends Nk{constructor(t){super(),this.Ir=t}applyChanges(t){const n=[];return this.changes.forEach((r,a)=>{a.isValidDocument()?n.push(this.Ir.addEntry(t,a)):this.Ir.removeEntry(r)}),et.waitFor(n)}getFromCache(t,n){return this.Ir.getEntry(t,n)}getAllFromCache(t,n){return this.Ir.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qk{constructor(t){this.persistence=t,this.Qr=new va(n=>xy(n),Py),this.lastRemoteSnapshotVersion=wt.min(),this.highestTargetId=0,this.$r=0,this.Ur=new ky,this.targetCount=0,this.Kr=ko.Un()}forEachTarget(t,n){return this.Qr.forEach((r,a)=>n(a)),et.resolve()}getLastRemoteSnapshotVersion(t){return et.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return et.resolve(this.$r)}allocateTargetId(t){return this.highestTargetId=this.Kr.next(),et.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.$r&&(this.$r=n),et.resolve()}zn(t){this.Qr.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.Kr=new ko(n),this.highestTargetId=n),t.sequenceNumber>this.$r&&(this.$r=t.sequenceNumber)}addTargetData(t,n){return this.zn(n),this.targetCount+=1,et.resolve()}updateTargetData(t,n){return this.zn(n),et.resolve()}removeTargetData(t,n){return this.Qr.delete(n.target),this.Ur.br(n.targetId),this.targetCount-=1,et.resolve()}removeTargets(t,n,r){let a=0;const l=[];return this.Qr.forEach((c,d)=>{d.sequenceNumber<=n&&r.get(d.targetId)===null&&(this.Qr.delete(c),l.push(this.removeMatchingKeysForTargetId(t,d.targetId)),a++)}),et.waitFor(l).next(()=>a)}getTargetCount(t){return et.resolve(this.targetCount)}getTargetData(t,n){const r=this.Qr.get(n)||null;return et.resolve(r)}addMatchingKeys(t,n,r){return this.Ur.yr(n,r),et.resolve()}removeMatchingKeys(t,n,r){this.Ur.Sr(n,r);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach(c=>{l.push(a.markPotentiallyOrphaned(t,c))}),et.waitFor(l)}removeMatchingKeysForTargetId(t,n){return this.Ur.br(n),et.resolve()}getMatchingKeysForTargetId(t,n){const r=this.Ur.vr(n);return et.resolve(r)}containsKey(t,n){return et.resolve(this.Ur.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(t,n){this.Wr={},this.overlays={},this.Gr=new Kf(0),this.zr=!1,this.zr=!0,this.jr=new Bk,this.referenceDelegate=t(this),this.Hr=new qk(this),this.indexManager=new Ik,this.remoteDocumentCache=function(a){return new Fk(a)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new Rk(n),this.Yr=new Uk(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new jk,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.Wr[t.toKey()];return r||(r=new zk(n,this.referenceDelegate),this.Wr[t.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(t,n,r){ht("MemoryPersistence","Starting transaction:",t);const a=new Gk(this.Gr.next());return this.referenceDelegate.Zr(),r(a).next(l=>this.referenceDelegate.Xr(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}ei(t,n){return et.or(Object.values(this.Wr).map(r=>()=>r.containsKey(t,n)))}}class Gk extends vL{constructor(t){super(),this.currentSequenceNumber=t}}class Uy{constructor(t){this.persistence=t,this.ti=new ky,this.ni=null}static ri(t){return new Uy(t)}get ii(){if(this.ni)return this.ni;throw At()}addReference(t,n,r){return this.ti.addReference(r,n),this.ii.delete(r.toString()),et.resolve()}removeReference(t,n,r){return this.ti.removeReference(r,n),this.ii.add(r.toString()),et.resolve()}markPotentiallyOrphaned(t,n){return this.ii.add(n.toString()),et.resolve()}removeTarget(t,n){this.ti.br(n.targetId).forEach(a=>this.ii.add(a.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next(a=>{a.forEach(l=>this.ii.add(l.toString()))}).next(()=>r.removeTargetData(t,n))}Zr(){this.ni=new Set}Xr(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return et.forEach(this.ii,r=>{const a=vt.fromPath(r);return this.si(t,a).next(l=>{l||n.removeEntry(a,wt.min())})}).next(()=>(this.ni=null,n.apply(t)))}updateLimboDocument(t,n){return this.si(t,n).next(r=>{r?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(t){return 0}si(t,n){return et.or([()=>et.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.ei(t,n)])}}class If{constructor(t,n){this.persistence=t,this.oi=new va(r=>EL(r.path),(r,a)=>r.isEqual(a)),this.garbageCollector=Vk(this,n)}static ri(t,n){return new If(t,n)}Zr(){}Xr(t){return et.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}nr(t){const n=this.sr(t);return this.persistence.getTargetCache().getTargetCount(t).next(r=>n.next(a=>r+a))}sr(t){let n=0;return this.rr(t,r=>{n++}).next(()=>n)}rr(t,n){return et.forEach(this.oi,(r,a)=>this.ar(t,r,a).next(l=>l?et.resolve():n(a)))}removeTargets(t,n,r){return this.persistence.getTargetCache().removeTargets(t,n,r)}removeOrphanedDocuments(t,n){let r=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.qr(t,c=>this.ar(t,c,n).next(d=>{d||(r++,l.removeEntry(c,wt.min()))})).next(()=>l.apply(t)).next(()=>r)}markPotentiallyOrphaned(t,n){return this.oi.set(n,t.currentSequenceNumber),et.resolve()}removeTarget(t,n){const r=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,n,r){return this.oi.set(r,t.currentSequenceNumber),et.resolve()}removeReference(t,n,r){return this.oi.set(r,t.currentSequenceNumber),et.resolve()}updateLimboDocument(t,n){return this.oi.set(n,t.currentSequenceNumber),et.resolve()}Jr(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Jh(t.data.value)),n}ar(t,n,r){return et.or([()=>this.persistence.ei(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const a=this.oi.get(n);return et.resolve(a!==void 0&&a>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jy{constructor(t,n,r,a){this.targetId=t,this.fromCache=n,this.Hi=r,this.Ji=a}static Yi(t,n){let r=Nt(),a=Nt();for(const l of n.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new jy(t,n.fromCache,r,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kk{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yk{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return zV()?8:_L(sn())>0?6:4}()}initialize(t,n){this.ns=t,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(t,n,r,a){const l={result:null};return this.rs(t,n).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.ss(t,n,a,r).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new Kk;return this._s(t,n,c).next(d=>{if(l.result=d,this.Xi)return this.us(t,n,c,d.size)})}).next(()=>l.result)}us(t,n,r,a){return r.documentReadCount<this.es?(po()<=Vt.DEBUG&&ht("QueryEngine","SDK will not create cache indexes for query:",go(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),et.resolve()):(po()<=Vt.DEBUG&&ht("QueryEngine","Query:",go(n),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.ts*a?(po()<=Vt.DEBUG&&ht("QueryEngine","The SDK decides to create cache indexes for query:",go(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ri(n))):et.resolve())}rs(t,n){if(BS(n))return et.resolve(null);let r=Ri(n);return this.indexManager.getIndexType(t,r).next(a=>a===0?null:(n.limit!==null&&a===1&&(n=Ag(n,null,"F"),r=Ri(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next(l=>{const c=Nt(...l);return this.ns.getDocuments(t,c).next(d=>this.indexManager.getMinOffset(t,r).next(m=>{const p=this.cs(n,d);return this.ls(n,p,c,m.readTime)?this.rs(t,Ag(n,null,"F")):this.hs(t,p,n,m)}))})))}ss(t,n,r,a){return BS(n)||a.isEqual(wt.min())?et.resolve(null):this.ns.getDocuments(t,r).next(l=>{const c=this.cs(n,l);return this.ls(n,c,r,a)?et.resolve(null):(po()<=Vt.DEBUG&&ht("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),go(n)),this.hs(t,c,n,mL(a,Uu)).next(d=>d))})}cs(t,n){let r=new Oe(yR(t));return n.forEach((a,l)=>{Wf(t,l)&&(r=r.add(l))}),r}ls(t,n,r,a){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const l=t.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}_s(t,n,r){return po()<=Vt.DEBUG&&ht("QueryEngine","Using full collection scan to execute query:",go(n)),this.ns.getDocumentsMatchingQuery(t,n,cs.min(),r)}hs(t,n,r,a){return this.ns.getDocumentsMatchingQuery(t,r,a).next(l=>(n.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const By="LocalStore",$k=3e8;class Qk{constructor(t,n,r,a){this.persistence=t,this.Ps=n,this.serializer=a,this.Ts=new ue(Dt),this.Is=new va(l=>xy(l),Py),this.Es=new Map,this.ds=t.getRemoteDocumentCache(),this.Hr=t.getTargetCache(),this.Yr=t.getBundleCache(),this.As(r)}As(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new kk(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Ts))}}function Xk(e,t,n,r){return new Qk(e,t,n,r)}async function zR(e,t){const n=Rt(e);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let a;return n.mutationQueue.getAllMutationBatches(r).next(l=>(a=l,n.As(t),n.mutationQueue.getAllMutationBatches(r))).next(l=>{const c=[],d=[];let m=Nt();for(const p of a){c.push(p.batchId);for(const y of p.mutations)m=m.add(y.key)}for(const p of l){d.push(p.batchId);for(const y of p.mutations)m=m.add(y.key)}return n.localDocuments.getDocuments(r,m).next(p=>({Rs:p,removedBatchIds:c,addedBatchIds:d}))})})}function Wk(e,t){const n=Rt(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const a=t.batch.keys(),l=n.ds.newChangeBuffer({trackRemovals:!0});return function(d,m,p,y){const _=p.batch,S=_.keys();let w=et.resolve();return S.forEach(C=>{w=w.next(()=>y.getEntry(m,C)).next(B=>{const O=p.docVersions.get(C);Gt(O!==null),B.version.compareTo(O)<0&&(_.applyToRemoteDocument(B,p),B.isValidDocument()&&(B.setReadTime(p.commitVersion),y.addEntry(B)))})}),w.next(()=>d.mutationQueue.removeMutationBatch(m,_))}(n,r,t,l).next(()=>l.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,a,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(d){let m=Nt();for(let p=0;p<d.mutationResults.length;++p)d.mutationResults[p].transformResults.length>0&&(m=m.add(d.batch.mutations[p].key));return m}(t))).next(()=>n.localDocuments.getDocuments(r,a))})}function FR(e){const t=Rt(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Hr.getLastRemoteSnapshotVersion(n))}function Zk(e,t){const n=Rt(e),r=t.snapshotVersion;let a=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=n.ds.newChangeBuffer({trackRemovals:!0});a=n.Ts;const d=[];t.targetChanges.forEach((y,_)=>{const S=a.get(_);if(!S)return;d.push(n.Hr.removeMatchingKeys(l,y.removedDocuments,_).next(()=>n.Hr.addMatchingKeys(l,y.addedDocuments,_)));let w=S.withSequenceNumber(l.currentSequenceNumber);t.targetMismatches.get(_)!==null?w=w.withResumeToken(Qe.EMPTY_BYTE_STRING,wt.min()).withLastLimboFreeSnapshotVersion(wt.min()):y.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(y.resumeToken,r)),a=a.insert(_,w),function(B,O,U){return B.resumeToken.approximateByteSize()===0||O.snapshotVersion.toMicroseconds()-B.snapshotVersion.toMicroseconds()>=$k?!0:U.addedDocuments.size+U.modifiedDocuments.size+U.removedDocuments.size>0}(S,w,y)&&d.push(n.Hr.updateTargetData(l,w))});let m=yr(),p=Nt();if(t.documentUpdates.forEach(y=>{t.resolvedLimboDocuments.has(y)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(l,y))}),d.push(Jk(l,c,t.documentUpdates).next(y=>{m=y.Vs,p=y.fs})),!r.isEqual(wt.min())){const y=n.Hr.getLastRemoteSnapshotVersion(l).next(_=>n.Hr.setTargetsMetadata(l,l.currentSequenceNumber,r));d.push(y)}return et.waitFor(d).next(()=>c.apply(l)).next(()=>n.localDocuments.getLocalViewOfDocuments(l,m,p)).next(()=>m)}).then(l=>(n.Ts=a,l))}function Jk(e,t,n){let r=Nt(),a=Nt();return n.forEach(l=>r=r.add(l)),t.getEntries(e,r).next(l=>{let c=yr();return n.forEach((d,m)=>{const p=l.get(d);m.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(d)),m.isNoDocument()&&m.version.isEqual(wt.min())?(t.removeEntry(d,m.readTime),c=c.insert(d,m)):!p.isValidDocument()||m.version.compareTo(p.version)>0||m.version.compareTo(p.version)===0&&p.hasPendingWrites?(t.addEntry(m),c=c.insert(d,m)):ht(By,"Ignoring outdated watch update for ",d,". Current version:",p.version," Watch version:",m.version)}),{Vs:c,fs:a}})}function t4(e,t){const n=Rt(e);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(t===void 0&&(t=Cy),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function e4(e,t){const n=Rt(e);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let a;return n.Hr.getTargetData(r,t).next(l=>l?(a=l,et.resolve(a)):n.Hr.allocateTargetId(r).next(c=>(a=new ns(t,c,"TargetPurposeListen",r.currentSequenceNumber),n.Hr.addTargetData(r,a).next(()=>a))))}).then(r=>{const a=n.Ts.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(r.targetId,r),n.Is.set(t,r.targetId)),r})}async function Ig(e,t,n){const r=Rt(e),a=r.Ts.get(t),l=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",l,c=>r.persistence.referenceDelegate.removeTarget(c,a))}catch(c){if(!Yo(c))throw c;ht(By,`Failed to update sequence numbers for target ${t}: ${c}`)}r.Ts=r.Ts.remove(t),r.Is.delete(a.target)}function JS(e,t,n){const r=Rt(e);let a=wt.min(),l=Nt();return r.persistence.runTransaction("Execute query","readwrite",c=>function(m,p,y){const _=Rt(m),S=_.Is.get(y);return S!==void 0?et.resolve(_.Ts.get(S)):_.Hr.getTargetData(p,y)}(r,c,Ri(t)).next(d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(c,d.targetId).next(m=>{l=m})}).next(()=>r.Ps.getDocumentsMatchingQuery(c,t,n?a:wt.min(),n?l:Nt())).next(d=>(n4(r,zL(t),d),{documents:d,gs:l})))}function n4(e,t,n){let r=e.Es.get(t)||wt.min();n.forEach((a,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)}),e.Es.set(t,r)}class tA{constructor(){this.activeTargetIds=YL()}Ds(t){this.activeTargetIds=this.activeTargetIds.add(t)}vs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}bs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class i4{constructor(){this.ho=new tA,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t,n=!0){return n&&this.ho.Ds(t),this.Po[t]||"not-current"}updateQueryState(t,n,r){this.Po[t]=n}removeLocalQueryTarget(t){this.ho.vs(t)}isLocalQueryTarget(t){return this.ho.activeTargetIds.has(t)}clearQueryState(t){delete this.Po[t]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(t){return this.ho.activeTargetIds.has(t)}start(){return this.ho=new tA,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r4{To(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eA="ConnectivityMonitor";class nA{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(t){this.Vo.push(t)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ht(eA,"Network connectivity changed: AVAILABLE");for(const t of this.Vo)t(0)}Ro(){ht(eA,"Network connectivity changed: UNAVAILABLE");for(const t of this.Vo)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qh=null;function Dg(){return qh===null?qh=function(){return 268435456+Math.round(2147483648*Math.random())}():qh++,"0x"+qh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bp="RestConnection",s4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class a4{get fo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.po=n+"://"+t.host,this.yo=`projects/${r}/databases/${a}`,this.wo=this.databaseId.database===Ef?`project_id=${r}`:`project_id=${r}&database_id=${a}`}So(t,n,r,a,l){const c=Dg(),d=this.bo(t,n.toUriEncodedString());ht(Bp,`Sending RPC '${t}' ${c}:`,d,r);const m={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(m,a,l),this.vo(t,d,m,r).then(p=>(ht(Bp,`Received RPC '${t}' ${c}: `,p),p),p=>{throw Mo(Bp,`RPC '${t}' ${c} failed with error: `,p,"url: ",d,"request:",r),p})}Co(t,n,r,a,l,c){return this.So(t,n,r,a,l)}Do(t,n,r){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Go}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((a,l)=>t[l]=a),r&&r.headers.forEach((a,l)=>t[l]=a)}bo(t,n){const r=s4[t];return`${this.po}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o4{constructor(t){this.Fo=t.Fo,this.Mo=t.Mo}xo(t){this.Oo=t}No(t){this.Bo=t}Lo(t){this.ko=t}onMessage(t){this.qo=t}close(){this.Mo()}send(t){this.Fo(t)}Qo(){this.Oo()}$o(){this.Bo()}Uo(t){this.ko(t)}Ko(t){this.qo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Je="WebChannelConnection";class l4 extends a4{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}vo(t,n,r,a){const l=Dg();return new Promise((c,d)=>{const m=new Kw;m.setWithCredentials(!0),m.listenOnce(Yw.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case Zh.NO_ERROR:const y=m.getResponseJson();ht(Je,`XHR for RPC '${t}' ${l} received:`,JSON.stringify(y)),c(y);break;case Zh.TIMEOUT:ht(Je,`RPC '${t}' ${l} timed out`),d(new yt(rt.DEADLINE_EXCEEDED,"Request time out"));break;case Zh.HTTP_ERROR:const _=m.getStatus();if(ht(Je,`RPC '${t}' ${l} failed with status:`,_,"response text:",m.getResponseText()),_>0){let S=m.getResponseJson();Array.isArray(S)&&(S=S[0]);const w=S==null?void 0:S.error;if(w&&w.status&&w.message){const C=function(O){const U=O.toLowerCase().replace(/_/g,"-");return Object.values(rt).indexOf(U)>=0?U:rt.UNKNOWN}(w.status);d(new yt(C,w.message))}else d(new yt(rt.UNKNOWN,"Server responded with status "+m.getStatus()))}else d(new yt(rt.UNAVAILABLE,"Connection failed."));break;default:At()}}finally{ht(Je,`RPC '${t}' ${l} completed.`)}});const p=JSON.stringify(a);ht(Je,`RPC '${t}' ${l} sending request:`,a),m.send(n,"POST",p,r,15)})}Wo(t,n,r){const a=Dg(),l=[this.po,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=Xw(),d=Qw(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(m.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Do(m.initMessageHeaders,n,r),m.encodeInitMessageHeaders=!0;const y=l.join("");ht(Je,`Creating RPC '${t}' stream ${a}: ${y}`,m);const _=c.createWebChannel(y,m);let S=!1,w=!1;const C=new o4({Fo:O=>{w?ht(Je,`Not sending because RPC '${t}' stream ${a} is closed:`,O):(S||(ht(Je,`Opening RPC '${t}' stream ${a} transport.`),_.open(),S=!0),ht(Je,`RPC '${t}' stream ${a} sending:`,O),_.send(O))},Mo:()=>_.close()}),B=(O,U,X)=>{O.listen(U,H=>{try{X(H)}catch(st){setTimeout(()=>{throw st},0)}})};return B(_,mu.EventType.OPEN,()=>{w||(ht(Je,`RPC '${t}' stream ${a} transport opened.`),C.Qo())}),B(_,mu.EventType.CLOSE,()=>{w||(w=!0,ht(Je,`RPC '${t}' stream ${a} transport closed`),C.Uo())}),B(_,mu.EventType.ERROR,O=>{w||(w=!0,Mo(Je,`RPC '${t}' stream ${a} transport errored:`,O),C.Uo(new yt(rt.UNAVAILABLE,"The operation could not be completed")))}),B(_,mu.EventType.MESSAGE,O=>{var U;if(!w){const X=O.data[0];Gt(!!X);const H=X,st=(H==null?void 0:H.error)||((U=H[0])===null||U===void 0?void 0:U.error);if(st){ht(Je,`RPC '${t}' stream ${a} received error:`,st);const nt=st.status;let ct=function(I){const M=we[I];if(M!==void 0)return DR(M)}(nt),P=st.message;ct===void 0&&(ct=rt.INTERNAL,P="Unknown error status: "+nt+" with message "+st.message),w=!0,C.Uo(new yt(ct,P)),_.close()}else ht(Je,`RPC '${t}' stream ${a} received:`,X),C.Ko(X)}}),B(d,$w.STAT_EVENT,O=>{O.stat===yg.PROXY?ht(Je,`RPC '${t}' stream ${a} detected buffering proxy`):O.stat===yg.NOPROXY&&ht(Je,`RPC '${t}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{C.$o()},0),C}}function zp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ed(e){return new fk(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{constructor(t,n,r=1e3,a=1.5,l=6e4){this.Ti=t,this.timerId=n,this.Go=r,this.zo=a,this.jo=l,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(t){this.cancel();const n=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),a=Math.max(0,n-r);a>0&&ht("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,a,()=>(this.Yo=Date.now(),t())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iA="PersistentStream";class qR{constructor(t,n,r,a,l,c,d,m){this.Ti=t,this.n_=r,this.r_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=m,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new HR(t,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(t){this.E_(),this.stream.send(t)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(t,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,t!==4?this.a_.reset():n&&n.code===rt.RESOURCE_EXHAUSTED?(gr(n.toString()),gr("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===rt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const t=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,a])=>{this.i_===n&&this.V_(r,a)},r=>{t(()=>{const a=new yt(rt.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(a)})})}V_(t,n){const r=this.R_(this.i_);this.stream=this.f_(t,n),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(a=>{r(()=>this.m_(a))}),this.stream.onMessage(a=>{r(()=>++this.__==1?this.g_(a):this.onNext(a))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(t){return ht(iA,`close with error: ${t}`),this.stream=null,this.close(4,t)}R_(t){return n=>{this.Ti.enqueueAndForget(()=>this.i_===t?n():(ht(iA,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class u4 extends qR{constructor(t,n,r,a,l,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,a,c),this.serializer=l}f_(t,n){return this.connection.Wo("Listen",t,n)}g_(t){return this.onNext(t)}onNext(t){this.a_.reset();const n=pk(this.serializer,t),r=function(l){if(!("targetChange"in l))return wt.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?wt.min():c.readTime?Ci(c.readTime):wt.min()}(t);return this.listener.p_(n,r)}y_(t){const n={};n.database=Cg(this.serializer),n.addTarget=function(l,c){let d;const m=c.target;if(d=Sg(m)?{documents:vk(l,m)}:{query:_k(l,m).ht},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=MR(l,c.resumeToken);const p=bg(l,c.expectedCount);p!==null&&(d.expectedCount=p)}else if(c.snapshotVersion.compareTo(wt.min())>0){d.readTime=Cf(l,c.snapshotVersion.toTimestamp());const p=bg(l,c.expectedCount);p!==null&&(d.expectedCount=p)}return d}(this.serializer,t);const r=Ek(this.serializer,t);r&&(n.labels=r),this.I_(n)}w_(t){const n={};n.database=Cg(this.serializer),n.removeTarget=t,this.I_(n)}}class c4 extends qR{constructor(t,n,r,a,l,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,a,c),this.serializer=l}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(t,n){return this.connection.Wo("Write",t,n)}g_(t){return Gt(!!t.streamToken),this.lastStreamToken=t.streamToken,Gt(!t.writeResults||t.writeResults.length===0),this.listener.D_()}onNext(t){Gt(!!t.streamToken),this.lastStreamToken=t.streamToken,this.a_.reset();const n=yk(t.writeResults,t.commitTime),r=Ci(t.commitTime);return this.listener.v_(r,n)}C_(){const t={};t.database=Cg(this.serializer),this.I_(t)}b_(t){const n={streamToken:this.lastStreamToken,writes:t.map(r=>gk(this.serializer,r))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h4{}class f4 extends h4{constructor(t,n,r,a){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=a,this.F_=!1}M_(){if(this.F_)throw new yt(rt.FAILED_PRECONDITION,"The client has already been terminated.")}So(t,n,r,a){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.So(t,wg(n,r),a,l,c)).catch(l=>{throw l.name==="FirebaseError"?(l.code===rt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new yt(rt.UNKNOWN,l.toString())})}Co(t,n,r,a,l){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Co(t,wg(n,r),a,c,d,l)).catch(c=>{throw c.name==="FirebaseError"?(c.code===rt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new yt(rt.UNKNOWN,c.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class d4{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(t){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.L_("Offline")))}set(t){this.Q_(),this.x_=0,t==="Online"&&(this.N_=!1),this.L_(t)}L_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}k_(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(gr(n),this.N_=!1):ht("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fa="RemoteStore";class m4{constructor(t,n,r,a,l){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=l,this.z_.To(c=>{r.enqueueAndForget(async()=>{Ta(this)&&(ht(fa,"Restarting streams for network reachability change."),await async function(m){const p=Rt(m);p.W_.add(4),await sc(p),p.j_.set("Unknown"),p.W_.delete(4),await nd(p)}(this))})}),this.j_=new d4(r,a)}}async function nd(e){if(Ta(e))for(const t of e.G_)await t(!0)}async function sc(e){for(const t of e.G_)await t(!1)}function GR(e,t){const n=Rt(e);n.K_.has(t.targetId)||(n.K_.set(t.targetId,t),qy(n)?Hy(n):$o(n).c_()&&Fy(n,t))}function zy(e,t){const n=Rt(e),r=$o(n);n.K_.delete(t),r.c_()&&KR(n,t),n.K_.size===0&&(r.c_()?r.P_():Ta(n)&&n.j_.set("Unknown"))}function Fy(e,t){if(e.H_.Ne(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(wt.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}$o(e).y_(t)}function KR(e,t){e.H_.Ne(t),$o(e).w_(t)}function Hy(e){e.H_=new lk({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),lt:t=>e.K_.get(t)||null,it:()=>e.datastore.serializer.databaseId}),$o(e).start(),e.j_.B_()}function qy(e){return Ta(e)&&!$o(e).u_()&&e.K_.size>0}function Ta(e){return Rt(e).W_.size===0}function YR(e){e.H_=void 0}async function p4(e){e.j_.set("Online")}async function g4(e){e.K_.forEach((t,n)=>{Fy(e,t)})}async function y4(e,t){YR(e),qy(e)?(e.j_.q_(t),Hy(e)):e.j_.set("Unknown")}async function v4(e,t,n){if(e.j_.set("Online"),t instanceof PR&&t.state===2&&t.cause)try{await async function(a,l){const c=l.cause;for(const d of l.targetIds)a.K_.has(d)&&(await a.remoteSyncer.rejectListen(d,c),a.K_.delete(d),a.H_.removeTarget(d))}(e,t)}catch(r){ht(fa,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await Df(e,r)}else if(t instanceof nf?e.H_.We(t):t instanceof xR?e.H_.Ze(t):e.H_.je(t),!n.isEqual(wt.min()))try{const r=await FR(e.localStore);n.compareTo(r)>=0&&await function(l,c){const d=l.H_.ot(c);return d.targetChanges.forEach((m,p)=>{if(m.resumeToken.approximateByteSize()>0){const y=l.K_.get(p);y&&l.K_.set(p,y.withResumeToken(m.resumeToken,c))}}),d.targetMismatches.forEach((m,p)=>{const y=l.K_.get(m);if(!y)return;l.K_.set(m,y.withResumeToken(Qe.EMPTY_BYTE_STRING,y.snapshotVersion)),KR(l,m);const _=new ns(y.target,m,p,y.sequenceNumber);Fy(l,_)}),l.remoteSyncer.applyRemoteEvent(d)}(e,n)}catch(r){ht(fa,"Failed to raise snapshot:",r),await Df(e,r)}}async function Df(e,t,n){if(!Yo(t))throw t;e.W_.add(1),await sc(e),e.j_.set("Offline"),n||(n=()=>FR(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{ht(fa,"Retrying IndexedDB access"),await n(),e.W_.delete(1),await nd(e)})}function $R(e,t){return t().catch(n=>Df(e,n,t))}async function id(e){const t=Rt(e),n=ms(t);let r=t.U_.length>0?t.U_[t.U_.length-1].batchId:Cy;for(;_4(t);)try{const a=await t4(t.localStore,r);if(a===null){t.U_.length===0&&n.P_();break}r=a.batchId,T4(t,a)}catch(a){await Df(t,a)}QR(t)&&XR(t)}function _4(e){return Ta(e)&&e.U_.length<10}function T4(e,t){e.U_.push(t);const n=ms(e);n.c_()&&n.S_&&n.b_(t.mutations)}function QR(e){return Ta(e)&&!ms(e).u_()&&e.U_.length>0}function XR(e){ms(e).start()}async function E4(e){ms(e).C_()}async function S4(e){const t=ms(e);for(const n of e.U_)t.b_(n.mutations)}async function A4(e,t,n){const r=e.U_.shift(),a=Vy.from(r,t,n);await $R(e,()=>e.remoteSyncer.applySuccessfulWrite(a)),await id(e)}async function b4(e,t){t&&ms(e).S_&&await async function(r,a){if(function(c){return ak(c)&&c!==rt.ABORTED}(a.code)){const l=r.U_.shift();ms(r).h_(),await $R(r,()=>r.remoteSyncer.rejectFailedWrite(l.batchId,a)),await id(r)}}(e,t),QR(e)&&XR(e)}async function rA(e,t){const n=Rt(e);n.asyncQueue.verifyOperationInProgress(),ht(fa,"RemoteStore received new credentials");const r=Ta(n);n.W_.add(3),await sc(n),r&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.W_.delete(3),await nd(n)}async function w4(e,t){const n=Rt(e);t?(n.W_.delete(2),await nd(n)):t||(n.W_.add(2),await sc(n),n.j_.set("Unknown"))}function $o(e){return e.J_||(e.J_=function(n,r,a){const l=Rt(n);return l.M_(),new u4(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(e.datastore,e.asyncQueue,{xo:p4.bind(null,e),No:g4.bind(null,e),Lo:y4.bind(null,e),p_:v4.bind(null,e)}),e.G_.push(async t=>{t?(e.J_.h_(),qy(e)?Hy(e):e.j_.set("Unknown")):(await e.J_.stop(),YR(e))})),e.J_}function ms(e){return e.Y_||(e.Y_=function(n,r,a){const l=Rt(n);return l.M_(),new c4(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(e.datastore,e.asyncQueue,{xo:()=>Promise.resolve(),No:E4.bind(null,e),Lo:b4.bind(null,e),D_:S4.bind(null,e),v_:A4.bind(null,e)}),e.G_.push(async t=>{t?(e.Y_.h_(),await id(e)):(await e.Y_.stop(),e.U_.length>0&&(ht(fa,`Stopping write stream with ${e.U_.length} pending writes`),e.U_=[]))})),e.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gy{constructor(t,n,r,a,l){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=a,this.removalCallback=l,this.deferred=new os,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,a,l){const c=Date.now()+r,d=new Gy(t,n,c,a,l);return d.start(r),d}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new yt(rt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ky(e,t){if(gr("AsyncQueue",`${t}: ${e}`),Yo(e))return new yt(rt.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{static emptySet(t){return new wo(t.comparator)}constructor(t){this.comparator=t?(n,r)=>t(n,r)||vt.comparator(n.key,r.key):(n,r)=>vt.comparator(n.key,r.key),this.keyedMap=pu(),this.sortedSet=new ue(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,r)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof wo)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=r.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new wo;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sA{constructor(){this.Z_=new ue(vt.comparator)}track(t){const n=t.doc.key,r=this.Z_.get(n);r?t.type!==0&&r.type===3?this.Z_=this.Z_.insert(n,t):t.type===3&&r.type!==1?this.Z_=this.Z_.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.Z_=this.Z_.remove(n):t.type===1&&r.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:t.doc}):At():this.Z_=this.Z_.insert(n,t)}X_(){const t=[];return this.Z_.inorderTraversal((n,r)=>{t.push(r)}),t}}class Uo{constructor(t,n,r,a,l,c,d,m,p){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=m,this.hasCachedResults=p}static fromInitialDocuments(t,n,r,a,l){const c=[];return n.forEach(d=>{c.push({type:0,doc:d})}),new Uo(t,n,wo.emptySet(n),c,r,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Xf(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==r[a].type||!n[a].doc.isEqual(r[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R4{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(t=>t.ra())}}class C4{constructor(){this.queries=aA(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,r){const a=Rt(n),l=a.queries;a.queries=aA(),l.forEach((c,d)=>{for(const m of d.ta)m.onError(r)})})(this,new yt(rt.ABORTED,"Firestore shutting down"))}}function aA(){return new va(e=>gR(e),Xf)}async function I4(e,t){const n=Rt(e);let r=3;const a=t.query;let l=n.queries.get(a);l?!l.na()&&t.ra()&&(r=2):(l=new R4,r=t.ra()?0:1);try{switch(r){case 0:l.ea=await n.onListen(a,!0);break;case 1:l.ea=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(c){const d=Ky(c,`Initialization of query '${go(t.query)}' failed`);return void t.onError(d)}n.queries.set(a,l),l.ta.push(t),t.sa(n.onlineState),l.ea&&t.oa(l.ea)&&Yy(n)}async function D4(e,t){const n=Rt(e),r=t.query;let a=3;const l=n.queries.get(r);if(l){const c=l.ta.indexOf(t);c>=0&&(l.ta.splice(c,1),l.ta.length===0?a=t.ra()?0:1:!l.na()&&t.ra()&&(a=2))}switch(a){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function x4(e,t){const n=Rt(e);let r=!1;for(const a of t){const l=a.query,c=n.queries.get(l);if(c){for(const d of c.ta)d.oa(a)&&(r=!0);c.ea=a}}r&&Yy(n)}function P4(e,t,n){const r=Rt(e),a=r.queries.get(t);if(a)for(const l of a.ta)l.onError(n);r.queries.delete(t)}function Yy(e){e.ia.forEach(t=>{t.next()})}var xg,oA;(oA=xg||(xg={}))._a="default",oA.Cache="cache";class M4{constructor(t,n,r){this.query=t,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(t){if(!this.options.includeMetadataChanges){const r=[];for(const a of t.docChanges)a.type!==3&&r.push(a);t=new Uo(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.ua?this.la(t)&&(this.aa.next(t),n=!0):this.ha(t,this.onlineState)&&(this.Pa(t),n=!0),this.ca=t,n}onError(t){this.aa.error(t)}sa(t){this.onlineState=t;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,t)&&(this.Pa(this.ca),n=!0),n}ha(t,n){if(!t.fromCache||!this.ra())return!0;const r=n!=="Offline";return(!this.options.Ta||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}la(t){if(t.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(t){t=Uo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ua=!0,this.aa.next(t)}ra(){return this.options.source!==xg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(t){this.key=t}}class ZR{constructor(t){this.key=t}}class O4{constructor(t,n){this.query=t,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Nt(),this.mutatedKeys=Nt(),this.ya=yR(t),this.wa=new wo(this.ya)}get Sa(){return this.fa}ba(t,n){const r=n?n.Da:new sA,a=n?n.wa:this.wa;let l=n?n.mutatedKeys:this.mutatedKeys,c=a,d=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(t.inorderTraversal((y,_)=>{const S=a.get(y),w=Wf(this.query,_)?_:null,C=!!S&&this.mutatedKeys.has(S.key),B=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let O=!1;S&&w?S.data.isEqual(w.data)?C!==B&&(r.track({type:3,doc:w}),O=!0):this.va(S,w)||(r.track({type:2,doc:w}),O=!0,(m&&this.ya(w,m)>0||p&&this.ya(w,p)<0)&&(d=!0)):!S&&w?(r.track({type:0,doc:w}),O=!0):S&&!w&&(r.track({type:1,doc:S}),O=!0,(m||p)&&(d=!0)),O&&(w?(c=c.add(w),l=B?l.add(y):l.delete(y)):(c=c.delete(y),l=l.delete(y)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),l=l.delete(y.key),r.track({type:1,doc:y})}return{wa:c,Da:r,ls:d,mutatedKeys:l}}va(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r,a){const l=this.wa;this.wa=t.wa,this.mutatedKeys=t.mutatedKeys;const c=t.Da.X_();c.sort((y,_)=>function(w,C){const B=O=>{switch(O){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return At()}};return B(w)-B(C)}(y.type,_.type)||this.ya(y.doc,_.doc)),this.Ca(r),a=a!=null&&a;const d=n&&!a?this.Fa():[],m=this.pa.size===0&&this.current&&!a?1:0,p=m!==this.ga;return this.ga=m,c.length!==0||p?{snapshot:new Uo(this.query,t.wa,l,c,t.mutatedKeys,m===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:d}:{Ma:d}}sa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new sA,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(t){return!this.fa.has(t)&&!!this.wa.has(t)&&!this.wa.get(t).hasLocalMutations}Ca(t){t&&(t.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=t.current)}Fa(){if(!this.current)return[];const t=this.pa;this.pa=Nt(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const n=[];return t.forEach(r=>{this.pa.has(r)||n.push(new ZR(r))}),this.pa.forEach(r=>{t.has(r)||n.push(new WR(r))}),n}Oa(t){this.fa=t.gs,this.pa=Nt();const n=this.ba(t.documents);return this.applyChanges(n,!0)}Na(){return Uo.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const $y="SyncEngine";class V4{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class N4{constructor(t){this.key=t,this.Ba=!1}}class L4{constructor(t,n,r,a,l,c){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.La={},this.ka=new va(d=>gR(d),Xf),this.qa=new Map,this.Qa=new Set,this.$a=new ue(vt.comparator),this.Ua=new Map,this.Ka=new ky,this.Wa={},this.Ga=new Map,this.za=ko.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function k4(e,t,n=!0){const r=r1(e);let a;const l=r.ka.get(t);return l?(r.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.Na()):a=await JR(r,t,n,!0),a}async function U4(e,t){const n=r1(e);await JR(n,t,!0,!1)}async function JR(e,t,n,r){const a=await e4(e.localStore,Ri(t)),l=a.targetId,c=e.sharedClientState.addLocalQueryTarget(l,n);let d;return r&&(d=await j4(e,t,l,c==="current",a.resumeToken)),e.isPrimaryClient&&n&&GR(e.remoteStore,a),d}async function j4(e,t,n,r,a){e.Ha=(_,S,w)=>async function(B,O,U,X){let H=O.view.ba(U);H.ls&&(H=await JS(B.localStore,O.query,!1).then(({documents:P})=>O.view.ba(P,H)));const st=X&&X.targetChanges.get(O.targetId),nt=X&&X.targetMismatches.get(O.targetId)!=null,ct=O.view.applyChanges(H,B.isPrimaryClient,st,nt);return uA(B,O.targetId,ct.Ma),ct.snapshot}(e,_,S,w);const l=await JS(e.localStore,t,!0),c=new O4(t,l.gs),d=c.ba(l.documents),m=rc.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline",a),p=c.applyChanges(d,e.isPrimaryClient,m);uA(e,n,p.Ma);const y=new V4(t,n,c);return e.ka.set(t,y),e.qa.has(n)?e.qa.get(n).push(t):e.qa.set(n,[t]),p.snapshot}async function B4(e,t,n){const r=Rt(e),a=r.ka.get(t),l=r.qa.get(a.targetId);if(l.length>1)return r.qa.set(a.targetId,l.filter(c=>!Xf(c,t))),void r.ka.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await Ig(r.localStore,a.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(a.targetId),n&&zy(r.remoteStore,a.targetId),Pg(r,a.targetId)}).catch(Ko)):(Pg(r,a.targetId),await Ig(r.localStore,a.targetId,!0))}async function z4(e,t){const n=Rt(e),r=n.ka.get(t),a=n.qa.get(r.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),zy(n.remoteStore,r.targetId))}async function F4(e,t,n){const r=Q4(e);try{const a=await function(c,d){const m=Rt(c),p=Me.now(),y=d.reduce((w,C)=>w.add(C.key),Nt());let _,S;return m.persistence.runTransaction("Locally write mutations","readwrite",w=>{let C=yr(),B=Nt();return m.ds.getEntries(w,y).next(O=>{C=O,C.forEach((U,X)=>{X.isValidDocument()||(B=B.add(U))})}).next(()=>m.localDocuments.getOverlayedDocuments(w,C)).next(O=>{_=O;const U=[];for(const X of d){const H=ek(X,_.get(X.key).overlayedDocument);H!=null&&U.push(new _a(X.key,H,uR(H.value.mapValue),cr.exists(!0)))}return m.mutationQueue.addMutationBatch(w,p,U,d)}).next(O=>{S=O;const U=O.applyToLocalDocumentSet(_,B);return m.documentOverlayCache.saveOverlays(w,O.batchId,U)})}).then(()=>({batchId:S.batchId,changes:_R(_)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(a.batchId),function(c,d,m){let p=c.Wa[c.currentUser.toKey()];p||(p=new ue(Dt)),p=p.insert(d,m),c.Wa[c.currentUser.toKey()]=p}(r,a.batchId,n),await ac(r,a.changes),await id(r.remoteStore)}catch(a){const l=Ky(a,"Failed to persist write");n.reject(l)}}async function t1(e,t){const n=Rt(e);try{const r=await Zk(n.localStore,t);t.targetChanges.forEach((a,l)=>{const c=n.Ua.get(l);c&&(Gt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?c.Ba=!0:a.modifiedDocuments.size>0?Gt(c.Ba):a.removedDocuments.size>0&&(Gt(c.Ba),c.Ba=!1))}),await ac(n,r,t)}catch(r){await Ko(r)}}function lA(e,t,n){const r=Rt(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const a=[];r.ka.forEach((l,c)=>{const d=c.view.sa(t);d.snapshot&&a.push(d.snapshot)}),function(c,d){const m=Rt(c);m.onlineState=d;let p=!1;m.queries.forEach((y,_)=>{for(const S of _.ta)S.sa(d)&&(p=!0)}),p&&Yy(m)}(r.eventManager,t),a.length&&r.La.p_(a),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function H4(e,t,n){const r=Rt(e);r.sharedClientState.updateQueryState(t,"rejected",n);const a=r.Ua.get(t),l=a&&a.key;if(l){let c=new ue(vt.comparator);c=c.insert(l,nn.newNoDocument(l,wt.min()));const d=Nt().add(l),m=new td(wt.min(),new Map,new ue(Dt),c,d);await t1(r,m),r.$a=r.$a.remove(l),r.Ua.delete(t),Qy(r)}else await Ig(r.localStore,t,!1).then(()=>Pg(r,t,n)).catch(Ko)}async function q4(e,t){const n=Rt(e),r=t.batch.batchId;try{const a=await Wk(n.localStore,t);n1(n,r,null),e1(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ac(n,a)}catch(a){await Ko(a)}}async function G4(e,t,n){const r=Rt(e);try{const a=await function(c,d){const m=Rt(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let y;return m.mutationQueue.lookupMutationBatch(p,d).next(_=>(Gt(_!==null),y=_.keys(),m.mutationQueue.removeMutationBatch(p,_))).next(()=>m.mutationQueue.performConsistencyCheck(p)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(p,y,d)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y)).next(()=>m.localDocuments.getDocuments(p,y))})}(r.localStore,t);n1(r,t,n),e1(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await ac(r,a)}catch(a){await Ko(a)}}function e1(e,t){(e.Ga.get(t)||[]).forEach(n=>{n.resolve()}),e.Ga.delete(t)}function n1(e,t,n){const r=Rt(e);let a=r.Wa[r.currentUser.toKey()];if(a){const l=a.get(t);l&&(n?l.reject(n):l.resolve(),a=a.remove(t)),r.Wa[r.currentUser.toKey()]=a}}function Pg(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.qa.get(t))e.ka.delete(r),n&&e.La.Ja(r,n);e.qa.delete(t),e.isPrimaryClient&&e.Ka.br(t).forEach(r=>{e.Ka.containsKey(r)||i1(e,r)})}function i1(e,t){e.Qa.delete(t.path.canonicalString());const n=e.$a.get(t);n!==null&&(zy(e.remoteStore,n),e.$a=e.$a.remove(t),e.Ua.delete(n),Qy(e))}function uA(e,t,n){for(const r of n)r instanceof WR?(e.Ka.addReference(r.key,t),K4(e,r)):r instanceof ZR?(ht($y,"Document no longer in limbo: "+r.key),e.Ka.removeReference(r.key,t),e.Ka.containsKey(r.key)||i1(e,r.key)):At()}function K4(e,t){const n=t.key,r=n.path.canonicalString();e.$a.get(n)||e.Qa.has(r)||(ht($y,"New document in limbo: "+n),e.Qa.add(r),Qy(e))}function Qy(e){for(;e.Qa.size>0&&e.$a.size<e.maxConcurrentLimboResolutions;){const t=e.Qa.values().next().value;e.Qa.delete(t);const n=new vt(me.fromString(t)),r=e.za.next();e.Ua.set(r,new N4(n)),e.$a=e.$a.insert(n,r),GR(e.remoteStore,new ns(Ri(My(n.path)),r,"TargetPurposeLimboResolution",Kf.ae))}}async function ac(e,t,n){const r=Rt(e),a=[],l=[],c=[];r.ka.isEmpty()||(r.ka.forEach((d,m)=>{c.push(r.Ha(m,t,n).then(p=>{var y;if((p||n)&&r.isPrimaryClient){const _=p?!p.fromCache:(y=n==null?void 0:n.targetChanges.get(m.targetId))===null||y===void 0?void 0:y.current;r.sharedClientState.updateQueryState(m.targetId,_?"current":"not-current")}if(p){a.push(p);const _=jy.Yi(m.targetId,p);l.push(_)}}))}),await Promise.all(c),r.La.p_(a),await async function(m,p){const y=Rt(m);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>et.forEach(p,S=>et.forEach(S.Hi,w=>y.persistence.referenceDelegate.addReference(_,S.targetId,w)).next(()=>et.forEach(S.Ji,w=>y.persistence.referenceDelegate.removeReference(_,S.targetId,w)))))}catch(_){if(!Yo(_))throw _;ht(By,"Failed to update sequence numbers: "+_)}for(const _ of p){const S=_.targetId;if(!_.fromCache){const w=y.Ts.get(S),C=w.snapshotVersion,B=w.withLastLimboFreeSnapshotVersion(C);y.Ts=y.Ts.insert(S,B)}}}(r.localStore,l))}async function Y4(e,t){const n=Rt(e);if(!n.currentUser.isEqual(t)){ht($y,"User change. New user:",t.toKey());const r=await zR(n.localStore,t);n.currentUser=t,function(l,c){l.Ga.forEach(d=>{d.forEach(m=>{m.reject(new yt(rt.CANCELLED,c))})}),l.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await ac(n,r.Rs)}}function $4(e,t){const n=Rt(e),r=n.Ua.get(t);if(r&&r.Ba)return Nt().add(r.key);{let a=Nt();const l=n.qa.get(t);if(!l)return a;for(const c of l){const d=n.ka.get(c);a=a.unionWith(d.view.Sa)}return a}}function r1(e){const t=Rt(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=t1.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=$4.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=H4.bind(null,t),t.La.p_=x4.bind(null,t.eventManager),t.La.Ja=P4.bind(null,t.eventManager),t}function Q4(e){const t=Rt(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=q4.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=G4.bind(null,t),t}class xf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=ed(t.databaseInfo.databaseId),this.sharedClientState=this.Za(t),this.persistence=this.Xa(t),await this.persistence.start(),this.localStore=this.eu(t),this.gcScheduler=this.tu(t,this.localStore),this.indexBackfillerScheduler=this.nu(t,this.localStore)}tu(t,n){return null}nu(t,n){return null}eu(t){return Xk(this.persistence,new Yk,t.initialUser,this.serializer)}Xa(t){return new BR(Uy.ri,this.serializer)}Za(t){return new i4}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}xf.provider={build:()=>new xf};class X4 extends xf{constructor(t){super(),this.cacheSizeBytes=t}tu(t,n){Gt(this.persistence.referenceDelegate instanceof If);const r=this.persistence.referenceDelegate.garbageCollector;return new Mk(r,t.asyncQueue,n)}Xa(t){const n=this.cacheSizeBytes!==void 0?pn.withCacheSize(this.cacheSizeBytes):pn.DEFAULT;return new BR(r=>If.ri(r,n),this.serializer)}}class Mg{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>lA(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Y4.bind(null,this.syncEngine),await w4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new C4}()}createDatastore(t){const n=ed(t.databaseInfo.databaseId),r=function(l){return new l4(l)}(t.databaseInfo);return function(l,c,d,m){return new f4(l,c,d,m)}(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return function(r,a,l,c,d){return new m4(r,a,l,c,d)}(this.localStore,this.datastore,t.asyncQueue,n=>lA(this.syncEngine,n,0),function(){return nA.D()?new nA:new r4}())}createSyncEngine(t,n){return function(a,l,c,d,m,p,y){const _=new L4(a,l,c,d,m,p);return y&&(_.ja=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(a){const l=Rt(a);ht(fa,"RemoteStore shutting down."),l.W_.add(5),await sc(l),l.z_.shutdown(),l.j_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Mg.provider={build:()=>new Mg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W4{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.iu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.iu(this.observer.error,t):gr("Uncaught Error in snapshot listener:",t.toString()))}su(){this.muted=!0}iu(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ps="FirestoreClient";class Z4{constructor(t,n,r,a,l){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=a,this.user=en.UNAUTHENTICATED,this.clientId=Jw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(r,async c=>{ht(ps,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(r,c=>(ht(ps,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new os;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=Ky(n,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function Fp(e,t){e.asyncQueue.verifyOperationInProgress(),ht(ps,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async a=>{r.isEqual(a)||(await zR(t.localStore,a),r=a)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function cA(e,t){e.asyncQueue.verifyOperationInProgress();const n=await J4(e);ht(ps,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(r=>rA(t.remoteStore,r)),e.setAppCheckTokenChangeListener((r,a)=>rA(t.remoteStore,a)),e._onlineComponents=t}async function J4(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){ht(ps,"Using user provided OfflineComponentProvider");try{await Fp(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(a){return a.name==="FirebaseError"?a.code===rt.FAILED_PRECONDITION||a.code===rt.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(n))throw n;Mo("Error using user provided cache. Falling back to memory cache: "+n),await Fp(e,new xf)}}else ht(ps,"Using default OfflineComponentProvider"),await Fp(e,new X4(void 0));return e._offlineComponents}async function s1(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(ht(ps,"Using user provided OnlineComponentProvider"),await cA(e,e._uninitializedComponentsProvider._online)):(ht(ps,"Using default OnlineComponentProvider"),await cA(e,new Mg))),e._onlineComponents}function tU(e){return s1(e).then(t=>t.syncEngine)}async function eU(e){const t=await s1(e),n=t.eventManager;return n.onListen=k4.bind(null,t.syncEngine),n.onUnlisten=B4.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=U4.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=z4.bind(null,t.syncEngine),n}function nU(e,t,n={}){const r=new os;return e.asyncQueue.enqueueAndForget(async()=>function(l,c,d,m,p){const y=new W4({next:S=>{y.su(),c.enqueueAndForget(()=>D4(l,_));const w=S.docs.has(d);!w&&S.fromCache?p.reject(new yt(rt.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&S.fromCache&&m&&m.source==="server"?p.reject(new yt(rt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(S)},error:S=>p.reject(S)}),_=new M4(My(d.path),y,{includeMetadataChanges:!0,Ta:!0});return I4(l,_)}(await eU(e),e.asyncQueue,t,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a1(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hA=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iU(e,t,n){if(!n)throw new yt(rt.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function rU(e,t,n,r){if(t===!0&&r===!0)throw new yt(rt.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function fA(e){if(!vt.isDocumentKey(e))throw new yt(rt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function Xy(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(r){return r.constructor?r.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":At()}function Hu(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new yt(rt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Xy(e);throw new yt(rt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o1="firestore.googleapis.com",dA=!0;class mA{constructor(t){var n,r;if(t.host===void 0){if(t.ssl!==void 0)throw new yt(rt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=o1,this.ssl=dA}else this.host=t.host,this.ssl=(n=t.ssl)!==null&&n!==void 0?n:dA;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=jR;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<xk)throw new yt(rt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}rU("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=a1((r=t.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new yt(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new yt(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new yt(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,a){return r.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Wy{constructor(t,n,r,a){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new mA({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new yt(rt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new yt(rt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new mA(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new sL;switch(r.type){case"firstParty":return new uL(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new yt(rt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=hA.get(n);r&&(ht("ComponentProvider","Removing Datastore"),hA.delete(n),r.terminate())}(this),Promise.resolve()}}function sU(e,t,n,r={}){var a;const l=(e=Hu(e,Wy))._getSettings(),c=Object.assign(Object.assign({},l),{emulatorOptions:e._getEmulatorOptions()}),d=`${t}:${n}`;l.host!==o1&&l.host!==d&&Mo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m=Object.assign(Object.assign({},l),{host:d,ssl:!1,emulatorOptions:r});if(!us(m,c)&&(e._setSettings(m),r.mockUserToken)){let p,y;if(typeof r.mockUserToken=="string")p=r.mockUserToken,y=en.MOCK_USER;else{p=VV(r.mockUserToken,(a=e._app)===null||a===void 0?void 0:a.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new yt(rt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new en(_)}e._authCredentials=new aL(new Ww(p,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zy{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Zy(this.firestore,t,this._query)}}class qn{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new qu(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new qn(this.firestore,t,this._key)}}class qu extends Zy{constructor(t,n,r){super(t,n,My(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new qn(this.firestore,null,new vt(t))}withConverter(t){return new qu(this.firestore,t,this._path)}}function l1(e,t,...n){if(e=wn(e),arguments.length===1&&(t=Jw.newId()),iU("doc","path",t),e instanceof Wy){const r=me.fromString(t,...n);return fA(r),new qn(e,null,new vt(r))}{if(!(e instanceof qn||e instanceof qu))throw new yt(rt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(me.fromString(t,...n));return fA(r),new qn(e.firestore,e instanceof qu?e.converter:null,new vt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pA="AsyncQueue";class gA{constructor(t=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new HR(this,"async_queue_retry"),this.Su=()=>{const r=zp();r&&ht(pA,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.bu=t;const n=zp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Du(),this.vu(t)}enterRestrictedMode(t){if(!this.mu){this.mu=!0,this.yu=t||!1;const n=zp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(t){if(this.Du(),this.mu)return new Promise(()=>{});const n=new os;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Vu.push(t),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(t){if(!Yo(t))throw t;ht(pA,"Operation failed with retryable error: "+t)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(t){const n=this.bu.then(()=>(this.pu=!0,t().catch(r=>{this.gu=r,this.pu=!1;const a=function(c){let d=c.message||"";return c.stack&&(d=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),d}(r);throw gr("INTERNAL UNHANDLED ERROR: ",a),r}).then(r=>(this.pu=!1,r))));return this.bu=n,n}enqueueAfterDelay(t,n,r){this.Du(),this.wu.indexOf(t)>-1&&(n=0);const a=Gy.createAndSchedule(this,t,n,r,l=>this.Fu(l));return this.fu.push(a),a}Du(){this.gu&&At()}verifyOperationInProgress(){}async Mu(){let t;do t=this.bu,await t;while(t!==this.bu)}xu(t){for(const n of this.fu)if(n.timerId===t)return!0;return!1}Ou(t){return this.Mu().then(()=>{this.fu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Mu()})}Nu(t){this.wu.push(t)}Fu(t){const n=this.fu.indexOf(t);this.fu.splice(n,1)}}class Jy extends Wy{constructor(t,n,r,a){super(t,n,r,a),this.type="firestore",this._queue=new gA,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new gA(t),this._firestoreClient=void 0,await t}}}function aU(e,t){const n=typeof e=="object"?e:Fw(),r=typeof e=="string"?e:Ef,a=wy(n,"firestore").getImmediate({identifier:r});if(!a._initialized){const l=MV("firestore");l&&sU(a,...l)}return a}function u1(e){if(e._terminated)throw new yt(rt.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||oU(e),e._firestoreClient}function oU(e){var t,n,r;const a=e._freezeSettings(),l=function(d,m,p,y){return new bL(d,m,p,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,a1(y.experimentalLongPollingOptions),y.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,a);e._componentsProvider||!((n=a.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=a.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(e._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),e._firestoreClient=new Z4(e._authCredentials,e._appCheckCredentials,e._queue,l,e._componentsProvider&&function(d){const m=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(m),_online:m}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(t){this._byteString=t}static fromBase64String(t){try{return new jo(Qe.fromBase64String(t))}catch(n){throw new yt(rt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new jo(Qe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tv{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new yt(rt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $e(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ev{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nv{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new yt(rt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new yt(rt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Dt(this._lat,t._lat)||Dt(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iv{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(r,a){if(r.length!==a.length)return!1;for(let l=0;l<r.length;++l)if(r[l]!==a[l])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lU=/^__.*__$/;class uU{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new _a(t,this.data,this.fieldMask,n,this.fieldTransforms):new ic(t,this.data,n,this.fieldTransforms)}}function c1(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw At()}}class rd{constructor(t,n,r,a,l,c){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=a,l===void 0&&this.Bu(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(t){return new rd(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),a=this.ku({path:r,Qu:!1});return a.$u(t),a}Uu(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),a=this.ku({path:r,Qu:!1});return a.Bu(),a}Ku(t){return this.ku({path:void 0,Qu:!0})}Wu(t){return Pf(t,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let t=0;t<this.path.length;t++)this.$u(this.path.get(t))}$u(t){if(t.length===0)throw this.Wu("Document fields must not be empty");if(c1(this.Lu)&&lU.test(t))throw this.Wu('Document fields cannot begin and end with "__"')}}class cU{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||ed(t)}ju(t,n,r,a=!1){return new rd({Lu:t,methodName:n,zu:r,path:$e.emptyPath(),Qu:!1,Gu:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function hU(e){const t=e._freezeSettings(),n=ed(e._databaseId);return new cU(e._databaseId,!!t.ignoreUndefinedProperties,n)}function fU(e,t,n,r,a,l={}){const c=e.ju(l.merge||l.mergeFields?2:0,t,n,a);d1("Data must be an object, but it was:",c,r);const d=h1(r,c);let m,p;if(l.merge)m=new Jn(c.fieldMask),p=c.fieldTransforms;else if(l.mergeFields){const y=[];for(const _ of l.mergeFields){const S=mU(t,_,n);if(!c.contains(S))throw new yt(rt.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);gU(y,S)||y.push(S)}m=new Jn(y),p=c.fieldTransforms.filter(_=>m.covers(_.field))}else m=null,p=c.fieldTransforms;return new uU(new Fn(d),m,p)}function dU(e,t,n){return new rd({Lu:3,zu:t.settings.zu,methodName:e._methodName,Qu:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class rv extends ev{constructor(t,n){super(t),this.Hu=n}_toFieldTransform(t){const n=dU(this,t,!0),r=this.Hu.map(l=>sv(l,n)),a=new Lo(r);return new WL(t.path,a)}isEqual(t){return t instanceof rv&&us(this.Hu,t.Hu)}}function sv(e,t){if(f1(e=wn(e)))return d1("Unsupported field value:",t,e),h1(e,t);if(e instanceof ev)return function(r,a){if(!c1(a.Lu))throw a.Wu(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Wu(`${r._methodName}() is not currently supported inside arrays`);const l=r._toFieldTransform(a);l&&a.fieldTransforms.push(l)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Qu&&t.Lu!==4)throw t.Wu("Nested arrays are not supported");return function(r,a){const l=[];let c=0;for(const d of r){let m=sv(d,a.Ku(c));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),c++}return{arrayValue:{values:l}}}(e,t)}return function(r,a){if((r=wn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return $L(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const l=Me.fromDate(r);return{timestampValue:Cf(a.serializer,l)}}if(r instanceof Me){const l=new Me(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Cf(a.serializer,l)}}if(r instanceof nv)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof jo)return{bytesValue:MR(a.serializer,r._byteString)};if(r instanceof qn){const l=a.databaseId,c=r.firestore._databaseId;if(!c.isEqual(l))throw a.Wu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Ly(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof iv)return function(c,d){return{mapValue:{fields:{[oR]:{stringValue:lR},[Sf]:{arrayValue:{values:c.toArray().map(p=>{if(typeof p!="number")throw d.Wu("VectorValues must only contain numeric values.");return Oy(d.serializer,p)})}}}}}}(r,a);throw a.Wu(`Unsupported field value: ${Xy(r)}`)}(e,t)}function h1(e,t){const n={};return eR(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ya(e,(r,a)=>{const l=sv(a,t.qu(r));l!=null&&(n[r]=l)}),{mapValue:{fields:n}}}function f1(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Me||e instanceof nv||e instanceof jo||e instanceof qn||e instanceof ev||e instanceof iv)}function d1(e,t,n){if(!f1(n)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(n)){const r=Xy(n);throw r==="an object"?t.Wu(e+" a custom object"):t.Wu(e+" "+r)}}function mU(e,t,n){if((t=wn(t))instanceof tv)return t._internalPath;if(typeof t=="string")return m1(e,t);throw Pf("Field path arguments must be of type string or ",e,!1,void 0,n)}const pU=new RegExp("[~\\*/\\[\\]]");function m1(e,t,n){if(t.search(pU)>=0)throw Pf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new tv(...t.split("."))._internalPath}catch{throw Pf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Pf(e,t,n,r,a){const l=r&&!r.isEmpty(),c=a!==void 0;let d=`Function ${t}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let m="";return(l||c)&&(m+=" (found",l&&(m+=` in field ${r}`),c&&(m+=` in document ${a}`),m+=")"),new yt(rt.INVALID_ARGUMENT,d+e+m)}function gU(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(t,n,r,a,l){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new qn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new yU(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(g1("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class yU extends p1{data(){return super.data()}}function g1(e,t){return typeof t=="string"?m1(e,t):t instanceof tv?t._internalPath:t._delegate._internalPath}class vU{convertValue(t,n="none"){switch(ds(t)){case 0:return null;case 1:return t.booleanValue;case 2:return _e(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(fs(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw At()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return ya(t,(a,l)=>{r[a]=this.convertValue(l,n)}),r}convertVectorValue(t){var n,r,a;const l=(a=(r=(n=t.fields)===null||n===void 0?void 0:n[Sf].arrayValue)===null||r===void 0?void 0:r.values)===null||a===void 0?void 0:a.map(c=>_e(c.doubleValue));return new iv(l)}convertGeoPoint(t){return new nv(_e(t.latitude),_e(t.longitude))}convertArray(t,n){return(t.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(t,n){switch(n){case"previous":const r=$f(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ju(t));default:return null}}convertTimestamp(t){const n=hs(t);return new Me(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=me.fromString(t);Gt(UR(r));const a=new Bu(r.get(1),r.get(3)),l=new vt(r.popFirst(5));return a.isEqual(n)||gr(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _U(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TU{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class y1 extends p1{constructor(t,n,r,a,l,c){super(t,n,r,a,c),this._firestore=t,this._firestoreImpl=t,this.metadata=l}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new EU(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(g1("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class EU extends y1{data(t={}){return super.data(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SU(e){e=Hu(e,qn);const t=Hu(e.firestore,Jy);return nU(u1(t),e._key).then(n=>RU(t,e,n))}class AU extends vU{constructor(t){super(),this.firestore=t}convertBytes(t){return new jo(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new qn(this.firestore,null,n)}}function bU(e,t,n){e=Hu(e,qn);const r=Hu(e.firestore,Jy),a=_U(e.converter,t,n);return wU(r,[fU(hU(r),"setDoc",e._key,a,e.converter!==null,n).toMutation(e._key,cr.none())])}function wU(e,t){return function(r,a){const l=new os;return r.asyncQueue.enqueueAndForget(async()=>F4(await tU(r),a,l)),l.promise}(u1(e),t)}function RU(e,t,n){const r=n.docs.get(t._key),a=new AU(e);return new y1(e,a,t._key,r,new TU(n.hasPendingWrites,n.fromCache),t.converter)}function CU(...e){return new rv("arrayUnion",e)}(function(t,n=!0){(function(a){Go=a})(qo),Po(new ca("firestore",(r,{instanceIdentifier:a,options:l})=>{const c=r.getProvider("app").getImmediate(),d=new Jy(new oL(r.getProvider("auth-internal")),new cL(c,r.getProvider("app-check-internal")),function(p,y){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new yt(rt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Bu(p.options.projectId,y)}(c,a),c);return l=Object.assign({useFetchStreams:n},l),d._setSettings(l),d},"PUBLIC").setMultipleInstances(!0)),ss(AS,bS,t),ss(AS,bS,"esm2017")})();var IU="firebase",DU="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ss(IU,DU,"app");function av(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n}function v1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const xU=v1,_1=new ec("auth","Firebase",v1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mf=new Ay("@firebase/auth");function PU(e,...t){Mf.logLevel<=Vt.WARN&&Mf.warn(`Auth (${qo}): ${e}`,...t)}function rf(e,...t){Mf.logLevel<=Vt.ERROR&&Mf.error(`Auth (${qo}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ni(e,...t){throw ov(e,...t)}function Ii(e,...t){return ov(e,...t)}function T1(e,t,n){const r=Object.assign(Object.assign({},xU()),{[t]:n});return new ec("auth","Firebase",r).create(t,{appName:e.name})}function hr(e){return T1(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ov(e,...t){if(typeof e!="string"){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return _1.create(e,...t)}function Et(e,t,...n){if(!e)throw ov(t,...n)}function or(e){const t="INTERNAL ASSERTION FAILED: "+e;throw rf(t),new Error(t)}function vr(e,t){e||or(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Og(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function MU(){return yA()==="http:"||yA()==="https:"}function yA(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OU(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(MU()||UV()||"connection"in navigator)?navigator.onLine:!0}function VU(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(t,n){this.shortDelay=t,this.longDelay=n,vr(n>t,"Short delay should be less than long delay!"),this.isMobile=NV()||jV()}get(){return OU()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lv(e,t){vr(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;or("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;or("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;or("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NU={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LU=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],kU=new oc(3e4,6e4);function ys(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function vs(e,t,n,r,a={}){return S1(e,a,async()=>{let l={},c={};r&&(t==="GET"?c=r:l={body:JSON.stringify(r)});const d=nc(Object.assign({key:e.config.apiKey},c)).slice(1),m=await e._getAdditionalHeaders();m["Content-Type"]="application/json",e.languageCode&&(m["X-Firebase-Locale"]=e.languageCode);const p=Object.assign({method:t,headers:m},l);return kV()||(p.referrerPolicy="no-referrer"),E1.fetch()(await A1(e,e.config.apiHost,n,d),p)})}async function S1(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},NU),t);try{const a=new jU(e),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw Gh(e,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[m,p]=d.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Gh(e,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw Gh(e,"email-already-in-use",c);if(m==="USER_DISABLED")throw Gh(e,"user-disabled",c);const y=r[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw T1(e,y,p);ni(e,y)}}catch(a){if(a instanceof _r)throw a;ni(e,"network-request-failed",{message:String(a)})}}async function lc(e,t,n,r,a={}){const l=await vs(e,t,n,r,a);return"mfaPendingCredential"in l&&ni(e,"multi-factor-auth-required",{_serverResponse:l}),l}async function A1(e,t,n,r){const a=`${t}${n}?${r}`,l=e,c=l.config.emulator?lv(e.config,a):`${e.config.apiScheme}://${a}`;return LU.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function UU(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class jU{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ii(this.auth,"network-request-failed")),kU.get())})}}function Gh(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const a=Ii(e,t,r);return a.customData._tokenResponse=n,a}function vA(e){return e!==void 0&&e.enterprise!==void 0}class BU{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return UU(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function zU(e,t){return vs(e,"GET","/v2/recaptchaConfig",ys(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FU(e,t){return vs(e,"POST","/v1/accounts:delete",t)}async function Of(e,t){return vs(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wu(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function HU(e,t=!1){const n=wn(e),r=await n.getIdToken(t),a=uv(r);Et(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:a,token:r,authTime:wu(Hp(a.auth_time)),issuedAtTime:wu(Hp(a.iat)),expirationTime:wu(Hp(a.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function Hp(e){return Number(e)*1e3}function uv(e){const[t,n,r]=e.split(".");if(t===void 0||n===void 0||r===void 0)return rf("JWT malformed, contained fewer than 3 sections"),null;try{const a=Nw(n);return a?JSON.parse(a):(rf("Failed to decode base64 JWT payload"),null)}catch(a){return rf("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function _A(e){const t=uv(e);return Et(t,"internal-error"),Et(typeof t.exp<"u","internal-error"),Et(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gu(e,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof _r&&qU(r)&&e.auth.currentUser===e&&await e.auth.signOut(),r}}function qU({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GU{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const a=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=wu(this.lastLoginAt),this.creationTime=wu(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vf(e){var t;const n=e.auth,r=await e.getIdToken(),a=await Gu(e,Of(n,{idToken:r}));Et(a==null?void 0:a.users.length,n,"internal-error");const l=a.users[0];e._notifyReloadListener(l);const c=!((t=l.providerUserInfo)===null||t===void 0)&&t.length?b1(l.providerUserInfo):[],d=YU(e.providerData,c),m=e.isAnonymous,p=!(e.email&&l.passwordHash)&&!(d!=null&&d.length),y=m?p:!1,_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Vg(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(e,_)}async function KU(e){const t=wn(e);await Vf(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function YU(e,t){return[...e.filter(r=>!t.some(a=>a.providerId===r.providerId)),...t]}function b1(e){return e.map(t=>{var{providerId:n}=t,r=av(t,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $U(e,t){const n=await S1(e,{},async()=>{const r=nc({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:a,apiKey:l}=e.config,c=await A1(e,a,"/v1/token",`key=${l}`),d=await e._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",E1.fetch()(c,{method:"POST",headers:d,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function QU(e,t){return vs(e,"POST","/v2/accounts:revokeToken",ys(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Et(t.idToken,"internal-error"),Et(typeof t.idToken<"u","internal-error"),Et(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):_A(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){Et(t.length!==0,"internal-error");const n=_A(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Et(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:r,refreshToken:a,expiresIn:l}=await $U(t,n);this.updateTokensAndExpiration(r,a,Number(l))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){const{refreshToken:r,accessToken:a,expirationTime:l}=n,c=new Ro;return r&&(Et(typeof r=="string","internal-error",{appName:t}),c.refreshToken=r),a&&(Et(typeof a=="string","internal-error",{appName:t}),c.accessToken=a),l&&(Et(typeof l=="number","internal-error",{appName:t}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ro,this.toJSON())}_performRefresh(){return or("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qr(e,t){Et(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class ti{constructor(t){var{uid:n,auth:r,stsTokenManager:a}=t,l=av(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new GU(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Vg(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const n=await Gu(this,this.stsTokenManager.getToken(this.auth,t));return Et(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return HU(this,t)}reload(){return KU(this)}_assign(t){this!==t&&(Et(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new ti(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){Et(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await Vf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(zn(this.auth.app))return Promise.reject(hr(this.auth));const t=await this.getIdToken();return await Gu(this,FU(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var r,a,l,c,d,m,p,y;const _=(r=n.displayName)!==null&&r!==void 0?r:void 0,S=(a=n.email)!==null&&a!==void 0?a:void 0,w=(l=n.phoneNumber)!==null&&l!==void 0?l:void 0,C=(c=n.photoURL)!==null&&c!==void 0?c:void 0,B=(d=n.tenantId)!==null&&d!==void 0?d:void 0,O=(m=n._redirectEventId)!==null&&m!==void 0?m:void 0,U=(p=n.createdAt)!==null&&p!==void 0?p:void 0,X=(y=n.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:H,emailVerified:st,isAnonymous:nt,providerData:ct,stsTokenManager:P}=n;Et(H&&P,t,"internal-error");const R=Ro.fromJSON(this.name,P);Et(typeof H=="string",t,"internal-error"),Qr(_,t.name),Qr(S,t.name),Et(typeof st=="boolean",t,"internal-error"),Et(typeof nt=="boolean",t,"internal-error"),Qr(w,t.name),Qr(C,t.name),Qr(B,t.name),Qr(O,t.name),Qr(U,t.name),Qr(X,t.name);const I=new ti({uid:H,auth:t,email:S,emailVerified:st,displayName:_,isAnonymous:nt,photoURL:C,phoneNumber:w,tenantId:B,stsTokenManager:R,createdAt:U,lastLoginAt:X});return ct&&Array.isArray(ct)&&(I.providerData=ct.map(M=>Object.assign({},M))),O&&(I._redirectEventId=O),I}static async _fromIdTokenResponse(t,n,r=!1){const a=new Ro;a.updateFromServerResponse(n);const l=new ti({uid:n.localId,auth:t,stsTokenManager:a,isAnonymous:r});return await Vf(l),l}static async _fromGetAccountInfoResponse(t,n,r){const a=n.users[0];Et(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?b1(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!(l!=null&&l.length),d=new Ro;d.updateFromIdToken(r);const m=new ti({uid:a.localId,auth:t,stsTokenManager:d,isAnonymous:c}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Vg(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(l!=null&&l.length)};return Object.assign(m,p),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TA=new Map;function lr(e){vr(e instanceof Function,"Expected a class definition");let t=TA.get(e);return t?(vr(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,TA.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}w1.type="NONE";const EA=w1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sf(e,t,n){return`firebase:${e}:${t}:${n}`}class Co{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:a,name:l}=this.auth;this.fullUserKey=sf(this.userKey,a.apiKey,l),this.fullPersistenceKey=sf("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await Of(this.auth,{idToken:t}).catch(()=>{});return n?ti._fromGetAccountInfoResponse(this.auth,n,t):null}return ti._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new Co(lr(EA),t,r);const a=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=a[0]||lr(EA);const c=sf(r,t.config.apiKey,t.name);let d=null;for(const p of n)try{const y=await p._get(c);if(y){let _;if(typeof y=="string"){const S=await Of(t,{idToken:y}).catch(()=>{});if(!S)break;_=await ti._fromGetAccountInfoResponse(t,S,y)}else _=ti._fromJSON(t,y);p!==l&&(d=_),l=p;break}}catch{}const m=a.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new Co(l,t,r):(l=m[0],d&&await l._set(c,d.toJSON()),await Promise.all(n.map(async p=>{if(p!==l)try{await p._remove(c)}catch{}})),new Co(l,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SA(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(D1(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(R1(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(P1(t))return"Blackberry";if(M1(t))return"Webos";if(C1(t))return"Safari";if((t.includes("chrome/")||I1(t))&&!t.includes("edge/"))return"Chrome";if(x1(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=e.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function R1(e=sn()){return/firefox\//i.test(e)}function C1(e=sn()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function I1(e=sn()){return/crios\//i.test(e)}function D1(e=sn()){return/iemobile/i.test(e)}function x1(e=sn()){return/android/i.test(e)}function P1(e=sn()){return/blackberry/i.test(e)}function M1(e=sn()){return/webos/i.test(e)}function cv(e=sn()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function XU(e=sn()){var t;return cv(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function WU(){return BV()&&document.documentMode===10}function O1(e=sn()){return cv(e)||x1(e)||M1(e)||P1(e)||/windows phone/i.test(e)||D1(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V1(e,t=[]){let n;switch(e){case"Browser":n=SA(sn());break;case"Worker":n=`${SA(sn())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${qo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZU{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=l=>new Promise((c,d)=>{try{const m=t(l);c(m)}catch(m){d(m)}});r.onAbort=n,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const r of this.queue)await r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JU(e,t={}){return vs(e,"GET","/v2/passwordPolicy",ys(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t9=6;class e9{constructor(t){var n,r,a,l;const c=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=c.minPasswordLength)!==null&&n!==void 0?n:t9,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(r=t.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(l=t.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,r,a,l,c,d;const m={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,m),this.validatePasswordCharacterOptions(t,m),m.isValid&&(m.isValid=(n=m.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),m.isValid&&(m.isValid=(r=m.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),m.isValid&&(m.isValid=(a=m.containsLowercaseLetter)!==null&&a!==void 0?a:!0),m.isValid&&(m.isValid=(l=m.containsUppercaseLetter)!==null&&l!==void 0?l:!0),m.isValid&&(m.isValid=(c=m.containsNumericCharacter)!==null&&c!==void 0?c:!0),m.isValid&&(m.isValid=(d=m.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),m}validatePasswordLengthOptions(t,n){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=t.length>=r),a&&(n.meetsMaxPasswordLength=t.length<=a)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let a=0;a<t.length;a++)r=t.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,n,r,a,l){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n9{constructor(t,n,r,a){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new AA(this),this.idTokenSubscription=new AA(this),this.beforeStateQueue=new ZU(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=lr(n)),this._initializationPromise=this.queue(async()=>{var r,a,l;if(!this._deleted&&(this.persistenceManager=await Co.create(this,t),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await Of(this,{idToken:t}),r=await ti._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(zn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let a=r,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,d=a==null?void 0:a._redirectEventId,m=await this.tryRedirectSignIn(t);(!c||c===d)&&(m!=null&&m.user)&&(a=m.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Et(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Vf(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=VU()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(zn(this.app))return Promise.reject(hr(this));const n=t?wn(t):null;return n&&Et(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&Et(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return zn(this.app)?Promise.reject(hr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return zn(this.app)?Promise.reject(hr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(lr(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await JU(this),n=new e9(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new ec("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await QU(this,r)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&lr(t)||this._popupRedirectResolver;Et(n,this,"argument-error"),this.redirectPersistenceManager=await Co.create(this,[lr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Et(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof n=="function"){const m=t.addObserver(n,r,a);return()=>{c=!0,m()}}else{const m=t.addObserver(n);return()=>{c=!0,m()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Et(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=V1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const a=await this._getAppCheckToken();return a&&(n["X-Firebase-AppCheck"]=a),n}async _getAppCheckToken(){var t;if(zn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&PU(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ea(e){return wn(e)}class AA{constructor(t){this.auth=t,this.observer=null,this.addObserver=$V(n=>this.observer=n)}get next(){return Et(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function i9(e){sd=e}function N1(e){return sd.loadJS(e)}function r9(){return sd.recaptchaEnterpriseScript}function s9(){return sd.gapiScript}function a9(e){return`__${e}${Math.floor(Math.random()*1e6)}`}class o9{constructor(){this.enterprise=new l9}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class l9{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const u9="recaptcha-enterprise",L1="NO_RECAPTCHA";class c9{constructor(t){this.type=u9,this.auth=Ea(t)}async verify(t="verify",n=!1){async function r(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,d)=>{zU(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const p=new BU(m);return l.tenantId==null?l._agentRecaptchaConfig=p:l._tenantRecaptchaConfigs[l.tenantId]=p,c(p.siteKey)}}).catch(m=>{d(m)})})}function a(l,c,d){const m=window.grecaptcha;vA(m)?m.enterprise.ready(()=>{m.enterprise.execute(l,{action:t}).then(p=>{c(p)}).catch(()=>{c(L1)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new o9().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{r(this.auth).then(d=>{if(!n&&vA(window.grecaptcha))a(d,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let m=r9();m.length!==0&&(m+=d),N1(m).then(()=>{a(d,l,c)}).catch(p=>{c(p)})}}).catch(d=>{c(d)})})}}async function bA(e,t,n,r=!1,a=!1){const l=new c9(e);let c;if(a)c=L1;else try{c=await l.verify(n)}catch{c=await l.verify(n,!0)}const d=Object.assign({},t);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const m=d.phoneEnrollmentInfo.phoneNumber,p=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const m=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return r?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function Ng(e,t,n,r,a){var l;if(!((l=e._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await bA(e,t,n,n==="getOobCode");return r(e,c)}else return r(e,t).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await bA(e,t,n,n==="getOobCode");return r(e,d)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h9(e,t){const n=wy(e,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(us(l,t??{}))return a;ni(a,"already-initialized")}return n.initialize({options:t})}function f9(e,t){const n=(t==null?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(lr);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t==null?void 0:t.popupRedirectResolver)}function d9(e,t,n){const r=Ea(e);Et(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const a=!1,l=k1(t),{host:c,port:d}=m9(t),m=d===null?"":`:${d}`,p={url:`${l}//${c}${m}/`},y=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){Et(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Et(us(p,r.config.emulator)&&us(y,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=y,r.settings.appVerificationDisabledForTesting=!0,p9()}function k1(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function m9(e){const t=k1(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const l=a[1];return{host:l,port:wA(r.substr(l.length+1))}}else{const[l,c]=r.split(":");return{host:l,port:wA(c)}}}function wA(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function p9(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hv{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return or("not implemented")}_getIdTokenResponse(t){return or("not implemented")}_linkToIdToken(t,n){return or("not implemented")}_getReauthenticationResolver(t){return or("not implemented")}}async function g9(e,t){return vs(e,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y9(e,t){return lc(e,"POST","/v1/accounts:signInWithPassword",ys(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v9(e,t){return lc(e,"POST","/v1/accounts:signInWithEmailLink",ys(e,t))}async function _9(e,t){return lc(e,"POST","/v1/accounts:signInWithEmailLink",ys(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku extends hv{constructor(t,n,r,a=null){super("password",r),this._email=t,this._password=n,this._tenantId=a}static _fromEmailAndPassword(t,n){return new Ku(t,n,"password")}static _fromEmailAndCode(t,n,r=null){return new Ku(t,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ng(t,n,"signInWithPassword",y9);case"emailLink":return v9(t,{email:this._email,oobCode:this._password});default:ni(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ng(t,r,"signUpPassword",g9);case"emailLink":return _9(t,{idToken:n,email:this._email,oobCode:this._password});default:ni(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Io(e,t){return lc(e,"POST","/v1/accounts:signInWithIdp",ys(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T9="http://localhost";class da extends hv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new da(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):ni("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:a}=n,l=av(n,["providerId","signInMethod"]);if(!r||!a)return null;const c=new da(r,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(t){const n=this.buildRequest();return Io(t,n)}_linkToIdToken(t,n){const r=this.buildRequest();return r.idToken=n,Io(t,r)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Io(t,n)}buildRequest(){const t={requestUri:T9,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=nc(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E9(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function S9(e){const t=fu(du(e)).link,n=t?fu(du(t)).deep_link_id:null,r=fu(du(e)).deep_link_id;return(r?fu(du(r)).link:null)||r||n||t||e}class fv{constructor(t){var n,r,a,l,c,d;const m=fu(du(t)),p=(n=m.apiKey)!==null&&n!==void 0?n:null,y=(r=m.oobCode)!==null&&r!==void 0?r:null,_=E9((a=m.mode)!==null&&a!==void 0?a:null);Et(p&&y&&_,"argument-error"),this.apiKey=p,this.operation=_,this.code=y,this.continueUrl=(l=m.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(c=m.languageCode)!==null&&c!==void 0?c:null,this.tenantId=(d=m.tenantId)!==null&&d!==void 0?d:null}static parseLink(t){const n=S9(t);try{return new fv(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(){this.providerId=Qo.PROVIDER_ID}static credential(t,n){return Ku._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const r=fv.parseLink(n);return Et(r,"argument-error"),Ku._fromEmailAndCode(t,r.code,r.tenantId)}}Qo.PROVIDER_ID="password";Qo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Qo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc extends U1{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr extends uc{constructor(){super("facebook.com")}static credential(t){return da._fromParams({providerId:Zr.PROVIDER_ID,signInMethod:Zr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Zr.credentialFromTaggedObject(t)}static credentialFromError(t){return Zr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Zr.credential(t.oauthAccessToken)}catch{return null}}}Zr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Zr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr extends uc{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return da._fromParams({providerId:Jr.PROVIDER_ID,signInMethod:Jr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Jr.credentialFromTaggedObject(t)}static credentialFromError(t){return Jr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Jr.credential(n,r)}catch{return null}}}Jr.GOOGLE_SIGN_IN_METHOD="google.com";Jr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts extends uc{constructor(){super("github.com")}static credential(t){return da._fromParams({providerId:ts.PROVIDER_ID,signInMethod:ts.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ts.credentialFromTaggedObject(t)}static credentialFromError(t){return ts.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ts.credential(t.oauthAccessToken)}catch{return null}}}ts.GITHUB_SIGN_IN_METHOD="github.com";ts.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es extends uc{constructor(){super("twitter.com")}static credential(t,n){return da._fromParams({providerId:es.PROVIDER_ID,signInMethod:es.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return es.credentialFromTaggedObject(t)}static credentialFromError(t){return es.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return es.credential(n,r)}catch{return null}}}es.TWITTER_SIGN_IN_METHOD="twitter.com";es.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A9(e,t){return lc(e,"POST","/v1/accounts:signUp",ys(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,r,a=!1){const l=await ti._fromIdTokenResponse(t,r,a),c=RA(r);return new ma({user:l,providerId:c,_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){await t._updateTokensIfNecessary(r,!0);const a=RA(r);return new ma({user:t,providerId:a,_tokenResponse:r,operationType:n})}}function RA(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf extends _r{constructor(t,n,r,a){var l;super(n.code,n.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,Nf.prototype),this.customData={appName:t.name,tenantId:(l=t.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,a){return new Nf(t,n,r,a)}}function j1(e,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Nf._fromErrorAndOperation(e,l,t,r):l})}async function b9(e,t,n=!1){const r=await Gu(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return ma._forOperation(e,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w9(e,t,n=!1){const{auth:r}=e;if(zn(r.app))return Promise.reject(hr(r));const a="reauthenticate";try{const l=await Gu(e,j1(r,a,t,e),n);Et(l.idToken,r,"internal-error");const c=uv(l.idToken);Et(c,r,"internal-error");const{sub:d}=c;return Et(e.uid===d,r,"user-mismatch"),ma._forOperation(e,a,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&ni(r,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B1(e,t,n=!1){if(zn(e.app))return Promise.reject(hr(e));const r="signIn",a=await j1(e,r,t),l=await ma._fromIdTokenResponse(e,r,a);return n||await e._updateCurrentUser(l.user),l}async function R9(e,t){return B1(Ea(e),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z1(e){const t=Ea(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function C9(e,t,n){if(zn(e.app))return Promise.reject(hr(e));const r=Ea(e),c=await Ng(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",A9).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&z1(e),m}),d=await ma._fromIdTokenResponse(r,"signIn",c);return await r._updateCurrentUser(d.user),d}function I9(e,t,n){return zn(e.app)?Promise.reject(hr(e)):R9(wn(e),Qo.credential(t,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&z1(e),r})}function D9(e,t,n,r){return wn(e).onIdTokenChanged(t,n,r)}function x9(e,t,n){return wn(e).beforeAuthStateChanged(t,n)}function P9(e,t,n,r){return wn(e).onAuthStateChanged(t,n,r)}function M9(e){return wn(e).signOut()}const Lf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Lf,"1"),this.storage.removeItem(Lf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O9=1e3,V9=10;class H1 extends F1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=O1(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),a=this.localCache[n];r!==a&&t(n,a,r)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((c,d,m)=>{this.notifyListeners(c,m)});return}const r=t.key;n?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(r);!n&&this.localCache[r]===c||this.notifyListeners(r,c)},l=this.storage.getItem(r);WU()&&l!==t.newValue&&t.newValue!==t.oldValue?setTimeout(a,V9):a()}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const a of Array.from(r))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},O9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}H1.type="LOCAL";const N9=H1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1 extends F1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}q1.type="SESSION";const G1=q1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L9(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(a=>a.isListeningto(t));if(n)return n;const r=new ad(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:r,eventType:a,data:l}=n.data,c=this.handlersMap[a];if(!(c!=null&&c.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const d=Array.from(c).map(async p=>p(n.origin,l)),m=await L9(d);n.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:m})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ad.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dv(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k9{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((d,m)=>{const p=dv("",20);a.port1.start();const y=setTimeout(()=>{m(new Error("unsupported_event"))},r);c={messageChannel:a,onMessage(_){const S=_;if(S.data.eventId===p)switch(S.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(S.data.response);break;default:clearTimeout(y),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:t,eventId:p,data:n},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Di(){return window}function U9(e){Di().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K1(){return typeof Di().WorkerGlobalScope<"u"&&typeof Di().importScripts=="function"}async function j9(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function B9(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function z9(){return K1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y1="firebaseLocalStorageDb",F9=1,kf="firebaseLocalStorage",$1="fbase_key";class cc{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function od(e,t){return e.transaction([kf],t?"readwrite":"readonly").objectStore(kf)}function H9(){const e=indexedDB.deleteDatabase(Y1);return new cc(e).toPromise()}function Lg(){const e=indexedDB.open(Y1,F9);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const r=e.result;try{r.createObjectStore(kf,{keyPath:$1})}catch(a){n(a)}}),e.addEventListener("success",async()=>{const r=e.result;r.objectStoreNames.contains(kf)?t(r):(r.close(),await H9(),t(await Lg()))})})}async function CA(e,t,n){const r=od(e,!0).put({[$1]:t,value:n});return new cc(r).toPromise()}async function q9(e,t){const n=od(e,!1).get(t),r=await new cc(n).toPromise();return r===void 0?null:r.value}function IA(e,t){const n=od(e,!0).delete(t);return new cc(n).toPromise()}const G9=800,K9=3;class Q1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Lg(),this.db)}async _withRetries(t){let n=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(n++>K9)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return K1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ad._getInstance(z9()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await j9(),!this.activeServiceWorker)return;this.sender=new k9(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((t=r[0])===null||t===void 0)&&t.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||B9()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Lg();return await CA(t,Lf,"1"),await IA(t,Lf),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>CA(r,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(r=>q9(r,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>IA(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(a=>{const l=od(a,!1).getAll();return new cc(l).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(t.length!==0)for(const{fbase_key:a,value:l}of t)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const a of Array.from(r))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),G9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Q1.type="LOCAL";const Y9=Q1;new oc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $9(e,t){return t?lr(t):(Et(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mv extends hv{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Io(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Io(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Io(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function Q9(e){return B1(e.auth,new mv(e),e.bypassAuthState)}function X9(e){const{auth:t,user:n}=e;return Et(n,t,"internal-error"),w9(n,new mv(e),e.bypassAuthState)}async function W9(e){const{auth:t,user:n}=e;return Et(n,t,"internal-error"),b9(n,new mv(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1{constructor(t,n,r,a,l=!1){this.auth=t,this.resolver=r,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:r,postBody:a,tenantId:l,error:c,type:d}=t;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:n,sessionId:r,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(m))}catch(p){this.reject(p)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return Q9;case"linkViaPopup":case"linkViaRedirect":return W9;case"reauthViaPopup":case"reauthViaRedirect":return X9;default:ni(this.auth,"internal-error")}}resolve(t){vr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){vr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z9=new oc(2e3,1e4);class bo extends X1{constructor(t,n,r,a,l){super(t,n,a,l),this.provider=r,this.authWindow=null,this.pollId=null,bo.currentPopupAction&&bo.currentPopupAction.cancel(),bo.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Et(t,this.auth,"internal-error"),t}async onExecution(){vr(this.filter.length===1,"Popup operations only handle one event");const t=dv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ii(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Ii(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,bo.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ii(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,Z9.get())};t()}}bo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J9="pendingRedirect",af=new Map;class t3 extends X1{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let t=af.get(this.auth._key());if(!t){try{const r=await e3(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}af.set(this.auth._key(),t)}return this.bypassAuthState||af.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function e3(e,t){const n=r3(t),r=i3(e);if(!await r._isAvailable())return!1;const a=await r._get(n)==="true";return await r._remove(n),a}function n3(e,t){af.set(e._key(),t)}function i3(e){return lr(e._redirectPersistence)}function r3(e){return sf(J9,e.config.apiKey,e.name)}async function s3(e,t,n=!1){if(zn(e.app))return Promise.reject(hr(e));const r=Ea(e),a=$9(r,t),c=await new t3(r,a,n).execute();return c&&!n&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,t)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a3=10*60*1e3;class o3{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!l3(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var r;if(t.error&&!W1(t)){const a=((r=t.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ii(this.auth,a))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=a3&&this.cachedEventUids.clear(),this.cachedEventUids.has(DA(t))}saveEventToCache(t){this.cachedEventUids.add(DA(t)),this.lastProcessedEventTime=Date.now()}}function DA(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function W1({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function l3(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return W1(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u3(e,t={}){return vs(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,h3=/^https?/;async function f3(e){if(e.config.emulator)return;const{authorizedDomains:t}=await u3(e);for(const n of t)try{if(d3(n))return}catch{}ni(e,"unauthorized-domain")}function d3(e){const t=Og(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const c=new URL(e);return c.hostname===""&&r===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===r}if(!h3.test(n))return!1;if(c3.test(e))return r===e;const a=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m3=new oc(3e4,6e4);function xA(){const e=Di().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function p3(e){return new Promise((t,n)=>{var r,a,l;function c(){xA(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{xA(),n(Ii(e,"network-request-failed"))},timeout:m3.get()})}if(!((a=(r=Di().gapi)===null||r===void 0?void 0:r.iframes)===null||a===void 0)&&a.Iframe)t(gapi.iframes.getContext());else if(!((l=Di().gapi)===null||l===void 0)&&l.load)c();else{const d=a9("iframefcb");return Di()[d]=()=>{gapi.load?c():n(Ii(e,"network-request-failed"))},N1(`${s9()}?onload=${d}`).catch(m=>n(m))}}).catch(t=>{throw of=null,t})}let of=null;function g3(e){return of=of||p3(e),of}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y3=new oc(5e3,15e3),v3="__/auth/iframe",_3="emulator/auth/iframe",T3={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},E3=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function S3(e){const t=e.config;Et(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?lv(t,_3):`https://${e.config.authDomain}/${v3}`,r={apiKey:t.apiKey,appName:e.name,v:qo},a=E3.get(e.config.apiHost);a&&(r.eid=a);const l=e._getFrameworks();return l.length&&(r.fw=l.join(",")),`${n}?${nc(r).slice(1)}`}async function A3(e){const t=await g3(e),n=Di().gapi;return Et(n,e,"internal-error"),t.open({where:document.body,url:S3(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:T3,dontclear:!0},r=>new Promise(async(a,l)=>{await r.restyle({setHideOnLeave:!1});const c=Ii(e,"network-request-failed"),d=Di().setTimeout(()=>{l(c)},y3.get());function m(){Di().clearTimeout(d),a(r)}r.ping(m).then(m,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},w3=500,R3=600,C3="_blank",I3="http://localhost";class PA{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function D3(e,t,n,r=w3,a=R3){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const m=Object.assign(Object.assign({},b3),{width:r.toString(),height:a.toString(),top:l,left:c}),p=sn().toLowerCase();n&&(d=I1(p)?C3:n),R1(p)&&(t=t||I3,m.scrollbars="yes");const y=Object.entries(m).reduce((S,[w,C])=>`${S}${w}=${C},`,"");if(XU(p)&&d!=="_self")return x3(t||"",d),new PA(null);const _=window.open(t||"",d,y);Et(_,e,"popup-blocked");try{_.focus()}catch{}return new PA(_)}function x3(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P3="__/auth/handler",M3="emulator/auth/handler",O3=encodeURIComponent("fac");async function MA(e,t,n,r,a,l){Et(e.config.authDomain,e,"auth-domain-config-required"),Et(e.config.apiKey,e,"invalid-api-key");const c={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:qo,eventId:a};if(t instanceof U1){t.setDefaultLanguage(e.languageCode),c.providerId=t.providerId||"",YV(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[y,_]of Object.entries({}))c[y]=_}if(t instanceof uc){const y=t.getScopes().filter(_=>_!=="");y.length>0&&(c.scopes=y.join(","))}e.tenantId&&(c.tid=e.tenantId);const d=c;for(const y of Object.keys(d))d[y]===void 0&&delete d[y];const m=await e._getAppCheckToken(),p=m?`#${O3}=${encodeURIComponent(m)}`:"";return`${V3(e)}?${nc(d).slice(1)}${p}`}function V3({config:e}){return e.emulator?lv(e,M3):`https://${e.authDomain}/${P3}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qp="webStorageSupport";class N3{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=G1,this._completeRedirectFn=s3,this._overrideRedirectResult=n3}async _openPopup(t,n,r,a){var l;vr((l=this.eventManagers[t._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const c=await MA(t,n,r,Og(),a);return D3(t,c,dv())}async _openRedirect(t,n,r,a){await this._originValidation(t);const l=await MA(t,n,r,Og(),a);return U9(l),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(vr(l,"If manager is not set, promise should be"),l)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(t){const n=await A3(t),r=new o3(t);return n.register("authEvent",a=>(Et(a==null?void 0:a.authEvent,t,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(qp,{type:qp},a=>{var l;const c=(l=a==null?void 0:a[0])===null||l===void 0?void 0:l[qp];c!==void 0&&n(!!c),ni(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=f3(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return O1()||C1()||cv()}}const L3=N3;var OA="@firebase/auth",VA="1.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k3{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{t((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Et(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U3(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function j3(e){Po(new ca("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),a=t.getProvider("heartbeat"),l=t.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=r.options;Et(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const m={apiKey:c,authDomain:d,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:V1(e)},p=new n9(r,a,l,m);return f9(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),Po(new ca("auth-internal",t=>{const n=Ea(t.getProvider("auth").getImmediate());return(r=>new k3(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ss(OA,VA,U3(e)),ss(OA,VA,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B3=5*60,z3=Uw("authIdTokenMaxAge")||B3;let NA=null;const F3=e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>z3)return;const a=n==null?void 0:n.token;NA!==a&&(NA=a,await fetch(e,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function H3(e=Fw()){const t=wy(e,"auth");if(t.isInitialized())return t.getImmediate();const n=h9(e,{popupRedirectResolver:L3,persistence:[Y9,N9,G1]}),r=Uw("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(r,location.origin);if(location.origin===l.origin){const c=F3(l.toString());x9(n,c,()=>c(n.currentUser)),D9(n,d=>c(d))}}const a=Lw("auth");return a&&d9(n,`http://${a}`),n}function q3(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}i9({loadJS(e){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=a=>{const l=Ii("internal-error");l.customData=a,n(l)},r.type="text/javascript",r.charset="UTF-8",q3().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});j3("Browser");const G3={apiKey:"AIzaSyBX52Y8qusvKDKgfljAAQMBDbCZMqsChKc",authDomain:"movicategoriz.firebaseapp.com",projectId:"movicategoriz",storageBucket:"movicategoriz.firebasestorage.app",messagingSenderId:"303046264542",appId:"1:303046264542:web:aae2813c76d924c773e44f"},Z1=zw(G3),ld=H3(Z1),J1=aU(Z1),K3=async(e,t)=>{const n=l1(J1,"users",e);await bU(n,{watchlist:CU(t)},{merge:!0})},Gn={popularMovies:"https://api.themoviedb.org/3/movie/popular?api_key=5caadb1fd8920f5739a0363d7a09ff67",topRatedMovies:"https://api.themoviedb.org/3/movie/top_rated?api_key=5caadb1fd8920f5739a0363d7a09ff67",upcomingMovies:"https://api.themoviedb.org/3/movie/upcoming?api_key=5caadb1fd8920f5739a0363d7a09ff67",trendingMovies:"https://api.themoviedb.org/3/trending/movie/week?api_key=5caadb1fd8920f5739a0363d7a09ff67",genres:"https://api.themoviedb.org/3/genre/movie/list?api_key=5caadb1fd8920f5739a0363d7a09ff67",movieDetails:e=>`https://api.themoviedb.org/3/movie/${e}?api_key=5caadb1fd8920f5739a0363d7a09ff67`,movieCredits:e=>`https://api.themoviedb.org/3/movie/${e}/credits?api_key=5caadb1fd8920f5739a0363d7a09ff67`,discoverByGenre:e=>`https://api.themoviedb.org/3/discover/movie?api_key=5caadb1fd8920f5739a0363d7a09ff67&with_genres=${e}`,movieLists:e=>`https://api.themoviedb.org/3/movie/${e}/lists?api_key=5caadb1fd8920f5739a0363d7a09ff67`};function ei(e){const[t,n]=L.useState(null),[r,a]=L.useState(!0),[l,c]=L.useState(null);return L.useEffect(()=>{e&&fetch(e,{method:"GET",headers:{"Content-Type":"application/json"}}).then(d=>{if(!d.ok)throw new Error("Network response was not ok"+d.statusText);return d.json()}).then(d=>{n(d),console.log("data",d.results),a(!1)}).catch(d=>{console.error("Error fetching data:",d),c(d),a(!1)})},[]),{data:t,loading:r,error:l}}const tC=L.createContext(),Y3=({children:e})=>{const[t,n]=L.useState(null);L.useEffect(()=>{const a=P9(ld,l=>{n(l)});return()=>a()});const r=!!t;return k.jsx(tC.Provider,{value:{user:t,isSignedUP:r},children:e})},hc=()=>L.useContext(tC);function $3({setShowmodal:e,showModal:t,movieId:n,isDisableCard:r=!0}){var y,_;const{data:a,loading:l}=ei(Gn.movieDetails(n)),{data:c,loading:d}=ei(Gn.movieCredits(n)),{user:m}=hc(),p=async S=>{if(!m)return alert("You need to log in first");await K3(m.uid,S),alert("Movie added!")};return k.jsx(k.Fragment,{children:k.jsxs("div",{className:"expandedDetailsContainer",children:[k.jsx("div",{className:"cancelButton",onClick:()=>{e(!1)},children:"X"}),!l&&!d?k.jsxs("div",{className:"expandedDetails",children:[k.jsx("div",{className:"expandedDetailsImg",style:{backgroundImage:`url(https://image.tmdb.org/t/p/original${a.poster_path})`}}),k.jsxs("div",{className:"expandedDetailsDescription",children:[k.jsxs("div",{className:"expandedDetailsDescriptionTop",children:[k.jsxs("div",{className:"expandedDetailsDescriptionTopLeft",children:[k.jsx("h1",{className:"movieTitle",children:a.title}),k.jsx("p",{className:"movieGenre",children:a.genres[0].name}),k.jsx("div",{className:"rating",children:k.jsx(Cw,{rating:a.vote_average})})]}),k.jsx("div",{className:"expandedDetailsDescriptionTopRight",children:r&&k.jsx("div",{className:"watchListButton",onClick:()=>{p(a.id)},children:"watchList"})})]}),k.jsx("hr",{}),k.jsx("div",{className:"movieDescription",children:k.jsx("p",{children:a.overview})}),k.jsx("hr",{}),k.jsxs("div",{className:"movieDetails",children:[k.jsxs("p",{children:[k.jsx("strong",{children:"Release Date:"})," ",a.release_date]}),k.jsxs("p",{children:[k.jsx("strong",{children:"Director:"})," ",(y=c.crew.find(S=>S.job==="Director"))==null?void 0:y.name]}),k.jsxs("p",{children:[k.jsx("strong",{children:"Producer"})," ",(_=c.crew.find(S=>S.job==="Producer"))==null?void 0:_.name]}),k.jsxs("p",{children:[k.jsx("strong",{children:"Language"})," ",a.original_language]})]}),k.jsx("hr",{}),k.jsxs("div",{className:"movieCast",children:[k.jsx("p",{children:k.jsx("strong",{children:"Casts"})}),k.jsx(AV,{items:c.cast})]})]})]}):k.jsx("p",{children:"Loading..."})]})})}function Q3(e){const[t,n]=L.useState(!1),[r,a]=L.useState(!1);return L.useEffect(()=>{r?document.body.style.overflow="hidden":document.body.style.overflow="auto",console.log("showDetails",r)},[r]),k.jsxs(k.Fragment,{children:[k.jsxs(Wh.div,{className:"movieCard",whileHover:{scale:1.02,cursor:"pointer"},onHoverStart:()=>n(!0),onHoverEnd:()=>n(!1),style:{backgroundImage:`url(${e.image?`https://image.tmdb.org/t/p/w500${e.image}`:ox})`},transition:{duration:.3,ease:"easeInOut"},onClick:()=>{a(!0)},children:[t?k.jsx(Wh.div,{initial:{opacity:0,y:20},animate:{opacity:.9,y:0},className:"viewDetails",children:"view Details"}):"",k.jsxs(Wh.div,{className:"movieCardDescription",style:{background:t?"linear-gradient(to bottom, rgba(0, 0, 0, 0.3), rgba(0, 0, 0, 1))":"linear-gradient(to bottom, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.5))"},children:[k.jsxs("div",{className:"movieCardDescriptionText",children:[k.jsx("h3",{children:e.title}),k.jsx("p",{children:e.date.slice(0,4)})]}),k.jsxs("div",{className:"movieCardDescriptionRating",children:[k.jsx("div",{className:"star",children:""}),k.jsx("div",{className:"score",children:(e.rating/10*5).toFixed(1)})]})]})]}),r?k.jsx($3,{isDisableCard:e.isDisableCard,setShowmodal:a,movieId:e.id,showModal:r}):""]})}function eC(e){return k.jsx("div",{className:"background",style:{backgroundImage:`url(https://image.tmdb.org/t/p/original${e.image})`}})}function Ru(e){return L.useEffect(()=>{console.log(e.data,e.CategoryTitle)},[e.data]),k.jsxs("div",{className:"TrendingMovies",children:[k.jsx("h1",{children:e.CategoryTitle}),k.jsx("div",{className:"listContainer",children:e.data?e.data.results.map(t=>k.jsx(Q3,{isDisableCard:e.isDisableCard,title:t.title,image:t.poster_path,rating:t.vote_average,id:t.id,date:t.release_date},t.id)):"null"})]})}const X3=async()=>{try{await M9(ld),console.log("User signed out successfully")}catch(e){console.error("Error signing out: hi ",e)}};function W3(){const{isSignedUP:e}=hc(),t=jf(),n=()=>{X3().then(()=>{console.log("User signed out successfully"),t("/")}).catch(r=>{console.error("Error signing out:",r)})};return console.log("IsSignedUP:",e),k.jsxs(k.Fragment,{children:[k.jsxs("div",{className:"layout",children:[k.jsxs("h1",{children:["movie ",k.jsx("br",{})," Categorizer"]}),k.jsxs("nav",{children:[k.jsx("li",{children:k.jsx(Wr,{to:"/",children:"Home"})}),k.jsx("li",{children:k.jsx(Wr,{to:"/categories",children:"Categories"})}),!e&&k.jsx("li",{children:k.jsx(Wr,{to:"/signUp",children:"SignUp"})}),!e&&k.jsx("li",{children:k.jsx(Wr,{to:"/signIn",children:"SignIn"})}),e&&k.jsx(Wr,{to:"/watchList",children:"WatchList"}),e&&k.jsx("div",{className:"signOutButton",onClick:n,children:"signOut"})]})]}),k.jsx(YA,{})]})}const nC=()=>{const[e,t]=L.useState("");return k.jsxs("footer",{className:"footer",children:[k.jsxs("div",{className:"footer-container",children:[k.jsxs("div",{className:"footer-logo",children:[k.jsxs("span",{className:"logo-text",onClick:()=>{window.scrollTo({top:0,left:0,behavior:"smooth"}),setTimeout(()=>{window.location.reload()},700)},style:{cursor:"pointer"},children:["Movie ",k.jsx("br",{}),"Categorizer"]}),k.jsxs("div",{className:"social-icons",children:[k.jsx("a",{href:"#",className:"social-icon",children:k.jsx(qO,{fontSize:30})}),k.jsx("a",{href:"#",className:"social-icon",children:k.jsx(GO,{fontSize:30})}),k.jsx("a",{href:"#",className:"social-icon",children:k.jsx(KO,{fontSize:30})})]})]}),k.jsxs("div",{className:"footer-contact",children:[k.jsx("h4",{children:"CONTACT US"}),k.jsx("p",{children:k.jsx("a",{href:"mailto:fansurveys25@gmail.com",children:"movieCategory25@gmail.com"})}),k.jsx("p",{children:"Get details on all your favourite movies and shows, also see upcoming movies and top-rated movies"}),k.jsx("p",{children:k.jsx("a",{href:"tel:+12268833114",children:"+1 (226)-883-3114"})})]})]}),k.jsx("div",{className:"footer-bottom",children:k.jsxs("p",{children:[" 2025 ",k.jsx("span",{children:"MovieCatgorizer"}),". All rights reserved."]})})]})};function Z3(){const{data:e,loading:t}=ei(Gn.trendingMovies),{data:n}=ei(Gn.popularMovies),{data:r}=ei(Gn.topRatedMovies),[a,l]=L.useState(0),{isSignedUP:c}=hc();return L.useEffect(()=>{console.log(),setInterval(()=>{l(d=>(d+1)%20)},5e4)},[]),k.jsx(k.Fragment,{children:t?k.jsx("p",{children:"Loading..."}):k.jsxs("div",{className:"home",children:[k.jsxs("div",{className:"homeContainer",children:[k.jsx(eC,{image:e.results[a].backdrop_path}),k.jsxs("div",{className:"HeroDetail",children:[k.jsx("h1",{className:"HeroMovieTitle",children:e.results[a].title}),k.jsx("p",{children:"watch movies online"}),k.jsx(Cw,{rating:e.results[a].vote_average}),k.jsx("div",{className:"genre",children:"Thriller"})]}),k.jsx(Ru,{CategoryTitle:"trending movies",isDisableCard:!0,data:e}),k.jsx(Ru,{CategoryTitle:"popular movies",isDisableCard:!0,data:n}),k.jsx(Ru,{CategoryTitle:"top-rated movies",isDisableCard:!0,data:r})]}),k.jsx(nC,{})]})})}function J3({CategoryName:e}){const t=["linear-gradient(180deg, rgba(253, 177, 0, 0.3) 0%, rgba(48, 34, 1, 0.1) 100%)","linear-gradient(180deg, rgba(0, 115, 255, 0.3) 0%, rgba(2, 18, 53, 0.1) 100%)","linear-gradient(180deg, rgba(144, 0, 255, 0.3) 0%, rgba(30, 1, 48, 0.1) 100%)"];return k.jsx(Wh.div,{className:"categoriesCard",style:{background:t[Math.floor(Math.random()*t.length)]},whileHover:{scale:1.02,cursor:"pointer"},children:k.jsx("p",{children:e})})}function t6(){const{data:e,loading:t}=ei(Gn.genres);return k.jsx("div",{className:"genreList",children:t?k.jsx("p",{children:"Loading..."}):e.genres.map((n,r)=>k.jsx(Wr,{to:`/categories/${n.id}`,children:k.jsx(J3,{CategoryName:n.name})},r))})}function e6(){const{data:e,loading:t}=ei(Gn.trendingMovies);return k.jsx(k.Fragment,{children:t?"null":k.jsxs(k.Fragment,{children:[k.jsxs("div",{className:"categoriesPage",children:[k.jsx(eC,{image:e.results[0].backdrop_path}),k.jsx("h1",{style:{color:"white"},children:"Movie Genres"}),k.jsx(YA,{})]}),k.jsx(nC,{})]})})}function n6(){const[e,t]=L.useState(""),[n,r]=L.useState(""),[a,l]=L.useState(""),[c,d]=L.useState(""),m=jf(),{isSignedUP:p}=hc(),{data:y}=ei(Gn.trendingMovies);L.useEffect(()=>{console.log("isSignedUP:",p)},[p]);const _=async w=>{w.preventDefault(),d("");try{const B=(await C9(ld,n,a)).user;console.log("User created:",B),m("/")}catch(C){console.error(C),d(C.message)}},S=()=>{m("/signIn")};return k.jsxs("div",{className:"signUp",children:[k.jsx("div",{className:"signUpImage",style:{backgroundImage:`url(https://image.tmdb.org/t/p/original${y?y.results[0].backdrop_path:""})`}}),k.jsxs("div",{className:"signUpForm",children:[k.jsx("h1",{children:"Sign Up"}),k.jsx("p",{children:"Welcome to our movie streaming platform!"}),k.jsxs("form",{onSubmit:_,children:[k.jsx("input",{type:"text",placeholder:"Username",value:e,onChange:w=>t(w.target.value)}),k.jsx("input",{type:"email",placeholder:"Email",value:n,onChange:w=>r(w.target.value)}),k.jsx("input",{type:"password",placeholder:"Password",value:a,onChange:w=>l(w.target.value)}),k.jsx("button",{type:"submit",children:"Sign Up"}),c&&k.jsx("p",{className:"error",children:c})]}),k.jsx("div",{children:k.jsxs("p",{children:["already have an account ",k.jsx("span",{onClick:S,style:{color:"#ffcc00",cursor:"pointer"},children:"signIn"})]})})]})]})}const i6=async e=>{const t=l1(J1,"users",e),n=await SU(t);return n.exists()?n.data().watchlist:(console.log("No such document!"),[])};function r6(){const[e,t]=L.useState([]),[n,r]=L.useState([]),[a,l]=L.useState({results:[]}),[c,d]=L.useState(!0),{user:m}=hc();return L.useEffect(()=>{m&&i6(m.uid).then(p=>{t(p);const y=p.map(_=>fetch(Gn.movieDetails(_)).then(S=>S.json()));return Promise.all(y)}).then(p=>{console.log("Movie data:",p),r(p),d(!1),console.log(a)}).catch(p=>{console.error("Error fetching watchlist movies:",p),d(!1)})},[]),L.useEffect(()=>{n.length>0&&console.log("Movies:",n)},[n]),k.jsx(k.Fragment,{children:k.jsxs("div",{className:"watch-list",children:[c&&k.jsx("p",{children:"Loading movies..."}),!c&&n.length===0&&k.jsx("p",{children:"No movies in your watch list."}),k.jsx("div",{className:"movie-grid",children:k.jsx(Ru,{isDisableCard:!1,CategoryTitle:"my movies",data:{results:n}})})]})})}function s6(){const[e,t]=L.useState(""),[n,r]=L.useState(""),[a,l]=L.useState(""),c=jf(),{data:d}=ei(Gn.trendingMovies),m=async y=>{y.preventDefault(),l("");try{const _=await I9(ld,e,n);console.log("Signed in:",_.user),c("/")}catch(_){console.error("Sign-in error:",_.message),l(_.message)}},p=()=>{c("/signUp")};return k.jsxs("div",{className:"signIn",children:[k.jsx("div",{className:"signInImage",style:{backgroundImage:`url(https://image.tmdb.org/t/p/original${d?d.results[0].backdrop_path:""})`}}),k.jsxs("div",{className:"signInForm",children:[k.jsx("h1",{children:"Sign In"}),k.jsxs("form",{onSubmit:m,children:[k.jsx("input",{type:"text",placeholder:"Email",value:e,onChange:y=>t(y.target.value)}),k.jsx("input",{type:"password",placeholder:"Password",value:n,onChange:y=>r(y.target.value)}),k.jsx("button",{type:"submit",children:"Sign In"}),a&&k.jsx("p",{className:"error",children:a})]}),k.jsx("div",{children:k.jsxs("p",{children:["don't have an account ",k.jsx("span",{onClick:p,style:{color:"#ffcc00",cursor:"pointer"},children:"signUp"})]})})]})]})}function a6({genreId:e,genreName:t}){const{data:n,loading:r,error:a}=ei(Gn.discoverByGenre(e));return r?k.jsx("p",{children:"Loading..."}):a?k.jsxs("p",{children:["Error: ",a.message]}):n?k.jsx(Ru,{CategoryTitle:t,data:n}):null}function o6(){const{data:e,loading:t}=ei(Gn.genres);return k.jsx(ID,{children:k.jsxs(Ti,{path:"/",element:k.jsx(W3,{}),children:[k.jsx(Ti,{index:!0,element:k.jsx(Z3,{})}),k.jsxs(Ti,{path:"categories",element:k.jsx(e6,{}),children:[k.jsx(Ti,{index:!0,element:k.jsx(t6,{})}),!t&&e.genres.map((n,r)=>k.jsx(Ti,{path:`${n.id}`,element:k.jsx(a6,{genreId:n.id,genreName:n.name})},r))]}),k.jsx(Ti,{path:"signUp",element:k.jsx(n6,{})}),k.jsx(Ti,{path:"signIn",element:k.jsx(s6,{})}),k.jsx(Ti,{path:"*",element:k.jsx("p",{children:"Page not found"})}),k.jsx(Ti,{path:"watchList",element:k.jsx(r6,{})})]})})}LI.createRoot(document.getElementById("root")).render(k.jsx(L.StrictMode,{children:k.jsx(Y3,{children:k.jsx(WD,{basename:"/movieCatgeoryApp",children:k.jsx(o6,{})})})}));
